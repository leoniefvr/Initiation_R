<!DOCTYPE html>
<html lang="en"><head>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/tabby.min.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.450">

  <title>Formation R - Prise en main des donn√©es avec R</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="site_libs/revealjs/dist/theme/quarto.css">
  <link href="site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Prise en main des donn√©es avec R</h1>

<div class="quarto-title-authors">
</div>

</section>
<section id="un-rapide-tour-de-table-pour-apprendre-√†-se-conna√Ætre" class="slide level2">
<h2>Un rapide tour de table pour apprendre √† se conna√Ætre üôÇ</h2>

<img data-src="images/picture_1.jpg" class="r-stretch quarto-figure-center"></section>
<section id="pourquoi-r" class="slide level2 scrollable smaller">
<h2>Pourquoi R ?</h2>
<p><br></p>
<div>
<ul>
<li class="fragment">‚≠ê Open source et gratuit ‚≠ê</li>
<li class="fragment">üåê Harmonisation des langages au sein du SSP üåê</li>
<li class="fragment">üìà Analyse statistique avanc√©e üìà</li>
<li class="fragment">üå≥ Vaste √©cosyst√®me : extensions appel√©es ‚Äúpackages‚Äù (environ 20 000) üå≥</li>
<li class="fragment">ü§ù Communaut√© importante : facilit√©s pour trouver de l‚Äôaide ü§ù</li>
</ul>
</div>
</section>
<section id="fonctionnement-de-r" class="slide level2 scrollable smaller">
<h2>Fonctionnement de R</h2>
<p><br></p>
<ul>
<li><p>R est un environnement et un langage de programmation</p></li>
<li><p><strong>Langage interpr√©t√©</strong> : plus proche de notre langage que du langage machine</p></li>
<li><p><strong>Langage compil√©</strong> : les commandes tap√©es sont ex√©cut√©es directement</p></li>
<li><p><strong>Langage objet</strong> : on assigne une valeur √† quelque chose (<code>a &lt;- 1</code>). Le symbole <code>&lt;-</code> d√©signe l‚Äôassignation. Les objets sont pr√©sents dans la m√©moire vive de l‚Äôordinateur (RAM) et l‚Äôassignation est une mani√®re d‚Äôy avoir acc√®s.</p></li>
</ul>
<p>‚õî<strong>Attention :</strong> le symbole <code>=</code> permet √©galement l‚Äôassignation, mais c‚Äôest une tr√®s mauvaise pratique de l‚Äôutiliser comme tel. Le symbole <code>=</code> est utilis√© de pr√©f√©rence pour renseigner la valeur des arguments des fonctions dans R. Vous pourrez n√©anmoins le rencontrer parfois comme mani√®re d‚Äôassigner. ‚õî</p>
</section>
<section id="les-sp√©cificit√©s-de-r" class="slide level2 scrollable smaller">
<h2>Les sp√©cificit√©s de R</h2>
<p><br></p>
<p>Toutes les op√©rations sont enregistr√©es dans la m√©moire vive de l‚Äôordinateur (RAM) :</p>
<ul>
<li><p>Cela peut poser des probl√®mes lors de la manipulation de donn√©es volumineuses.</p></li>
<li><p>En SAS, la m√©moire RAM est sollicit√©e au minimum, des fichiers temporaires sont cr√©√©s.</p>
<table>
<colgroup>
<col style="width: 100%">
</colgroup>
<tbody>
<tr class="odd">
<td>‚õîImpossible de charger des donn√©es de 50GO avec un ordinateur ayant 32GO de RAM ‚õî</td>
</tr>
</tbody>
</table>
<p><strong>Attention :</strong> R distingue les minuscules et les majuscules</p></li>
</ul>
</section>
<section>
<section id="pr√©sentation-de-rstudio" class="title-slide slide level1 scrollable center">
<h1>Pr√©sentation de RStudio</h1>
<p>RStudio est un environnement de d√©veloppement gratuit, libre et multiplateforme pour R, un langage de programmation utilis√© pour le traitement de donn√©es et l‚Äôanalyse statistique.</p>
</section>
<section id="la-console" class="slide level2 scrollable smaller">
<h2>La console</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>La <strong>console</strong> est un peu comme une calculatrice, elle ex√©cute mais <strong>ne stocke pas</strong> :</p>
<ul>
<li><p>Entrer les commandes</p></li>
<li><p>Afficher les r√©sultats</p></li>
<li><p>Afficher les messages d‚Äôerreur</p></li>
<li><p>Ne stocke pas d‚Äôinformation</p></li>
</ul>
<p><br></p>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1">Code</a></li><li><a href="#tabset-1-2">R√©sultat</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="dv">152</span><span class="sc">/</span><span class="dv">17</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-1-2">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 8.941176</code></pre>
</div>
</div>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<p><img data-src="images/console_R.jpeg"></p>
</div>
</div>
</section>
<section id="lenvironnement" class="slide level2 scrollable smaller">
<h2>L‚Äôenvironnement :</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><br></p>
<ul>
<li>Etat de la m√©moire <br></li>
<li>R√©pertoire des donn√©es (stockage des objets) <br></li>
<li>Import de donn√©es en mode ‚Äúclic-bouton‚Äù</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>test_environnement <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">+</span><span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<p><img data-src="images/console_R.jpeg"></p>
</div>
</div>
</section>
<section id="files-packages-help" class="slide level2 scrollable smaller">
<h2>Files, packages, help ‚Ä¶</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="panel-tabset">
<ul id="tabset-2" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-2-1">Files</a></li><li><a href="#tabset-2-2">Plots</a></li><li><a href="#tabset-2-3">Packages</a></li><li><a href="#tabset-2-4">Help</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1">
<p><br></p>
<p>Obtenir le chemin √† la racine de ma working directory :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="fu">getwd</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<p>La working directory est l‚Äôendroit o√π R lit et exporte par d√©faut les fichiers.</p>
</div>
<div id="tabset-2-2">
<p><br></p>
<p>Fen√™tre d‚Äôaffichage des graphiques :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="fu">plot</span>(<span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-2-3">
<p><br></p>
<p>Permet de voir les packages install√©s et charg√©s.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="fu">library</span>(<span class="st">"existepas"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Permet √©galement de les installer, les mettre √† jour et les charger en clic bouton.</p>
</div>
<div id="tabset-2-4">
<p><br></p>
<p>Permet d‚Äôacc√©der √† la documentation des fonctions, ainsi qu‚Äô√† des exemples. Par exemple, je ne comprends pas la fonction <code>mean()</code> :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="fu">help</span>(<span class="st">"mean"</span>)</span>
<span id="cb7-2"><a href="#cb7-2"></a></span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="co">#ou</span></span>
<span id="cb7-4"><a href="#cb7-4"></a></span>
<span id="cb7-5"><a href="#cb7-5"></a>?mean</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>La documentation de la fonction s‚Äôaffiche dans la fen√™tre Help.</p>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<p><img data-src="images/console_R.jpeg"></p>
</div>
</div>
</section>
<section id="utiliser-laide" class="slide level2 scrollable smaller">
<h2>Utiliser l‚Äôaide</h2>
<p><br></p>
<p>Les fonctions des packages sont document√©es (de mani√®re in√©gale selon les packages‚Ä¶), et les <strong>arguments</strong> principaux de chaque fonction sont pr√©sent√©s dans l‚Äôaide, avec des exemples d‚Äôappel de la fonction.</p>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Bonne pratique</strong></p>
</div>
<div class="callout-content">
<p>Lorsqu‚Äôon appelle une fonction dans R, R d√©tecte souvent automatiquement les arguments sans qu‚Äôon ait besoin de les nommer explicitement. Pour des raisons de lisibilit√© du code, il est recommand√© de les <strong>nommer</strong> syst√©matiquement.</p>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>un_vecteur <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span> ,<span class="dv">9</span> , <span class="dv">45</span>, <span class="dv">10</span>)</span>
<span id="cb8-2"><a href="#cb8-2"></a></span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="do">###Bonne pratique###</span></span>
<span id="cb8-4"><a href="#cb8-4"></a><span class="fu">mean</span>(<span class="at">x =</span> un_vecteur)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 13.8</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="do">###Mauvaise pratique###</span></span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="fu">mean</span>(un_vecteur)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 13.8</code></pre>
</div>
</div>
</section>
<section id="limportance-des-packages" class="slide level2 scrollable smaller">
<h2>L‚Äôimportance des packages</h2>
<p>Pour installer un package <strong>dans la console</strong>, on utilise :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="fu">install.packages</span>(<span class="st">"dplyr"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Bonne pratique</strong></p>
</div>
<div class="callout-content">
<p>Ne pas laisser dans un script R (un fichier de code) l‚Äôinstruction <code>install.packages()</code>, car lors de la transmission d‚Äôun script, la personne peut l‚Äôex√©cuter par erreur alors que le package est d√©j√† install√©/√† jour sur son poste de travail.</p>
</div>
</div>
</div>
<p>Cela permet de charger (ou mettre √† jour) le package sur disque, depuis le <strong>CRAN</strong>. cette instruction n√©cessite donc une connexion √† internet.</p>
<p>On charge ensuite le package en m√©moire vive :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="fu">library</span>(<span class="st">"dplyr"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p>L‚Äôinstallation du package n‚Äôest √† ex√©cuter <strong>qu‚Äôune seule fois</strong></p></li>
<li><p><code>install.packages()</code> permet aussi de r√©cup√©rer une version mise √† jour disponible sur le CRAN</p></li>
<li><p>Le chargement en m√©moire vive (avec <code>library()</code>) doit √™tre effectu√© au d√©but de chaque session ouverte de R pour avoir acc√®s aux fonctionnalit√©s du package.</p></li>
</ul>
<div class="callout callout-warning callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Warning</strong></p>
</div>
<div class="callout-content">
<p>‚õî Il existe un grand nombre de packages, mais certains sont <strong>DEPRECATED</strong> : leur utilisation n‚Äôest plus recommand√©e car ils ne sont plus mis √† jour et entretenus. Pour assurer la p√©rennit√© d‚Äôun programme, (cha√Æne de production), il est recommand√© de n‚Äôutiliser que des packages largemment utilis√©s, r√©guli√®rement mis √† jour et recommand√© par la communaut√© (sur UtilitR par exemple).‚õî</p>
</div>
</div>
</div>
</section>
<section id="travailler-avec-les-projets-r-studio-quest-ce-que-cest" class="slide level2 scrollable smaller">
<h2>Travailler avec les projets R Studio : qu‚Äôest-ce que c‚Äôest ?</h2>
<p>Il est recommand√© de regrouper les scripts et autres fichiers relatifs √† un m√™me ‚Äúprojet statistique‚Äù ou √† une m√™me cha√Æne de production √† l‚Äôaide d‚Äôun projet RStudio.</p>
<p>Un <strong>projet RStudio</strong> permet de :</p>
<ul>
<li><p><strong>regrouper</strong> les programmes et autres types de documents d‚Äôun m√™me projet ensemble ;</p></li>
<li><p>faciliter le <strong>suivi des modifcations</strong>, notamment avec git ;</p></li>
<li><p>favoriser la <strong>reproductibilit√©</strong> et la transmission des r√©glages li√©s √† un projet statistique.</p></li>
</ul>
<p>En pratique, c‚Äôest un fichier <code>.Rproj</code> dans un dossier qui contient les programmes et les documents d‚Äôun m√™me projet statistique.</p>
</section>
<section id="travailler-avec-les-projets-r-studio-pourquoi" class="slide level2 scrollable smaller">
<h2>Travailler avec les projets R Studio : pourquoi ?</h2>
<p>Il est recommand√© de travailler syst√©matiquement avec les projets RStudio. Un projet RStudio :</p>
<ul>
<li><p><strong>centralise</strong> les √©l√©ments d‚Äôun projet statistique et permet d‚Äôy avoir acc√®s plus facilement avec les <strong>chemins relatifs</strong> : dans un programme, pour faire r√©f√©rence √† un document du projet RStudio, il suffit de renseigner son nom car le r√©pertoire de travail par d√©faut d‚Äôun projet est le dossier o√π se situe le fichier <code>.Rproj</code>.</p></li>
<li><p><strong>am√©liore le travail collaboratif</strong> : le principe des chemins relatifs rend le projet statistique ind√©pendant de l‚Äôarborescence de la machine sur laquelle il est h√©berg√©, et permet de d√©placer les fichiers plus facilement.</p></li>
<li><p><strong>favorise la</strong> <strong>reproductibilit√©</strong> du projet statistique (ou de d√©veloppement, d‚Äôun package par exemple). Il facilite √©galement le travail avec <strong>Git</strong>. Il est facile de relier un projet RStudio √† git pour travailler collaborativement.</p></li>
</ul>
</section>
<section id="cr√©er-un-projet" class="slide level2 scrollable smaller">
<h2>Cr√©er un projet</h2>
<div class="columns">
<div class="column" style="width:30%;">
<p>Pour cr√©er un projet sur RStudio :</p>
<ul>
<li><p><code>File &gt; New project</code></p></li>
<li><p>Il est possible de le cr√©er dans un nouveau dossier vide <code>New directory</code> ou dans un dossier existant <code>Existing directory</code>.</p></li>
<li><p>Il est √©galement possible de le relier directement √† git <code>Version Control</code>.</p></li>
</ul>
</div><div class="column" style="width:60%;">
<div class="r-stack">
<p><img data-src="images/creer_projet_rstudio.png" class="fragment" width="550" height="400"></p>
<p><img data-src="images/new_project_2.png" class="fragment" width="550" height="400"></p>
<p><img data-src="images/new_project_3.png" class="fragment" width="550" height="400"></p>
</div>
</div>
</div>
</section>
<section id="ouvrir-un-projet-source-utilitr" class="slide level2 scrollable smaller">
<h2>Ouvrir un projet (source : UtilitR)</h2>
<p><br></p>
<p>Lorsqu‚Äôon ouvre un projet RStudio :</p>
<ul>
<li><p>une nouvelle session R s‚Äôouvre ;</p></li>
<li><p>les sauvegardes de l‚Äôenvironnement sont ouvertes √† partir du fichier <code>.RData</code> si l‚Äôenregistrement a √©t√© activ√© (d√©conseill√©) ;</p></li>
<li><p>la working directory est automatiquement d√©finie dans le dossier o√π se trouve le fichier <code>.Rproj</code> ;</p></li>
<li><p>les documents ouverts au moment o√π le projet a √©t√© ferm√© pour la derni√®re fois sont restaur√©s, m√™me s‚Äôils n‚Äôavaient pas √©t√© sauv√©s.</p></li>
</ul>
</section>
<section id="fermer-un-projet-voir-utilitr" class="slide level2 scrollable smaller">
<h2>Fermer un projet (voir UtilitR)</h2>
<p><br></p>
<p>D‚Äôapr√®s la <a href="https://www.book.utilitr.org/03_fiches_thematiques/fiche_rprojects">documentation UtilitR sur les bonnes pratiques</a> :</p>
<p>Il est fortement conseill√© de d√©sactiver la sauvegarde du fichier <code>.RData</code> √† la fermeture du projet. Pour ce faire, il faut aller dans <code>Tools &gt; Global Options</code> et rester dans l‚Äôonglet General. Chercher <code>Save workspace to .RData on exit:</code>, et choisir l‚Äôoption Never.</p>
<p>::: {.callout-tip title=‚ÄúBonne pratique‚Äù} Sauvegarder et recharger les donn√©es du projet avec le fichier <code>.RData</code> est une <strong>tr√®s mauvaise pratique</strong> en termes de reproductibilit√©. En effet, il se peut que les donn√©es sauvegard√©es dans le <code>.RData</code> aient subi des modifications non document√©es (par exemple via la console), ou que les instructions pr√©sentes dans les scripts du projet n‚Äôaient pas √©t√© ex√©cut√©es dans l‚Äôordre. Dans ce cas, les donn√©es contenues dans le <code>.RData</code> peuvent ne pas √™tre coh√©rentes avec le projet, et en les utilisant vous risquez de ne pas obtenir les r√©sultats que vous voulez. :::</p>
</section>
<section id="fermer-un-projet-voir-utilitr-1" class="slide level2 scrollable smaller">
<h2>Fermer un projet (voir UtilitR)</h2>
<div class="r-stack">
<p><img data-src="images/new_script.png" class="fragment" width="550" height="400"></p>
<p><img data-src="images/close_project_1.png" class="fragment" width="550" height="400"></p>
<p><img data-src="images/close_project_2.png" class="fragment" width="550" height="400"></p>
<p><img data-src="images/close_project_3.png" class="fragment" width="550" height="400"></p>
</div>
</section>
<section id="r√©diger-un-programme-r-les-bonnes-pratiques" class="slide level2 scrollable smaller">
<h2>R√©diger un programme R : les bonnes pratiques</h2>
<p><br></p>
<p>Comme nous l‚Äôavons vu, la console ne permet pas de stocker un programme. Pour r√©diger un programme r√©plicable, il faut cr√©er un <strong>script R</strong> (fichier <code>.R</code>).</p>
<p>Cette formation vise √† vous proposer quelques bonnes pratiques qui permettent la transmission des programmes R, notamment ceux des cha√Ænes de production.</p>
<p>Ces bonnes pratiques sont inspir√©es de <a href="https://www.pratiques.utilitr.org/boite-%C3%A0-outils.html">Chapitre 5 Boite √† outils | Guide des bonnes pratiques en R √† l‚Äôusage des statisticiens publics (utilitr.org)</a>.</p>
</section>
<section id="r√©diger-un-programme-r-les-bonnes-pratiques-1" class="slide level2 scrollable smaller">
<h2>R√©diger un programme R : les bonnes pratiques</h2>
<div class="panel-tabset">
<ul id="tabset-3" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-3-1">Nom</a></li><li><a href="#tabset-3-2">Espace et indentation</a></li><li><a href="#tabset-3-3">Commentaire</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1">
<ul>
<li><p>Le <strong>nom des scripts R</strong> (fichiers .R) peut √™tre pr√©fix√© par sa <strong>position dans la cha√Æne de production</strong>.</p></li>
<li><p>Le nom des scripts R peut √™tre suffix√© par le <strong>mill√©sime de la production</strong>, en cas de changement par rapport √† la derni√®re production et surtout en l‚Äôabsence de versionage (git).</p></li>
<li><p>Il est pr√©f√©rable que le nom des objets (script, variable dans le programme, tableau de donn√©es‚Ä¶) ne contiennent <strong>pas de caract√®res sp√©ciaux, d‚Äôaccent</strong> et que les mots soient s√©par√©s par des <strong>underscores</strong>.</p></li>
<li><p>Pour le nom des variables et tables manipul√©es dans le code, il est recommand√© d‚Äôutiliser des <strong>substantifs informatifs</strong>.</p></li>
<li><p>Dans l‚Äôappel d‚Äôune <strong>fonction</strong>, il est recommand√© de <strong>nommer les arguments</strong> sp√©cifi√©s explicitement, pour favoriser la r√©plicabilit√© et la compr√©hension pour le lecteur.</p></li>
</ul>
</div>
<div id="tabset-3-2">
<ul>
<li><p>Il est recommand√© de retourner r√©guli√®rement √† la ligne pour rendre le code plus lisible.</p></li>
<li><p>L‚Äô<strong>indentation</strong> n‚Äôest pas automatique en R (contrairement √† Python), il est recommand√© d‚Äôindenter le code pour am√©liorer sa lisibilit√©. Le raccourci <code>CTRL + I</code> permet de r√©indenter une s√©lection de lignes.</p></li>
<li><p>Il est recommand√© d‚Äôins√©rer des espaces entre les op√©rateurs : assignation <code>&lt;-</code> ; comparaison <code>&lt;</code> <code>&gt;</code> <code>&lt;=</code> <code>&gt;=</code> <code>==</code> <code>!=</code> ; op√©rations <code>+</code> <code>-</code> <code>=</code>.</p></li>
<li><p>Pas d‚Äôespace avant ou apr√®s les parenth√®ses et crochets.</p></li>
</ul>
</div>
<div id="tabset-3-3">
<ul>
<li><p>Il est recommand√© de <strong>commenter</strong> le code. Un commentaire d√©bute par <code>#</code> et se termine √† la fin de la ligne, contrairement √† SAS o√π il est possible d‚Äôencadrer du texte pour le commenter enti√®rement.</p></li>
<li><p>Le commentaire doit √™tre clair et relativement court : il est pr√©f√©rable de bien nommer les objets de mani√®re informative, ainsi que les arguments des fonctions.</p></li>
<li><p>Le script peut comporter des parties d√©limit√©es par des titres en commentaires.</p></li>
</ul>
</div>
</div>
</div>
</section>
<section id="importer-des-donn√©es" class="slide level2 scrollable smaller">
<h2>Importer des donn√©es</h2>
<div class="panel-tabset">
<ul id="tabset-4" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-4-1">Importer un fichier csv</a></li><li><a href="#tabset-4-2">Importer un fichier Excel</a></li><li><a href="#tabset-4-3">Importer un fichier Sas</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>EEC_2019 <span class="ot">&lt;-</span> <span class="fu">read.csv2</span>(<span class="st">"FD_EEC_2019.csv"</span>, </span>
<span id="cb14-2"><a href="#cb14-2"></a>               <span class="at">header =</span> <span class="cn">TRUE</span>, </span>
<span id="cb14-3"><a href="#cb14-3"></a>               <span class="at">sep =</span> <span class="st">";"</span>, </span>
<span id="cb14-4"><a href="#cb14-4"></a>               <span class="at">quote =</span> <span class="st">"</span><span class="sc">\"</span><span class="st">"</span>, </span>
<span id="cb14-5"><a href="#cb14-5"></a>               <span class="at">dec =</span> <span class="st">"."</span>, </span>
<span id="cb14-6"><a href="#cb14-6"></a>               <span class="at">fill =</span> <span class="cn">TRUE</span>, </span>
<span id="cb14-7"><a href="#cb14-7"></a>               <span class="at">comment.char =</span> <span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="fu">head</span>(EEC_2019, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  ANNEE TRIM CATAU2010R METRODOM TYPMEN7 AGE3 AGE5 COURED ENFRED NFRRED SEXE
1  2019    1          1        1       1   50   60      2      2      1    2
2  2019    2          1        1       3   50   60      1      2      1    1
3  2019    2          1        1       3   50   60      1      2      1    2
4  2019    3          1        1       3   50   60      1      2      1    1
5  2019    3          1        1       3   50   60      1      2      1    2
  ACTEU ACTEU6 ACTIF ACTOP AIDFAM ANCCHOM ANCINACT CONTACT CREACCP DEM DISPOC
1     3      6     2     2     NA      NA       NA      NA      NA   0     NA
2     1      1     1     1     NA      NA       NA      NA      NA   0     NA
3     3      6     2     2      2      NA        8      NA      NA   0     NA
4     1      1     1     1     NA      NA       NA      NA      NA   0     NA
5     3      6     2     2      2      NA        8      NA      NA   0     NA
  GARDEB HALOR INSCONT MRA MRB MRBBIS MRC MRD MRDBIS MRE MREC MRF MRG MRGBIS
1     NA     2      NA  NA  NA     NA  NA  NA     NA  NA   NA  NA  NA     NA
2     NA     2      NA  NA  NA     NA  NA  NA     NA  NA   NA  NA  NA     NA
3     NA     2      NA  NA  NA     NA  NA  NA     NA  NA    2  NA  NA     NA
4     NA     2      NA  NA  NA     NA  NA  NA     NA  NA   NA  NA  NA     NA
5     NA     2      NA  NA  NA     NA  NA  NA     NA  NA    2  NA  NA     NA
  MRH MRI MRJ MRK MRL MRM MRN MRO MRPASSA MRPASSB MRPASSC MRS NONDIC NREC NRECA
1  NA  NA  NA  NA  NA  NA  NA  NA      NA      NA      NA  NA     NA   NA    NA
2  NA  NA  NA  NA  NA  NA  NA  NA      NA      NA      NA  NA     NA   NA    NA
3  NA  NA  NA  NA  NA  NA  NA  NA      NA      NA      NA  NA     NA   NA    NA
4  NA  NA  NA  NA  NA  NA  NA  NA      NA      NA      NA  NA     NA   NA    NA
5  NA  NA  NA  NA  NA  NA  NA  NA      NA      NA      NA  NA     NA   NA    NA
  NRECB OCCREF OFFICC OFFRE PASTRA PASTRB PASTRF PERCREV RABS RAISNREC RAISNSOU
1    NA      1     NA    NA     NA     NA     NA      NA   NA       NA       NA
2    NA      2     NA    NA     NA     NA     NA      NA   NA       NA       NA
3    NA      1     NA    NA      2      2      2      NA   NA       NA        5
4    NA      2     NA    NA      1     NA      1       1    8       NA       NA
5    NA      1     NA    NA      2      2      2      NA   NA       NA        5
  RAISPAS SOU SOUA SOUB SOUC SOUSEMPL STCHE TEMP TRAREF TYPCONT TYPCONTB CHPUB
1      NA  NA   NA   NA   NA       NA    NA    2     NA      NA       NA    NA
2      NA   2    2    2   NA       NA    NA   NA      1      NA       NA     1
3      NA   2   NA   NA    2       NA    NA   NA      2      NA       NA    NA
4      NA   2    2    2   NA        3    NA   NA      2      NA       NA     1
5      NA   2   NA   NA    2       NA    NA   NA      2      NA       NA    NA
  CSE CSER CSP CSTOT CSTOTR FONCTC NAFG004UN NAFG010UN NAFG017UN NAFG021UN
1  NA   NA  NA    86      8     NA                                        
2  64    6  64    64      6     NA        EU        FZ        FZ         F
3  NA   NA  NA    77      7     NA                                        
4  64    6  64    64      6     NA        EU        FZ        FZ         F
5  NA   NA  NA    77      7     NA                                        
  NAFG038UN NAFG088UN PUB3FP QPRC STC RDET STAT2 STATOEP STATUT STATUTR TITC
1                  NA     NA   NA  NA   NA    NA      NA     NA      NA   NA
2        FZ        43      4    9   3   NA     2      35     35       5   NA
3                  NA     NA   NA  NA   NA    NA      NA     NA      NA   NA
4        FZ        43      4    9   3   NA     2      35     35       5   NA
5                  NA     NA   NA  NA   NA    NA      NA     NA      NA   NA
  CSTMN CSTPLC DISPPLC DUHAB GARDEA HHC6 HORAIC RAISON RAISTP STMN STPLC TPPRED
1    NA     NA      NA    NA     NA   NA     NA     NA     NA   NA    NA     NA
2    NA     NA      NA     1     NA    1      3     NA      5    2     2      2
3    NA     NA      NA    NA     NA   NA     NA     NA     NA   NA    NA     NA
4    NA     NA      NA     1     NA    1      3     NA      5    2     2      2
5    NA     NA      NA    NA     NA   NA     NA     NA     NA   NA    NA     NA
  TXTPPRED ANCENTR4 SITANT AAC CSA NAFANT NAFANTG004N DIP11 CSTOTPRM IDENTM
1       NA       NA     NA   2   0      0          00    70       86      1
2        1        4      5  NA  NA     NA                50       64      2
3       NA       NA     NA   1  54     43          EU    70       64      2
4        1        4      5  NA  NA     NA                50       64      3
5       NA       NA     NA   1  54     43          EU    70       64      3
    EXTRIAN EMPNBH HREC HHCE HPLUSA JOURTR NBTOTE
1 107.74972     NA   NA   NA     NA     NA     NA
2  46.17385      1   NA    1     NA      1     NA
3  46.17385     NA   NA   NA     NA     NA     NA
4  44.32930      0   NA    1     NA      1     NA
5  44.32930     NA   NA   NA     NA     NA     NA</code></pre>
</div>
</div>
</div>
<div id="tabset-4-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="fu">library</span>(<span class="st">"openxlsx"</span>)</span>
<span id="cb17-2"><a href="#cb17-2"></a></span>
<span id="cb17-3"><a href="#cb17-3"></a>EEC_excel <span class="ot">&lt;-</span> <span class="fu">read.xlsx</span>(<span class="st">"FD_EEC_2019.xlsx"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="fu">head</span>(EEC_excel, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  ANNEE TRIM CATAU2010R METRODOM TYPMEN7 AGE3 AGE5 COURED ENFRED NFRRED SEXE
1  2019    1          1        1       1   50   60      2      2      1    2
2  2019    2          1        1       3   50   60      1      2      1    1
3  2019    2          1        1       3   50   60      1      2      1    2
4  2019    3          1        1       3   50   60      1      2      1    1
5  2019    3          1        1       3   50   60      1      2      1    2
  ACTEU ACTEU6 ACTIF ACTOP AIDFAM ANCCHOM ANCINACT CONTACT CREACCP DEM DISPOC
1     3      6     2     2     NA      NA       NA      NA      NA   0     NA
2     1      1     1     1     NA      NA       NA      NA      NA   0     NA
3     3      6     2     2      2      NA        8      NA      NA   0     NA
4     1      1     1     1     NA      NA       NA      NA      NA   0     NA
5     3      6     2     2      2      NA        8      NA      NA   0     NA
  GARDEB HALOR INSCONT MRA MRB MRBBIS MRC MRD MRDBIS MRE MREC MRF MRG MRGBIS
1     NA     2      NA  NA  NA     NA  NA  NA     NA  NA   NA  NA  NA     NA
2     NA     2      NA  NA  NA     NA  NA  NA     NA  NA   NA  NA  NA     NA
3     NA     2      NA  NA  NA     NA  NA  NA     NA  NA    2  NA  NA     NA
4     NA     2      NA  NA  NA     NA  NA  NA     NA  NA   NA  NA  NA     NA
5     NA     2      NA  NA  NA     NA  NA  NA     NA  NA    2  NA  NA     NA
  MRH MRI MRJ MRK MRL MRM MRN MRO MRPASSA MRPASSB MRPASSC MRS NONDIC NREC NRECA
1  NA  NA  NA  NA  NA  NA  NA  NA      NA      NA      NA  NA     NA   NA    NA
2  NA  NA  NA  NA  NA  NA  NA  NA      NA      NA      NA  NA     NA   NA    NA
3  NA  NA  NA  NA  NA  NA  NA  NA      NA      NA      NA  NA     NA   NA    NA
4  NA  NA  NA  NA  NA  NA  NA  NA      NA      NA      NA  NA     NA   NA    NA
5  NA  NA  NA  NA  NA  NA  NA  NA      NA      NA      NA  NA     NA   NA    NA
  NRECB OCCREF OFFICC OFFRE PASTRA PASTRB PASTRF PERCREV RABS RAISNREC RAISNSOU
1    NA      1     NA    NA     NA     NA     NA      NA   NA       NA       NA
2    NA      2     NA    NA     NA     NA     NA      NA   NA       NA       NA
3    NA      1     NA    NA      2      2      2      NA   NA       NA        5
4    NA      2     NA    NA      1     NA      1       1    8       NA       NA
5    NA      1     NA    NA      2      2      2      NA   NA       NA        5
  RAISPAS SOU SOUA SOUB SOUC SOUSEMPL STCHE TEMP TRAREF TYPCONT TYPCONTB CHPUB
1      NA  NA   NA   NA   NA       NA    NA    2     NA      NA       NA    NA
2      NA   2    2    2   NA       NA    NA   NA      1      NA       NA     1
3      NA   2   NA   NA    2       NA    NA   NA      2      NA       NA    NA
4      NA   2    2    2   NA        3    NA   NA      2      NA       NA     1
5      NA   2   NA   NA    2       NA    NA   NA      2      NA       NA    NA
  CSE CSER CSP CSTOT CSTOTR FONCTC NAFG004UN NAFG010UN NAFG017UN NAFG021UN
1  NA   NA  NA    86      8     NA      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;
2  64    6  64    64      6     NA        EU        FZ        FZ         F
3  NA   NA  NA    77      7     NA      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;
4  64    6  64    64      6     NA        EU        FZ        FZ         F
5  NA   NA  NA    77      7     NA      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;
  NAFG038UN NAFG088UN PUB3FP QPRC STC RDET STAT2 STATOEP STATUT STATUTR TITC
1      &lt;NA&gt;        NA     NA   NA  NA   NA    NA      NA     NA      NA   NA
2        FZ        43      4    9   3   NA     2      35     35       5   NA
3      &lt;NA&gt;        NA     NA   NA  NA   NA    NA      NA     NA      NA   NA
4        FZ        43      4    9   3   NA     2      35     35       5   NA
5      &lt;NA&gt;        NA     NA   NA  NA   NA    NA      NA     NA      NA   NA
  CSTMN CSTPLC DISPPLC DUHAB GARDEA HHC6 HORAIC RAISON RAISTP STMN STPLC TPPRED
1    NA     NA      NA    NA     NA   NA     NA     NA     NA   NA    NA     NA
2    NA     NA      NA     1     NA    1      3     NA      5    2     2      2
3    NA     NA      NA    NA     NA   NA     NA     NA     NA   NA    NA     NA
4    NA     NA      NA     1     NA    1      3     NA      5    2     2      2
5    NA     NA      NA    NA     NA   NA     NA     NA     NA   NA    NA     NA
  TXTPPRED ANCENTR4 SITANT AAC CSA NAFANT NAFANTG004N DIP11 CSTOTPRM IDENTM
1       NA       NA     NA   2   0      0           0    70       86      1
2        1        4      5  NA  NA     NA        &lt;NA&gt;    50       64      2
3       NA       NA     NA   1  54     43          EU    70       64      2
4        1        4      5  NA  NA     NA        &lt;NA&gt;    50       64      3
5       NA       NA     NA   1  54     43          EU    70       64      3
       EXTRIAN EMPNBH HREC HHCE HPLUSA JOURTR NBTOTE
1  107.7497222   &lt;NA&gt;   NA &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;
2 46.173848259      1   NA    1   &lt;NA&gt;      1   &lt;NA&gt;
3 46.173848259   &lt;NA&gt;   NA &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;
4 44.329297911      0   NA    1   &lt;NA&gt;      1   &lt;NA&gt;
5 44.329297911   &lt;NA&gt;   NA &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;</code></pre>
</div>
</div>
</div>
<div id="tabset-4-3">
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="fu">library</span>(<span class="st">"haven"</span>)</span>
<span id="cb20-2"><a href="#cb20-2"></a></span>
<span id="cb20-3"><a href="#cb20-3"></a>EEC_2019_SAS <span class="ot">&lt;-</span> <span class="fu">read_sas</span>(<span class="st">"FD_EEC_2019.sas7bdat"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="r-une-logique-vectorielle" class="slide level2 scrollable smaller">
<h2>R : une logique vectorielle</h2>
<p><br></p>
<p>L‚Äô√©l√©ment de base de R est le vecteur <code>c()</code> :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a>un_vecteur_numerique <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">6</span>, <span class="dv">8</span>, <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>R utilise la logique de la <strong>vectorisation</strong> : les fonctions sont appliqu√©es √† <em>l‚Äôensemble d‚Äôun vecteur</em> (ou matrice) plut√¥t que d‚Äô√™tre appliqu√©es successivement √† chacun des √©l√©ments de ce vecteur (ou de cette matrice). Cela permet une <strong>acc√©l√©ration</strong> du temps de calcul.</p>
<p>Par exemple, pour obtenir le carr√© de chacun des √©l√©ments d‚Äôun vecteur :</p>
<div class="panel-tabset">
<ul id="tabset-5" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-5-1">Sans vectorisation</a></li><li><a href="#tabset-5-2">Avec vectorisation</a></li></ul>
<div class="tab-content">
<div id="tabset-5-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb22-2"><a href="#cb22-2"></a><span class="cf">for</span> (k <span class="cf">in</span> <span class="fu">seq_along</span>(x)) {</span>
<span id="cb22-3"><a href="#cb22-3"></a>x[k] <span class="ot">&lt;-</span> x[k]<span class="sc">**</span><span class="dv">2</span></span>
<span id="cb22-4"><a href="#cb22-4"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-5-2">
<p>Application de la fonction carr√©e au vecteur :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb23-2"><a href="#cb23-2"></a>x <span class="ot">&lt;-</span> x<span class="sc">**</span><span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="les-objets-√©l√©mentaires-et-leurs-types" class="slide level2 scrollable smaller">
<h2>Les objets √©l√©mentaires et leurs types</h2>
<div class="panel-tabset">
<ul id="tabset-6" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-6-1">Num√©rique</a></li><li><a href="#tabset-6-2">Les cha√Ænes de caract√®re</a></li><li><a href="#tabset-6-3">Les bool√©ens</a></li></ul>
<div class="tab-content">
<div id="tabset-6-1">
<p>Il existe deux types num√©riques en R :</p>
<ul>
<li><p>les entiers ;</p></li>
<li><p>les flottants.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a>num <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb24-2"><a href="#cb24-2"></a><span class="fu">class</span>(num)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
</div>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a>num <span class="ot">&lt;-</span> <span class="fu">integer</span>(<span class="dv">5</span>)</span>
<span id="cb26-2"><a href="#cb26-2"></a><span class="fu">class</span>(num)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "integer"</code></pre>
</div>
</div>
</div>
<div id="tabset-6-2">
<p>Une cha√Æne de caract√®re est d√©limit√©e par des quotes ou des doubles quotes. Il est recommand√© d‚Äôutiliser les <strong>doubles quotes</strong> syst√©matiquement.</p>
<p>Le nombre de caract√®res d‚Äôune cha√Æne de caract√®res est donn√© par la fonction <code>nchar()</code>.</p>
<p>La fonction <code>paste0()</code> permet de concat√©ner des cha√Ænes de caract√®res.</p>
<p>üîçRemarque : l‚Äôanti slash en R permet de g√©rer les caract√®res sp√©ciaux, dans les chemins d‚Äôacc√®s aux donn√©es, il faut donc soit les remplacer par des <strong>slashs</strong>, soit les doubler.üîç</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a><span class="co">#Cr√©ation d'une cha√Æne de caract√®res</span></span>
<span id="cb28-2"><a href="#cb28-2"></a>chaine <span class="ot">&lt;-</span> <span class="st">"Oui"</span></span>
<span id="cb28-3"><a href="#cb28-3"></a></span>
<span id="cb28-4"><a href="#cb28-4"></a><span class="co">#Type de la variable chaine</span></span>
<span id="cb28-5"><a href="#cb28-5"></a><span class="fu">class</span>(chaine)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a><span class="co">#Nombre de caract√®res de la variable</span></span>
<span id="cb30-2"><a href="#cb30-2"></a><span class="fu">nchar</span>(chaine)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a><span class="co">#Concat√©nation de plusieurs cha√Ænes de caract√®re</span></span>
<span id="cb32-2"><a href="#cb32-2"></a><span class="fu">print</span>(<span class="fu">paste0</span>(<span class="st">"Les "</span>, <span class="st">"cha√Ænes "</span>, <span class="st">"de caract√®re "</span>, <span class="st">"peuvent √™tre concat√©n√©es."</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Les cha√Ænes de caract√®re peuvent √™tre concat√©n√©es."</code></pre>
</div>
</div>
<p><br></p>
<p>üîçPour aller plus loin üîç le package <code>stringr</code> permet de traiter les cha√Ænes de caract√®re : mettre en majuscules, mettre en minuscules, extraire une sous-cha√Æne‚Ä¶</p>
</div>
<div id="tabset-6-3">
<p>Un bool√©en peut valoir <code>TRUE</code> ou <code>FALSE</code> : c‚Äôest une variable qui indique si une condition logique est v√©rifi√©e.</p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a><span class="co"># Test de l'√©galit√©</span></span>
<span id="cb34-2"><a href="#cb34-2"></a><span class="fu">print</span>(<span class="dv">1</span> <span class="sc">==</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
</div>
<p><br></p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a>a <span class="ot">&lt;-</span> (<span class="st">"Dares"</span> <span class="sc">==</span> <span class="st">"Dares"</span>)</span>
<span id="cb36-2"><a href="#cb36-2"></a><span class="fu">print</span>(a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
</div>
<p><br></p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a><span class="co"># Comparaison num√©rique</span></span>
<span id="cb38-2"><a href="#cb38-2"></a><span class="fu">print</span>(<span class="dv">2</span> <span class="sc">&lt;</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
</div>
<p><br></p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a><span class="fu">print</span>(<span class="dv">4</span> <span class="sc">&gt;=</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
</div>
<p><br></p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a>b <span class="ot">&lt;-</span> <span class="dv">3</span> <span class="sc">&lt;=</span> <span class="dv">2</span></span>
<span id="cb42-2"><a href="#cb42-2"></a><span class="fu">print</span>(b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
</div>
<p><br></p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a><span class="co"># Test de la diff√©rence</span></span>
<span id="cb44-2"><a href="#cb44-2"></a><span class="fu">print</span>(<span class="st">"A"</span> <span class="sc">!=</span> <span class="st">"a"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
</div>
<p>‚ùó <strong>Attention :</strong> R est sensible √† la casse ‚ùó</p>
</div>
</div>
</div>
</section>
<section id="les-structures-de-donn√©es-de-base-en-r" class="slide level2 scrollable smaller">
<h2>Les structures de donn√©es de base en R</h2>
<div class="panel-tabset">
<ul id="tabset-7" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-7-1">Vecteurs</a></li><li><a href="#tabset-7-2">Listes</a></li></ul>
<div class="tab-content">
<div id="tabset-7-1">
<p><br></p>
<p>Un <strong>vecteur</strong> est une s√©quence ordonn√©e d‚Äôobjets √©l√©mentaires de <strong>m√™me type</strong>. Les vecteurs ont un type (correspondant √† celui des objets qu‚Äôil contient) donn√© par la fonction <code>class()</code> et une longueur donn√©e par la fonction <code>length</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1"></a>vecteur_num <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">18</span>, <span class="dv">9</span>)</span>
<span id="cb46-2"><a href="#cb46-2"></a><span class="fu">length</span>(vecteur_num)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a><span class="fu">class</span>(vecteur_num)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
</div>
</div>
<div id="tabset-7-2">
<p><br></p>
<p>Une <strong>liste</strong> est une s√©quence ordonn√©e, √©ventuellement h√©t√©rog√®ne, d‚Äôobjets de types quelconques.</p>
<p>Une liste est toujours de type <code>list</code>, peu importe ce qui la compose.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1"></a>liste_divers <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">"A"</span>, <span class="dv">7</span>, <span class="cn">TRUE</span>)</span>
<span id="cb50-2"><a href="#cb50-2"></a><span class="fu">length</span>(liste_divers)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1"></a><span class="fu">class</span>(liste_divers)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "list"</code></pre>
</div>
</div>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1"></a><span class="co">#Acc√©der aux √©l√©ments d'une liste</span></span>
<span id="cb54-2"><a href="#cb54-2"></a><span class="fu">print</span>(liste_divers[[<span class="dv">1</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "A"</code></pre>
</div>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="manipuler-des-donn√©es-les-avantages-de-dplyr" class="title-slide slide level1 center">
<h1>Manipuler des donn√©es : les avantages de dplyr</h1>

</section>
<section id="data-frames" class="slide level2 scrollable smaller">
<h2>Data frames</h2>
<p><br></p>
<p>Le <code>data.frame</code> est un <strong>tableau</strong> sous forme d‚Äôune liste (classe list) de vecteurs qui repr√©sentent les colonnes. Les vecteurs doivent √™tre de la m√™me longueur, la longueur de chaque vecteur correspond au nombre de lignes/d‚Äôobservations du tableau.</p>
<p>Puisque <strong>chaque colonne est un vecteur</strong> :</p>
<ul>
<li><p>une colonne repr√©sente une variable d‚Äôun type unique ;</p></li>
<li><p>une colonne a un nom, celui de la variable ;</p></li>
<li><p>chaque colonne doit avoir la m√™me hauteur.</p></li>
</ul>
<p>Les dimensions du data.frame sont donn√©es par la fonction <code>dim()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1"></a><span class="co">#Obtenir les dimensions du tableau de l'enqu√™te emploi en continu</span></span>
<span id="cb56-2"><a href="#cb56-2"></a><span class="fu">dim</span>(EEC_2019)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 416298    124</code></pre>
</div>
</div>
</section>
<section id="op√©rations-de-base-sur-les-data.frames-r-base-ou-dplyr" class="slide level2 scrollable smaller">
<h2>Op√©rations de base sur les data.frames : R base ou dplyr ?</h2>
<p><br></p>
<p>üëâ But : si vous rencontrez des syntaxes Rbase, les comprendre. Nous recommandons pour d√©buter d‚Äôutiliser plut√¥t les syntaxes <code>dplyr</code> pr√©sent√©es plus loin.</p>
<p>‚ùì Pourquoi ‚ùì</p>
<p>La syntaxe de <code>dplyr</code> est √† notre avis plus lisible et intuitive pour s‚Äôinitier √† R, et aussi largement utilis√©e par la communaut√© des utilisateurs de R, ce qui facilite le partage de solutions.</p>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<p>Il n‚Äôexiste pas une mani√®re unique de programmer en R, et l‚Äôutilisation de Rbase pr√©sente aussi des avantages : la stabilit√© par exemple, la meilleure reproductibilit√© car n√©cessite moins de packages et de d√©pendances‚Ä¶ Cette formation propose une mani√®re de programme utilisant plut√¥t le <code>tidyverse</code></p>
</div>
</div>
</div>
</section>
<section id="op√©rations-de-base-sur-les-data.frames-r-base" class="slide level2 scrollable smaller">
<h2>Op√©rations de base sur les data.frames : R base</h2>
<div class="panel-tabset">
<ul id="tabset-8" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-8-1">S√©lectionner des lignes</a></li><li><a href="#tabset-8-2">S√©lectionner des colonnes</a></li></ul>
<div class="tab-content">
<div id="tabset-8-1">
<ul>
<li>Obtenir le nom des lignes :</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1"></a><span class="fu">rownames</span>(EEC_ex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "1"  "2"  "3"  "4"  "5"  "6"  "7"  "8"  "9"  "10" "11" "12" "13" "14" "15"
[16] "16" "17" "18" "19" "20" "21" "22" "23" "24" "25" "26" "27" "28" "29" "30"</code></pre>
</div>
</div>
<p><br></p>
<ul>
<li>S√©lectionner la 5√®me ligne :</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1"></a>EEC_ex[<span class="dv">5</span>,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   SEXE ACTIF COURED AGE5 CSTOTR NAFG004UN AGE3 ANNEE JOURTR
5 Femme     2      1   60      7      &lt;NA&gt;   50  2019     NA</code></pre>
</div>
</div>
<p><br></p>
<ul>
<li>S√©lectionner les lignes 10 et 35 :</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1"></a>EEC_ex[<span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">35</span>),]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    SEXE ACTIF COURED AGE5 CSTOTR NAFG004UN AGE3 ANNEE JOURTR
10 Homme     1      2   15      4        EV   15  2019      5
NA  &lt;NA&gt;    NA     NA   NA     NA      &lt;NA&gt;   NA    NA     NA</code></pre>
</div>
</div>
<p><br></p>
<ul>
<li>S√©lectionner les lignes 3 √† 8 :</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1"></a>EEC_ex[<span class="fu">c</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">8</span>),]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   SEXE ACTIF COURED AGE5 CSTOTR NAFG004UN AGE3 ANNEE JOURTR
3 Femme     2      1   60      7      &lt;NA&gt;   50  2019     NA
4 Homme     1      1   60      6        EU   50  2019      1
5 Femme     2      1   60      7      &lt;NA&gt;   50  2019     NA
6 Homme     1      1   60      6        EU   50  2019      1
7 Femme     2      1   60      7      &lt;NA&gt;   50  2019     NA
8 Homme     1      1   40      4        ET   30  2019      5</code></pre>
</div>
</div>
</div>
<div id="tabset-8-2">
<ul>
<li>Conna√Ætre le nom des colonnes/variables :</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1"></a><span class="fu">names</span>(EEC_ex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "SEXE"      "ACTIF"     "COURED"    "AGE5"      "CSTOTR"    "NAFG004UN"
[7] "AGE3"      "ANNEE"     "JOURTR"   </code></pre>
</div>
</div>
<p><br></p>
<ul>
<li>S√©lectionner une colonne <strong>solution 1</strong> : la 3√®me colonne :</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1"></a>EEC_ex[, <span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 2 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 2 2 2 2 1 1 1 1 1 1 1 1 1</code></pre>
</div>
</div>
<p><br></p>
<ul>
<li>S√©lectionner une colonne <strong>solution 2</strong>, la variable ACTIF :</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1"></a>EEC_ex[<span class="st">"ACTIF"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   ACTIF
1      2
2      1
3      2
4      1
5      2
6      1
7      2
8      1
9      1
10     1
11     1
12     1
13     1
14     1
15     1
16     2
17     2
18     2
19     2
20     2
21     2
22     2
23     1
24     2
25     1
26     2
27     2
28     2
29     2
30     2</code></pre>
</div>
</div>
<p><br></p>
<ul>
<li>S√©lectionner une colonne <strong>solution 3</strong>, la variable ACTIF</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1"></a>EEC_ex<span class="sc">$</span>ACTIF</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 2 1 2 1 2 1 2 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 1 2 1 2 2 2 2 2</code></pre>
</div>
</div>
<p><br></p>
<ul>
<li>Conna√Ætre le <strong>type</strong> des variables :</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1"></a><span class="fu">class</span>(EEC_ex<span class="sc">$</span>AGE3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "integer"</code></pre>
</div>
</div>
<p><br></p>
<ul>
<li>S√©lectionner la 3√®me ligne et les colonnes SEXE et ACTIF :</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1"></a>EEC_ex[<span class="dv">3</span>, <span class="fu">c</span>(<span class="st">"SEXE"</span>, <span class="st">"ACTIF"</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   SEXE ACTIF
3 Femme     2</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="op√©rations-de-base-sur-les-data.frames-convertir-des-colonnes" class="slide level2 scrollable smaller">
<h2>Op√©rations de base sur les data.frames : convertir des colonnes</h2>
<p><br></p>
<p>Convertir une variable num√©rique en caract√®re :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1"></a><span class="fu">class</span>(EEC_ex<span class="sc">$</span>ANNEE)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "integer"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1"></a>EEC_ex<span class="sc">$</span>ANNEE <span class="ot">&lt;-</span> <span class="fu">as.character</span>(EEC_ex<span class="sc">$</span>ANNEE)</span>
<span id="cb80-2"><a href="#cb80-2"></a><span class="fu">class</span>(EEC_ex<span class="sc">$</span>ANNEE)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
<p><br></p>
<p>Convertir une colonne caract√®re en num√©rique :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1"></a>EEC_ex<span class="sc">$</span>ANNEE <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(EEC_ex<span class="sc">$</span>ANNEE)</span>
<span id="cb82-2"><a href="#cb82-2"></a><span class="fu">class</span>(EEC_ex<span class="sc">$</span>ANNEE)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
</div>
</section>
<section id="les-facteurs-un-outil-pour-les-variables-qualitatives" class="slide level2 scrollable smaller">
<h2>Les facteurs : un outil pour les variables qualitatives</h2>
<p>Le type <code>factor</code> en R permet de manipuler des <strong>variables qualitatives</strong>.</p>
<p>Le package <code>forcats</code> permet de traiter les facteurs : recoder les modalit√©s, les ordonner‚Ä¶</p>
<div class="panel-tabset">
<ul id="tabset-9" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-9-1">Convertir</a></li><li><a href="#tabset-9-2">Modalit√©s</a></li><li><a href="#tabset-9-3">Recoder</a></li></ul>
<div class="tab-content">
<div id="tabset-9-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1"></a><span class="fu">class</span>(EEC_2019<span class="sc">$</span>SEXE)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "integer"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1"></a><span class="co">#Conversion de la variable SEXE de num√©rique en facteur</span></span>
<span id="cb86-2"><a href="#cb86-2"></a>EEC_2019<span class="sc">$</span>SEXE <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(EEC_2019<span class="sc">$</span>SEXE)</span>
<span id="cb86-3"><a href="#cb86-3"></a></span>
<span id="cb86-4"><a href="#cb86-4"></a><span class="fu">class</span>(EEC_2019<span class="sc">$</span>SEXE)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "factor"</code></pre>
</div>
</div>
</div>
<div id="tabset-9-2">
<p>La fonction <code>levels()</code> permet de conna√Ætre l‚Äôensemble des <strong>modalit√©s</strong> existantes d‚Äôun facteur (m√™me si elles ne sont plus pr√©sentes dans les donn√©es apr√®s s√©lection des lignes).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1"></a><span class="fu">levels</span>(EEC_2019<span class="sc">$</span>SEXE)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1" "2"</code></pre>
</div>
</div>
</div>
<div id="tabset-9-3">
<p>La fonction <code>fct_recode()</code> permet de renommer les modalit√©s d‚Äôun facteur, avec la syntaxe suivante :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1"></a>nouvelle_variable <span class="ot">&lt;-</span> <span class="fu">fct_recode</span>(ancienne_variable,</span>
<span id="cb90-2"><a href="#cb90-2"></a>                                <span class="st">"Nouvelle_valeur1"</span> <span class="ot">=</span> <span class="st">"Ancienne_valeur1"</span>,</span>
<span id="cb90-3"><a href="#cb90-3"></a>                                <span class="st">"Nouvelle_valeur2"</span> <span class="ot">=</span> <span class="st">"Ancienne_valeur2"</span>,</span>
<span id="cb90-4"><a href="#cb90-4"></a>                                <span class="at">NULL =</span> <span class="st">"Modalite_a_supprimer"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Exemple : Recodage des modalit√©s de la variable SEXE.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1"></a><span class="fu">library</span>(forcats)</span>
<span id="cb91-2"><a href="#cb91-2"></a></span>
<span id="cb91-3"><a href="#cb91-3"></a>EEC_2019<span class="sc">$</span>SEXE <span class="ot">&lt;-</span> <span class="fu">fct_recode</span>(EEC_2019<span class="sc">$</span>SEXE,</span>
<span id="cb91-4"><a href="#cb91-4"></a>                            <span class="st">"Homme"</span> <span class="ot">=</span> <span class="st">"1"</span>,</span>
<span id="cb91-5"><a href="#cb91-5"></a>                            <span class="st">"Femme"</span> <span class="ot">=</span> <span class="st">"2"</span>)</span>
<span id="cb91-6"><a href="#cb91-6"></a></span>
<span id="cb91-7"><a href="#cb91-7"></a><span class="fu">levels</span>(EEC_2019<span class="sc">$</span>SEXE)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Homme" "Femme"</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="op√©rations-de-base-sur-les-data.frames-les-valeurs-manquantes" class="slide level2 scrollable smaller">
<h2>Op√©rations de base sur les data.frames : les valeurs manquantes</h2>
<p>Lorsqu‚Äôune <strong>valeur est manquante</strong> dans une enqu√™te par exemple, elle figure sous forme de la modalit√© <code>NA</code>, ‚ÄúNot Available‚Äù, qui existe pour tous les types de variables.</p>
<p>Selon la mani√®re dont ces valeurs manquantes existent dans les donn√©es √† importer dans R, elles ne sont pas forc√©ment d√©tect√©es comme telles. Par exemple :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1"></a>test_na <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(</span>
<span id="cb93-2"><a href="#cb93-2"></a>  <span class="fu">list</span>(</span>
<span id="cb93-3"><a href="#cb93-3"></a>  <span class="fu">c</span>(<span class="dv">1</span>, <span class="st">"."</span>, <span class="dv">3</span>),</span>
<span id="cb93-4"><a href="#cb93-4"></a>  <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"E"</span>, <span class="st">"."</span>)</span>
<span id="cb93-5"><a href="#cb93-5"></a>  )</span>
<span id="cb93-6"><a href="#cb93-6"></a>  )</span>
<span id="cb93-7"><a href="#cb93-7"></a></span>
<span id="cb93-8"><a href="#cb93-8"></a><span class="fu">names</span>(test_na) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Var1"</span>, <span class="st">"Var2"</span>)</span>
<span id="cb93-9"><a href="#cb93-9"></a></span>
<span id="cb93-10"><a href="#cb93-10"></a><span class="fu">print</span>(test_na)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Var1 Var2
1    1    A
2    .    E
3    3    .</code></pre>
</div>
</div>
<p>Il faut les recoder en <code>NA</code> avec la fonction <code>fct_recode()</code> :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1"></a>test_na<span class="sc">$</span>Var1 <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(test_na<span class="sc">$</span>Var1)</span>
<span id="cb95-2"><a href="#cb95-2"></a></span>
<span id="cb95-3"><a href="#cb95-3"></a>test_na<span class="sc">$</span>Var1 <span class="ot">&lt;-</span> <span class="fu">fct_recode</span>(test_na<span class="sc">$</span>Var1,</span>
<span id="cb95-4"><a href="#cb95-4"></a>                           <span class="at">NULL =</span> <span class="st">"."</span>)</span>
<span id="cb95-5"><a href="#cb95-5"></a></span>
<span id="cb95-6"><a href="#cb95-6"></a><span class="fu">print</span>(test_na)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Var1 Var2
1    1    A
2 &lt;NA&gt;    E
3    3    .</code></pre>
</div>
</div>
</section>
<section id="les-dates-sous-r" class="slide level2 scrollable smaller">
<h2>Les dates sous R</h2>
<p>Le format de <strong>date</strong> le plus courant en R est la classe <code>Date</code>. Elle correspond √† une distance par rapport √† une date origine, ce qui permet de faire des calculs (distance entre deux dates par exemple).</p>
<div class="panel-tabset">
<ul id="tabset-10" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-10-1">Cr√©er une date</a></li><li><a href="#tabset-10-2">Composants</a></li><li><a href="#tabset-10-3">Intervalle</a></li></ul>
<div class="tab-content">
<div id="tabset-10-1">
<p>Il est possible de cr√©er une date √† partir d‚Äôune cha√Æne de carat√®re. <em>Le format standard est ‚ÄúAAAA-MM-JJ‚Äù</em>, mais il est possible de sp√©cifier un autre format.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1"></a>date_1 <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2023-01-24"</span>)</span>
<span id="cb97-2"><a href="#cb97-2"></a></span>
<span id="cb97-3"><a href="#cb97-3"></a>date_2 <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"12/07/2022"</span>, <span class="at">format =</span> <span class="st">"%d/%m/%Y"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-10-2">
<p>Le package <code>lubridate</code> permet de traiter les dates. Il n‚Äôest pas pr√©senter davantage ici, voici simplement comment il est possible d‚Äôacc√©der aux composants d‚Äôune date avec <code>lubridate</code> :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb98-2"><a href="#cb98-2"></a></span>
<span id="cb98-3"><a href="#cb98-3"></a><span class="fu">year</span>(date_1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2023</code></pre>
</div>
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1"></a><span class="fu">month</span>(date_1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1"></a><span class="fu">quarter</span>(date_1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1"></a><span class="fu">day</span>(date_1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 24</code></pre>
</div>
</div>
</div>
<div id="tabset-10-3">
<p>Avec le type Date, vient la notion d‚Äôintervalle temporel, qui est √©galement un type de donn√©es √† part enti√®re. La fonction <code>interval()</code> permet de calculer des dur√©es.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb106-2"><a href="#cb106-2"></a></span>
<span id="cb106-3"><a href="#cb106-3"></a>date_1 <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2023-01-24"</span>)</span>
<span id="cb106-4"><a href="#cb106-4"></a></span>
<span id="cb106-5"><a href="#cb106-5"></a>date_2 <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"12/07/2022"</span>, <span class="at">format =</span> <span class="st">"%d/%m/%Y"</span>)</span>
<span id="cb106-6"><a href="#cb106-6"></a></span>
<span id="cb106-7"><a href="#cb106-7"></a>intervalle <span class="ot">&lt;-</span> <span class="fu">interval</span>(date_1, date_2)</span>
<span id="cb106-8"><a href="#cb106-8"></a>intervalle</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2023-01-24 UTC--2022-07-12 UTC</code></pre>
</div>
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1"></a><span class="fu">class</span>(intervalle)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Interval"
attr(,"package")
[1] "lubridate"</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="tidyverse-dplyr-et-le-pipe" class="slide level2 scrollable smaller">
<h2>Tidyverse, dplyr et le pipe</h2>
<p><br></p>
<p>La majorit√© des utilisateurs de R utilisent un ensemble de package contenu dans le <code>tidyverse</code> , qui propose des fonctions alternatives √† Rbase. Nous vous recommandons d‚Äôutiliser le tidyverse, et en particulier le package <code>dplyr</code>, pour r√©diger vos programmes.</p>
<p>Avantages du tidyverse et de dplyr :</p>
<ul>
<li><p>plus lisible, plus proche d‚Äôun langage interpr√©t√© que R base ;</p></li>
<li><p>utilis√© par la majorit√© des utilisateurs de R ;</p></li>
<li><p>stable.</p></li>
</ul>
</section>
<section id="le-pipe" class="slide level2 scrollable smaller">
<h2>Le pipe</h2>
<p><br></p>
<p>Pour encha√Æner diff√©rentes instructions sur un data.frame, on utilise le ‚Äúpipe‚Äù : <code>%&gt;%</code>, un op√©rateur qui permet de prendre ce qu‚Äôil y a √† gauche du pipe pour l‚Äôinjecter en entr√©e (argument) dans la fonction √† droite du pipe.</p>
<p><strong>Attention :</strong> il est recommand√© de d√©finir un nouveau tableau pour enregistrer les op√©rations sur un data.frame.</p>
<p>Les bonnes pratiques de r√©daction d‚Äôun code sont renseign√©es dans <a href="https://www.pratiques.utilitr.org/r%C3%A9diger-un-script-r.html">UtilitR - Les bonnes pratiques</a></p>
</section>
<section id="s√©lectionner-des-colonnes-1" class="slide level2 scrollable smaller">
<h2>S√©lectionner des colonnes</h2>
<p><br></p>
<p><strong>S√©lectionner</strong> des colonnes par leur nom avec <code>select()</code> :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1"></a><span class="co">#Les colonnes ann√©e et Age3</span></span>
<span id="cb110-2"><a href="#cb110-2"></a>nouveau_df_1 <span class="ot">&lt;-</span> EEC_ex <span class="sc">%&gt;%</span></span>
<span id="cb110-3"><a href="#cb110-3"></a>  <span class="fu">select</span>(ANNEE, AGE3)</span>
<span id="cb110-4"><a href="#cb110-4"></a></span>
<span id="cb110-5"><a href="#cb110-5"></a><span class="fu">head</span>(nouveau_df_1, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  ANNEE AGE3
1  2019   50
2  2019   50
3  2019   50
4  2019   50
5  2019   50</code></pre>
</div>
</div>
<div class="fragment">
<p><br></p>
<p><strong>Supprimer</strong> une colonne avec le <code>-</code> dans <code>select()</code> :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1"></a><span class="co">#Toutes les colonnes sauf Age3</span></span>
<span id="cb112-2"><a href="#cb112-2"></a>nouveau_df_2 <span class="ot">&lt;-</span> EEC_ex <span class="sc">%&gt;%</span></span>
<span id="cb112-3"><a href="#cb112-3"></a>  <span class="fu">select</span>(<span class="sc">-</span>AGE3)</span>
<span id="cb112-4"><a href="#cb112-4"></a></span>
<span id="cb112-5"><a href="#cb112-5"></a><span class="fu">head</span>(nouveau_df_2, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   SEXE ACTIF COURED AGE5 CSTOTR NAFG004UN ANNEE JOURTR
1 Femme     2      2   60      8      &lt;NA&gt;  2019     NA
2 Homme     1      1   60      6        EU  2019      1
3 Femme     2      1   60      7      &lt;NA&gt;  2019     NA
4 Homme     1      1   60      6        EU  2019      1
5 Femme     2      1   60      7      &lt;NA&gt;  2019     NA</code></pre>
</div>
</div>
</div>
</section>
<section id="afficher-les-premi√®res-lignes" class="slide level2 scrollable smaller">
<h2>Afficher les premi√®res lignes</h2>
<p><br></p>
<p>Avant de d√©buter une analyse, il est utile de <strong>visualiser les premi√®res lignes</strong> du tableau de donn√©es. C‚Äôest notamment tr√®s utile lorsque les donn√©es sont volumineuses et que l‚Äôaffichage du tableau complet prend du temps.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1"></a>EEC_debut <span class="ot">&lt;-</span> EEC_ex <span class="sc">%&gt;%</span></span>
<span id="cb114-2"><a href="#cb114-2"></a>  <span class="fu">head</span>(<span class="dv">5</span>)</span>
<span id="cb114-3"><a href="#cb114-3"></a>EEC_debut</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   SEXE ACTIF COURED AGE5 CSTOTR NAFG004UN AGE3 ANNEE JOURTR
1 Femme     2      2   60      8      &lt;NA&gt;   50  2019     NA
2 Homme     1      1   60      6        EU   50  2019      1
3 Femme     2      1   60      7      &lt;NA&gt;   50  2019     NA
4 Homme     1      1   60      6        EU   50  2019      1
5 Femme     2      1   60      7      &lt;NA&gt;   50  2019     NA</code></pre>
</div>
</div>
</section>
<section id="filtrer-des-lignes" class="slide level2 scrollable smaller">
<h2>Filtrer des lignes</h2>
<p><br></p>
<p>Pour filter des lignes selon une ou plusieurs conditions, on utilise la fonction <code>filter()</code> :</p>
<div class="panel-tabset">
<ul id="tabset-11" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-11-1">Egalit√©</a></li><li><a href="#tabset-11-2">In√©galit√©</a></li><li><a href="#tabset-11-3">Diff√©rence</a></li><li><a href="#tabset-11-4">Plusieurs conditions</a></li></ul>
<div class="tab-content">
<div id="tabset-11-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1"></a>EEC_femme <span class="ot">&lt;-</span> EEC_ex <span class="sc">%&gt;%</span></span>
<span id="cb116-2"><a href="#cb116-2"></a>  <span class="fu">filter</span>(SEXE <span class="sc">==</span> <span class="st">"Femme"</span>)</span>
<span id="cb116-3"><a href="#cb116-3"></a></span>
<span id="cb116-4"><a href="#cb116-4"></a><span class="fu">head</span>(EEC_femme, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   SEXE ACTIF COURED AGE5 CSTOTR NAFG004UN AGE3 ANNEE JOURTR
1 Femme     2      2   60      8      &lt;NA&gt;   50  2019     NA
2 Femme     2      1   60      7      &lt;NA&gt;   50  2019     NA
3 Femme     2      1   60      7      &lt;NA&gt;   50  2019     NA
4 Femme     2      1   60      7      &lt;NA&gt;   50  2019     NA
5 Femme     1      1   40      4        EV   30  2019      5</code></pre>
</div>
</div>
</div>
<div id="tabset-11-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1"></a>EEC_moins_30 <span class="ot">&lt;-</span> EEC_ex <span class="sc">%&gt;%</span></span>
<span id="cb118-2"><a href="#cb118-2"></a>  <span class="fu">filter</span>(AGE5 <span class="sc">&lt;=</span> <span class="dv">30</span>)</span>
<span id="cb118-3"><a href="#cb118-3"></a></span>
<span id="cb118-4"><a href="#cb118-4"></a><span class="fu">head</span>(EEC_moins_30, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   SEXE ACTIF COURED AGE5 CSTOTR NAFG004UN AGE3 ANNEE JOURTR
1 Homme     1      2   15      4        EV   15  2019      5
2 Femme     1      2   15      3        EV   15  2019      5
3 Homme     1      2   15      4        EV   15  2019      5
4 Femme     1      2   15      3        EV   15  2019      5
5 Homme     1      2   15      4        EV   15  2019      5</code></pre>
</div>
</div>
</div>
<div id="tabset-11-3">
<div class="cell">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1"></a>EEC_hors_cadres <span class="ot">&lt;-</span> EEC_ex <span class="sc">%&gt;%</span></span>
<span id="cb120-2"><a href="#cb120-2"></a>  <span class="fu">filter</span>(CSTOTR <span class="sc">!=</span> <span class="dv">3</span>)</span>
<span id="cb120-3"><a href="#cb120-3"></a></span>
<span id="cb120-4"><a href="#cb120-4"></a><span class="fu">head</span>(EEC_hors_cadres, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   SEXE ACTIF COURED AGE5 CSTOTR NAFG004UN AGE3 ANNEE JOURTR
1 Femme     2      2   60      8      &lt;NA&gt;   50  2019     NA
2 Homme     1      1   60      6        EU   50  2019      1
3 Femme     2      1   60      7      &lt;NA&gt;   50  2019     NA
4 Homme     1      1   60      6        EU   50  2019      1
5 Femme     2      1   60      7      &lt;NA&gt;   50  2019     NA</code></pre>
</div>
</div>
</div>
<div id="tabset-11-4">
<div class="cell">
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1"></a><span class="co">#Op√©rateur ET</span></span>
<span id="cb122-2"><a href="#cb122-2"></a>EEC_femme_moins_30 <span class="ot">&lt;-</span> EEC_ex <span class="sc">%&gt;%</span></span>
<span id="cb122-3"><a href="#cb122-3"></a>  <span class="fu">filter</span>(SEXE <span class="sc">==</span> <span class="st">"femme"</span> <span class="sc">&amp;</span> AGE5 <span class="sc">&lt;=</span> <span class="dv">30</span>)</span>
<span id="cb122-4"><a href="#cb122-4"></a></span>
<span id="cb122-5"><a href="#cb122-5"></a><span class="fu">head</span>(EEC_femme_moins_30, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] SEXE      ACTIF     COURED    AGE5      CSTOTR    NAFG004UN AGE3     
[8] ANNEE     JOURTR   
&lt;0 rows&gt; (or 0-length row.names)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1"></a><span class="co">#Op√©rateur OU</span></span>
<span id="cb124-2"><a href="#cb124-2"></a>EEC_femme_ou_cadre <span class="ot">&lt;-</span> EEC_ex <span class="sc">%&gt;%</span></span>
<span id="cb124-3"><a href="#cb124-3"></a>  <span class="fu">filter</span>(SEXE <span class="sc">==</span> <span class="st">"femme"</span> <span class="sc">|</span> CSTOTR <span class="sc">==</span> <span class="dv">3</span>)</span>
<span id="cb124-4"><a href="#cb124-4"></a></span>
<span id="cb124-5"><a href="#cb124-5"></a><span class="fu">head</span>(EEC_femme_ou_cadre, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   SEXE ACTIF COURED AGE5 CSTOTR NAFG004UN AGE3 ANNEE JOURTR
1 Femme     1      2   15      3        EV   15  2019      5
2 Femme     1      2   15      3        EV   15  2019      5
3 Femme     1      2   15      3        EV   15  2019      5
4 Homme     1      1   50      3        EV   50  2019      5
5 Homme     1      1   50      3        EV   50  2019      5</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="filtrer-des-lignes-1" class="slide level2 scrollable smaller">
<h2>Filtrer des lignes</h2>
<p><br></p>
<div class="panel-tabset">
<ul id="tabset-12" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-12-1">Inclusion dans une liste</a></li><li><a href="#tabset-12-2">Valeurs manquantes</a></li><li><a href="#tabset-12-3">Valeurs distinctes</a></li></ul>
<div class="tab-content">
<div id="tabset-12-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1"></a>EEC_hors_agr <span class="ot">&lt;-</span> EEC_ex <span class="sc">%&gt;%</span></span>
<span id="cb126-2"><a href="#cb126-2"></a>  <span class="fu">filter</span>(NAFG004UN <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"ET"</span>, <span class="st">"EU"</span>, <span class="st">"EV"</span>))</span>
<span id="cb126-3"><a href="#cb126-3"></a></span>
<span id="cb126-4"><a href="#cb126-4"></a><span class="fu">head</span>(EEC_hors_agr, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   SEXE ACTIF COURED AGE5 CSTOTR NAFG004UN AGE3 ANNEE JOURTR
1 Homme     1      1   60      6        EU   50  2019      1
2 Homme     1      1   60      6        EU   50  2019      1
3 Homme     1      1   60      6        EU   50  2019      1
4 Homme     1      1   40      4        ET   30  2019      5
5 Femme     1      1   40      4        EV   30  2019      5</code></pre>
</div>
</div>
</div>
<div id="tabset-12-2">
<p>Pour tester si une valeur est manquante, il faut utiliser la fonction <code>is.na()</code>. Le test <code>variable == NA</code> renvoie une erreur.</p>
<p>Pour tester qu‚Äôune valeur est bien pr√©sente, c‚Äôest la condition <code>!(is.na(variable))</code>. la syntaxe <code>!()</code> signifie ‚Äúdiff√©rent de‚Äù, c‚Äôest-√†-dire teste la condition contraire √† ce qui est renseign√© dans les parenth√®ses.</p>
<p>Uniquement les lignes pour lesquelles NAFG004UN est manquante :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1"></a>EEC_CSP_na <span class="ot">&lt;-</span> EEC_ex <span class="sc">%&gt;%</span></span>
<span id="cb128-2"><a href="#cb128-2"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(NAFG004UN))</span>
<span id="cb128-3"><a href="#cb128-3"></a></span>
<span id="cb128-4"><a href="#cb128-4"></a><span class="fu">head</span>(EEC_CSP_na, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   SEXE ACTIF COURED AGE5 CSTOTR NAFG004UN AGE3 ANNEE JOURTR
1 Femme     2      2   60      8      &lt;NA&gt;   50  2019     NA
2 Femme     2      1   60      7      &lt;NA&gt;   50  2019     NA
3 Femme     2      1   60      7      &lt;NA&gt;   50  2019     NA
4 Femme     2      1   60      7      &lt;NA&gt;   50  2019     NA
5 Homme     2      2   60      7      &lt;NA&gt;   50  2019     NA</code></pre>
</div>
</div>
<p><br></p>
<p>Uniquement les lignes pour lesquelles NAFG004UN est renseign√©e :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1"></a>EEC_CSP_hors_na <span class="ot">&lt;-</span> EEC_ex <span class="sc">%&gt;%</span></span>
<span id="cb130-2"><a href="#cb130-2"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(<span class="fu">is.na</span>(NAFG004UN)))</span>
<span id="cb130-3"><a href="#cb130-3"></a></span>
<span id="cb130-4"><a href="#cb130-4"></a><span class="fu">head</span>(EEC_CSP_hors_na, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   SEXE ACTIF COURED AGE5 CSTOTR NAFG004UN AGE3 ANNEE JOURTR
1 Homme     1      1   60      6        EU   50  2019      1
2 Homme     1      1   60      6        EU   50  2019      1
3 Homme     1      1   60      6        EU   50  2019      1
4 Homme     1      1   40      4        ET   30  2019      5
5 Femme     1      1   40      4        EV   30  2019      5</code></pre>
</div>
</div>
</div>
<div id="tabset-12-3">
<p>La fonction <code>distinct()</code> permet de ne s√©lectionner qu‚Äôune seule occurence de chaque combinaison des variables signal√©es.</p>
<p>On ne souhaite qu‚Äôune seule occurence de chaque combinaison existant dans les donn√©es des variables ANNEE et TRIM :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1"></a>EEC_periode <span class="ot">&lt;-</span> EEC_2019 <span class="sc">%&gt;%</span></span>
<span id="cb132-2"><a href="#cb132-2"></a>  <span class="fu">distinct</span>(ANNEE, TRIM)</span>
<span id="cb132-3"><a href="#cb132-3"></a></span>
<span id="cb132-4"><a href="#cb132-4"></a><span class="fu">head</span>(EEC_periode, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  ANNEE TRIM
1  2019    1
2  2019    2
3  2019    3
4  2019    4</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="cr√©er-une-variable" class="slide level2 scrollable smaller">
<h2>Cr√©er une variable</h2>
<div class="panel-tabset">
<ul id="tabset-13" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-13-1">Avec if_else</a></li><li><a href="#tabset-13-2">Avec case_when</a></li><li><a href="#tabset-13-3">Avec une condition</a></li></ul>
<div class="tab-content">
<div id="tabset-13-1">
<p><code>if_else</code> est utilis√© pour renseigner une valeur si une condition est v√©rifi√©e, une autre sinon. La syntaxe est la suivante :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb134"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb134-1"><a href="#cb134-1"></a><span class="fu">mutate</span>(<span class="at">nouvelle_variable =</span> <span class="fu">if_else</span>(condition, valeur_condition_verifiee, valeur_sinon))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1"></a>EEC_agr <span class="ot">&lt;-</span> EEC_2019 <span class="sc">%&gt;%</span></span>
<span id="cb135-2"><a href="#cb135-2"></a>  <span class="fu">mutate</span>(<span class="at">agriculture =</span> <span class="fu">if_else</span>(NAFG004UN <span class="sc">==</span> <span class="st">"ES"</span>, <span class="dv">1</span>, <span class="dv">0</span>))</span>
<span id="cb135-3"><a href="#cb135-3"></a></span>
<span id="cb135-4"><a href="#cb135-4"></a><span class="fu">head</span>(EEC_agr, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  ANNEE TRIM CATAU2010R METRODOM TYPMEN7 AGE3 AGE5 COURED ENFRED NFRRED  SEXE
1  2019    1          1        1       1   50   60      2      2      1 Femme
2  2019    2          1        1       3   50   60      1      2      1 Homme
3  2019    2          1        1       3   50   60      1      2      1 Femme
4  2019    3          1        1       3   50   60      1      2      1 Homme
5  2019    3          1        1       3   50   60      1      2      1 Femme
  ACTEU ACTEU6 ACTIF ACTOP AIDFAM ANCCHOM ANCINACT CONTACT CREACCP DEM DISPOC
1     3      6     2     2     NA      NA       NA      NA      NA   0     NA
2     1      1     1     1     NA      NA       NA      NA      NA   0     NA
3     3      6     2     2      2      NA        8      NA      NA   0     NA
4     1      1     1     1     NA      NA       NA      NA      NA   0     NA
5     3      6     2     2      2      NA        8      NA      NA   0     NA
  GARDEB HALOR INSCONT MRA MRB MRBBIS MRC MRD MRDBIS MRE MREC MRF MRG MRGBIS
1     NA     2      NA  NA  NA     NA  NA  NA     NA  NA   NA  NA  NA     NA
2     NA     2      NA  NA  NA     NA  NA  NA     NA  NA   NA  NA  NA     NA
3     NA     2      NA  NA  NA     NA  NA  NA     NA  NA    2  NA  NA     NA
4     NA     2      NA  NA  NA     NA  NA  NA     NA  NA   NA  NA  NA     NA
5     NA     2      NA  NA  NA     NA  NA  NA     NA  NA    2  NA  NA     NA
  MRH MRI MRJ MRK MRL MRM MRN MRO MRPASSA MRPASSB MRPASSC MRS NONDIC NREC NRECA
1  NA  NA  NA  NA  NA  NA  NA  NA      NA      NA      NA  NA     NA   NA    NA
2  NA  NA  NA  NA  NA  NA  NA  NA      NA      NA      NA  NA     NA   NA    NA
3  NA  NA  NA  NA  NA  NA  NA  NA      NA      NA      NA  NA     NA   NA    NA
4  NA  NA  NA  NA  NA  NA  NA  NA      NA      NA      NA  NA     NA   NA    NA
5  NA  NA  NA  NA  NA  NA  NA  NA      NA      NA      NA  NA     NA   NA    NA
  NRECB OCCREF OFFICC OFFRE PASTRA PASTRB PASTRF PERCREV RABS RAISNREC RAISNSOU
1    NA      1     NA    NA     NA     NA     NA      NA   NA       NA       NA
2    NA      2     NA    NA     NA     NA     NA      NA   NA       NA       NA
3    NA      1     NA    NA      2      2      2      NA   NA       NA        5
4    NA      2     NA    NA      1     NA      1       1    8       NA       NA
5    NA      1     NA    NA      2      2      2      NA   NA       NA        5
  RAISPAS SOU SOUA SOUB SOUC SOUSEMPL STCHE TEMP TRAREF TYPCONT TYPCONTB CHPUB
1      NA  NA   NA   NA   NA       NA    NA    2     NA      NA       NA    NA
2      NA   2    2    2   NA       NA    NA   NA      1      NA       NA     1
3      NA   2   NA   NA    2       NA    NA   NA      2      NA       NA    NA
4      NA   2    2    2   NA        3    NA   NA      2      NA       NA     1
5      NA   2   NA   NA    2       NA    NA   NA      2      NA       NA    NA
  CSE CSER CSP CSTOT CSTOTR FONCTC NAFG004UN NAFG010UN NAFG017UN NAFG021UN
1  NA   NA  NA    86      8     NA                                        
2  64    6  64    64      6     NA        EU        FZ        FZ         F
3  NA   NA  NA    77      7     NA                                        
4  64    6  64    64      6     NA        EU        FZ        FZ         F
5  NA   NA  NA    77      7     NA                                        
  NAFG038UN NAFG088UN PUB3FP QPRC STC RDET STAT2 STATOEP STATUT STATUTR TITC
1                  NA     NA   NA  NA   NA    NA      NA     NA      NA   NA
2        FZ        43      4    9   3   NA     2      35     35       5   NA
3                  NA     NA   NA  NA   NA    NA      NA     NA      NA   NA
4        FZ        43      4    9   3   NA     2      35     35       5   NA
5                  NA     NA   NA  NA   NA    NA      NA     NA      NA   NA
  CSTMN CSTPLC DISPPLC DUHAB GARDEA HHC6 HORAIC RAISON RAISTP STMN STPLC TPPRED
1    NA     NA      NA    NA     NA   NA     NA     NA     NA   NA    NA     NA
2    NA     NA      NA     1     NA    1      3     NA      5    2     2      2
3    NA     NA      NA    NA     NA   NA     NA     NA     NA   NA    NA     NA
4    NA     NA      NA     1     NA    1      3     NA      5    2     2      2
5    NA     NA      NA    NA     NA   NA     NA     NA     NA   NA    NA     NA
  TXTPPRED ANCENTR4 SITANT AAC CSA NAFANT NAFANTG004N DIP11 CSTOTPRM IDENTM
1       NA       NA     NA   2   0      0          00    70       86      1
2        1        4      5  NA  NA     NA                50       64      2
3       NA       NA     NA   1  54     43          EU    70       64      2
4        1        4      5  NA  NA     NA                50       64      3
5       NA       NA     NA   1  54     43          EU    70       64      3
    EXTRIAN EMPNBH HREC HHCE HPLUSA JOURTR NBTOTE agriculture
1 107.74972     NA   NA   NA     NA     NA     NA           0
2  46.17385      1   NA    1     NA      1     NA           0
3  46.17385     NA   NA   NA     NA     NA     NA           0
4  44.32930      0   NA    1     NA      1     NA           0
5  44.32930     NA   NA   NA     NA     NA     NA           0</code></pre>
</div>
</div>
</div>
<div id="tabset-13-2">
<p><code>case_when</code> permet de cr√©er une variable qui prend diff√©rentes modalit√©s selon plusieurs conditions √©valu√©es successivement, selon la syntaxe suivante :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1"></a><span class="fu">mutate</span>(<span class="at">nouvelle_variable =</span> <span class="fu">case_when</span>(condition1 <span class="sc">~</span> valeur1,</span>
<span id="cb137-2"><a href="#cb137-2"></a>                                     condition2 <span class="sc">~</span> valeur2,</span>
<span id="cb137-3"><a href="#cb137-3"></a>                                     condition3 <span class="sc">~</span> valeur3,</span>
<span id="cb137-4"><a href="#cb137-4"></a>                                     <span class="cn">TRUE</span> <span class="sc">~</span> valeur_par_d√©faut))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Les conditions sont explor√©es successivement jusqu‚Äô√† ce qu‚Äôune d‚Äôentre elles donne <code>TRUE</code>, elles ne sont donc pas n√©cessairement exclusives l‚Äôune de l‚Äôautre. La derni√®re ligne ¬´ voiture balai ¬ª (qui n‚Äôest pas obligatoire) exploite cette fonctionnalit√© avec une condition toujours vraie qui pi√®ge tous les cas non explor√©s.</p>
</div>
<div id="tabset-13-3">
<p>ll est √©galement possible de cr√©er directement une variable de type <strong>bool√©en</strong> en mentionnat uniquement la condition :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb138"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb138-1"><a href="#cb138-1"></a><span class="fu">mutate</span>(<span class="at">individu_cadre =</span> (CSTOTR <span class="sc">==</span> <span class="dv">3</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>La nouvelle variable <code>individu_cadre</code> vaut <code>TRUE</code> lorsque CSTOTR vaut 3, <code>FALSE</code> sinon.</p>
</div>
</div>
</div>
</section>
<section id="modifier-des-variables" class="slide level2 scrollable smaller">
<h2>Modifier des variables</h2>
<p><br></p>
<div class="panel-tabset">
<ul id="tabset-14" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-14-1">Renommer une variable</a></li><li><a href="#tabset-14-2">Discr√©tiser une variable quanti</a></li></ul>
<div class="tab-content">
<div id="tabset-14-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1"></a><span class="fu">rename</span>(<span class="at">nouveau_nom_var1 =</span> ancien_nom_var1,</span>
<span id="cb139-2"><a href="#cb139-2"></a>       <span class="at">nouveau_nom_var2 =</span> ancien_nom_var2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb140"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb140-1"><a href="#cb140-1"></a>EEC_2 <span class="ot">&lt;-</span> EEC_ex <span class="sc">%&gt;%</span></span>
<span id="cb140-2"><a href="#cb140-2"></a>  <span class="fu">rename</span>(<span class="at">AGE_3_classes =</span> AGE3)</span>
<span id="cb140-3"><a href="#cb140-3"></a></span>
<span id="cb140-4"><a href="#cb140-4"></a><span class="fu">head</span>(EEC_2, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   SEXE ACTIF COURED AGE5 CSTOTR NAFG004UN AGE_3_classes ANNEE JOURTR
1 Femme     2      2   60      8      &lt;NA&gt;            50  2019     NA
2 Homme     1      1   60      6        EU            50  2019      1
3 Femme     2      1   60      7      &lt;NA&gt;            50  2019     NA
4 Homme     1      1   60      6        EU            50  2019      1
5 Femme     2      1   60      7      &lt;NA&gt;            50  2019     NA</code></pre>
</div>
</div>
</div>
<div id="tabset-14-2">
<p>Avec <code>cut()</code>, la borne inf√©rieure est exclue, la borne sup√©rieure est incluse.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb142"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb142-1"><a href="#cb142-1"></a>EEC_3 <span class="ot">&lt;-</span> EEC_ex <span class="sc">%&gt;%</span></span>
<span id="cb142-2"><a href="#cb142-2"></a>  <span class="fu">mutate</span>(<span class="at">JOURTR_classe =</span> <span class="fu">cut</span>(JOURTR, <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">4</span>)))</span>
<span id="cb142-3"><a href="#cb142-3"></a></span>
<span id="cb142-4"><a href="#cb142-4"></a><span class="fu">head</span>(EEC_3, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   SEXE ACTIF COURED AGE5 CSTOTR NAFG004UN AGE3 ANNEE JOURTR JOURTR_classe
1 Femme     2      2   60      8      &lt;NA&gt;   50  2019     NA          &lt;NA&gt;
2 Homme     1      1   60      6        EU   50  2019      1          &lt;NA&gt;
3 Femme     2      1   60      7      &lt;NA&gt;   50  2019     NA          &lt;NA&gt;
4 Homme     1      1   60      6        EU   50  2019      1          &lt;NA&gt;
5 Femme     2      1   60      7      &lt;NA&gt;   50  2019     NA          &lt;NA&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="convertir-des-variables" class="slide level2 scrollable smaller">
<h2>Convertir des variables</h2>
<p>Les fonctions de conversion peuvent √™tre appliqu√©es aux colonnes d‚Äôun data.frame. Il est conseill√© d‚Äôaffecter √† chaque variable le type le plus proche de sa nature :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb144"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb144-1"><a href="#cb144-1"></a><span class="co">#Conversion de la variable ENFRED en facteur et de la variable COURED en caract√®res :</span></span>
<span id="cb144-2"><a href="#cb144-2"></a></span>
<span id="cb144-3"><a href="#cb144-3"></a>EEC_2019 <span class="ot">&lt;-</span> EEC_2019 <span class="sc">%&gt;%</span></span>
<span id="cb144-4"><a href="#cb144-4"></a>  <span class="fu">mutate</span>(<span class="at">ENFRED =</span> <span class="fu">as.factor</span>(ENFRED),</span>
<span id="cb144-5"><a href="#cb144-5"></a>         <span class="at">COURED =</span> <span class="fu">as.character</span>(COURED))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>ü§î Comment recoder ? ü§î</strong></p>
<ul>
<li><p>transformer les variables qualitatives en facteurs ;</p></li>
<li><p>ordonner les modalit√©s pour les variables qualitatives ordinales ;</p></li>
<li><p>convertir les variables num√©riques en num√©rique ;</p></li>
<li><p>recoder les valeurs manquantes (par exemple les caract√®res vides) ;</p></li>
<li><p>transformer les cha√Ænes de caract√®re en Date si n√©cessaire.</p></li>
</ul>
</div><div class="column" style="width:50%;">
<p>‚ùì <strong>Pourquoi recoder</strong> ‚ùì</p>
<ul>
<li><p>pour r√©aliser des statistiques descriptives plus rapidement, par exemple avec la fonction summary ;</p></li>
<li><p>pour que les fonctions √©conom√©triques d√©tectent une modalit√© de r√©f√©rence pertinente pour les variables ordinales ;</p></li>
<li><p>pour tracer des s√©ries temporelles dans le cas des dates‚Ä¶</p></li>
</ul>
</div>
</div>
</section></section>
<section>
<section id="statistiques-descriptives" class="title-slide slide level1 center">
<h1>Statistiques descriptives</h1>
<p>üß∞ La boite √† outil du statisticien :</p>
</section>
<section id="la-fonction-count" class="slide level2 scrollable smaller">
<h2>La fonction COUNT</h2>
<p><br></p>
<ul>
<li>Connaitre le nombre de lignes d‚Äôun dataframe
<ul>
<li>On peut √©galement avoir cette information dans le panneau ‚Äúenvironnement‚Äù</li>
</ul></li>
<li>Compter le nombre d‚Äôindividus dans une table exhaustive
<ul>
<li>‚õî Ne pas utiliser pour des donn√©es √©chantillon√©es ‚õî</li>
</ul></li>
</ul>
<div class="fragment">
<p>Ne pas calculer par exemple le nombre de ch√¥meurs au sens du BIT sans pond√©ration √† partir de l‚ÄôEEC :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1"></a>chomeurs <span class="ot">&lt;-</span> EEC_2019 <span class="sc">%&gt;%</span> </span>
<span id="cb145-2"><a href="#cb145-2"></a>  <span class="fu">filter</span>(ACTEU <span class="sc">==</span> <span class="st">"2"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb145-3"><a href="#cb145-3"></a>  <span class="fu">count</span>()</span>
<span id="cb145-4"><a href="#cb145-4"></a></span>
<span id="cb145-5"><a href="#cb145-5"></a><span class="fu">print</span>(<span class="fu">paste0</span>(<span class="st">"Le nombre de ch√¥meurs au sens du BIT N'EST PAS "</span>, <span class="fu">as.character</span>(chomeurs)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Le nombre de ch√¥meurs au sens du BIT N'EST PAS 18602"</code></pre>
</div>
</div>
</div>
</section>
<section id="la-fonction-summarise" class="slide level2 scrollable smaller">
<h2>La fonction summarise</h2>
<p><br></p>
<p>Cette fonction permet d‚Äôavoir un ensemble de <strong>statistiques descriptives</strong> : effectif, somme, moyenne, m√©diane, quantile, min, max‚Ä¶</p>
<p>Elle est fr√©quemment utilis√©e avec l‚Äôinstruction <code>group_by()</code>, qui permet d‚Äôeffectuer ces calculs au sein des groupes form√©s par les modalit√©s d‚Äôune variable.</p>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Group_by</strong></p>
</div>
<div class="callout-content">
<p>Pour les habitu√©s de SQL, group_by n‚Äôest pas un mot cl√© mais une <strong>vraie fonction R</strong> avec une entr√©e et une sortie. Le r√©sultat est une table avec les m√™mes donn√©es mais un ¬´ index ¬ª en plus disant o√π sont les observations de chaque modalit√©. La pr√©sence de cet index change le fonctionnement de plusieurs fonctions de <code>dplyr</code> en les for√ßant √† travailler par morceau.</p>
</div>
</div>
</div>
</section>
<section id="la-fonction-summarise-1" class="slide level2 scrollable smaller">
<h2>La fonction summarise</h2>
<p><br></p>
<div class="panel-tabset">
<ul id="tabset-15" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-15-1">Effectif</a></li><li><a href="#tabset-15-2">Somme, moyenne</a></li><li><a href="#tabset-15-3">Distribution</a></li><li><a href="#tabset-15-4">Plusieurs variables</a></li></ul>
<div class="tab-content">
<div id="tabset-15-1">
<p>La fonction <code>n()</code> permet d‚Äôobtenir les effectifs.</p>
<p>Calcul du nombre de personnes de 30 ans ou moins :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1"></a>eff_moins_30 <span class="ot">&lt;-</span> EEC_2019 <span class="sc">%&gt;%</span></span>
<span id="cb147-2"><a href="#cb147-2"></a>  <span class="fu">filter</span>(AGE3 <span class="sc">&lt;=</span> <span class="dv">30</span>) <span class="sc">%&gt;%</span></span>
<span id="cb147-3"><a href="#cb147-3"></a>  <span class="fu">summarise</span>(<span class="at">eff_moins_30 =</span> <span class="fu">n</span>())</span>
<span id="cb147-4"><a href="#cb147-4"></a>eff_moins_30</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  eff_moins_30
1       195851</code></pre>
</div>
</div>
<p>Calcul du nombre de personnes par classe d‚Äô√¢ge en 3 classes :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1"></a>eff_age_classe <span class="ot">&lt;-</span> EEC_2019 <span class="sc">%&gt;%</span></span>
<span id="cb149-2"><a href="#cb149-2"></a>  <span class="fu">group_by</span>(AGE3) <span class="sc">%&gt;%</span></span>
<span id="cb149-3"><a href="#cb149-3"></a>  <span class="fu">summarise</span>(<span class="at">eff_age3 =</span> <span class="fu">n</span>())</span>
<span id="cb149-4"><a href="#cb149-4"></a>eff_age_classe</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 √ó 2
   AGE3 eff_age3
  &lt;int&gt;    &lt;int&gt;
1    15    78826
2    30   117025
3    50   220447</code></pre>
</div>
</div>
<p>Calcul du nombre de personnes par SEXE :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb151"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1"></a>eff_sexe <span class="ot">&lt;-</span> EEC_2019 <span class="sc">%&gt;%</span></span>
<span id="cb151-2"><a href="#cb151-2"></a>  <span class="fu">group_by</span>(SEXE) <span class="sc">%&gt;%</span></span>
<span id="cb151-3"><a href="#cb151-3"></a>  <span class="fu">summarise</span>(<span class="at">eff_sexe =</span> <span class="fu">n</span>())</span>
<span id="cb151-4"><a href="#cb151-4"></a>eff_sexe</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 √ó 2
  SEXE  eff_sexe
  &lt;fct&gt;    &lt;int&gt;
1 Homme   196098
2 Femme   220200</code></pre>
</div>
</div>
</div>
<div id="tabset-15-2">
<p>Les fonctions <code>sum()</code> et <code>mean()</code> peuvent √™tre utilis√©es √©galement avec <code>summarise()</code>.</p>
<div class="callout callout-warning callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Warning</strong></p>
</div>
<div class="callout-content">
<p><strong>Tout calcul impliquant un <code>NA</code> restitue un <code>NA</code></strong> : les op√©rations, les tests, les tris. Dans les calculs statistiques (par exemple avec les fonctions appel√©es par le <code>summarise</code> de dplyr utilis√© pour faire des r√©capitulations : comptages, totaux ou autres statistiques), il y a g√©n√©ralement un argument suppl√©mentaire <code>na.rm</code> (pour ‚Äúremove‚Äù) qui permet de ne pas tenir compte des valeurs manquantes, mais son positionnement par d√©faut est souvent √† ‚Äúfaux‚Äù (FALSE, ne pas enlever les valeurs manquantes du calcul).</p>
</div>
</div>
</div>
<p>‚ö†Ô∏è <strong>ATTENTION</strong> ‚ö†Ô∏è Les valeurs manquantes sont le principal point d‚Äôincompatibilit√© avec SAS et leur traitement n√©cessite de redoubler d‚Äôattention quand on convertit un programme car le fonctionnement est radicalement diff√©rent en R.</p>
<p>Calcul de la moyenne du nombre de jours travaill√©s par semaine par sexe :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb153"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1"></a>EEC_jourtr_sexe <span class="ot">&lt;-</span> EEC_2019 <span class="sc">%&gt;%</span></span>
<span id="cb153-2"><a href="#cb153-2"></a>  <span class="fu">group_by</span>(SEXE) <span class="sc">%&gt;%</span></span>
<span id="cb153-3"><a href="#cb153-3"></a>  <span class="fu">summarise</span>(<span class="at">moy_jour_tr =</span> <span class="fu">mean</span>(JOURTR, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb153-4"><a href="#cb153-4"></a>EEC_jourtr_sexe</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 √ó 2
  SEXE  moy_jour_tr
  &lt;fct&gt;       &lt;dbl&gt;
1 Homme        5.01
2 Femme        4.74</code></pre>
</div>
</div>
</div>
<div id="tabset-15-3">
<p><code>summarise()</code> est √©galement utile pour des statistiques de distribution.</p>
<p>Calcul de statistiques de distribution du nombre de jours travaill√©s par semaine par classe d‚Äô√¢ge :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb155"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb155-1"><a href="#cb155-1"></a>EEC_jourtr_age <span class="ot">&lt;-</span> EEC_2019 <span class="sc">%&gt;%</span></span>
<span id="cb155-2"><a href="#cb155-2"></a>  <span class="fu">group_by</span>(AGE3) <span class="sc">%&gt;%</span></span>
<span id="cb155-3"><a href="#cb155-3"></a>  <span class="fu">summarise</span>(<span class="at">min_jour_tr =</span> <span class="fu">min</span>(JOURTR, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb155-4"><a href="#cb155-4"></a>            <span class="at">q1_jour_tr =</span> <span class="fu">quantile</span>(JOURTR, <span class="at">na.rm =</span> <span class="cn">TRUE</span>, <span class="at">probs =</span> <span class="fl">0.25</span>),</span>
<span id="cb155-5"><a href="#cb155-5"></a>            <span class="at">med_jour_tr =</span> <span class="fu">median</span>(JOURTR, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb155-6"><a href="#cb155-6"></a>            <span class="at">q3_jour_tr =</span> <span class="fu">quantile</span>(JOURTR, <span class="at">na.rm =</span> <span class="cn">TRUE</span>, <span class="at">probs =</span> <span class="fl">0.75</span>),</span>
<span id="cb155-7"><a href="#cb155-7"></a>            <span class="at">max_jour_tr =</span> <span class="fu">max</span>(JOURTR, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb155-8"><a href="#cb155-8"></a>EEC_jourtr_age</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 √ó 6
   AGE3 min_jour_tr q1_jour_tr med_jour_tr q3_jour_tr max_jour_tr
  &lt;int&gt;       &lt;dbl&gt;      &lt;dbl&gt;       &lt;dbl&gt;      &lt;dbl&gt;       &lt;dbl&gt;
1    15         0.5          5           5          5           7
2    30         0.5          5           5          5           7
3    50         0.5          5           5          5           7</code></pre>
</div>
</div>
</div>
<div id="tabset-15-4">
<p>Il est possible de renseigner plusieurs variables dans l‚Äôinstruction <code>group_by()</code>. Les statistiques demand√©es dans <code>summarise()</code> sont alors calcul√©es au sein de chaque classe form√©e par le croisement des modalit√©s des deux variables.</p>
<p>‚ö†Ô∏è <strong>ATTENTION</strong> ‚ö†Ô∏è la valeur par d√©faut de l‚Äôargument <code>drop_last</code> de la fonction <code>summarise()</code> est <code>TRUE</code>, ce qui implique que le dernier niveau de regroupement (la derni√®re variable renseign√©e dans le <code>group_by()</code>) est supprim√© √† l‚Äôissue de l‚Äôapplication de la fonction <code>summarise()</code>. Un <code>warning</code> le pr√©cise dans la console lorsque cette fonction est utilis√©e avec plusieurs variables de regroupement.</p>
<p>Calcul de la moyenne de jours travaill√©s par semaine par groupe de sexe crois√© avec l‚Äô√¢ge en 3 classes :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb157"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1"></a>EEC_jourtr_sexe_age <span class="ot">&lt;-</span> EEC_2019 <span class="sc">%&gt;%</span></span>
<span id="cb157-2"><a href="#cb157-2"></a>  <span class="fu">group_by</span>(SEXE, AGE3) <span class="sc">%&gt;%</span></span>
<span id="cb157-3"><a href="#cb157-3"></a>  <span class="fu">summarise</span>(<span class="at">moy_jour_tr =</span> <span class="fu">mean</span>(JOURTR, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb157-4"><a href="#cb157-4"></a>EEC_jourtr_sexe_age</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 √ó 3
# Groups:   SEXE [2]
  SEXE   AGE3 moy_jour_tr
  &lt;fct&gt; &lt;int&gt;       &lt;dbl&gt;
1 Homme    15        4.94
2 Homme    30        5.02
3 Homme    50        5.02
4 Femme    15        4.71
5 Femme    30        4.76
6 Femme    50        4.73</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="regrouper-par-cat√©gorie" class="slide level2 scrollable smaller">
<h2>Regrouper par cat√©gorie</h2>
<p>L‚Äôop√©rateur pipe <code>%&gt;%</code> permet d‚Äôencha√Æner les op√©rations sur une table de donn√©es.</p>
<p>Il faut faire attention √† cet encha√Ænement lorsqu‚Äôon utilise l‚Äôinstruction <code>group_by</code>. Cette instruction peut √™tre utilis√©e avec d‚Äôautres fonctions de <code>dplyr</code> (<code>filter()</code> et <code>mutate()</code> par exemple), mais elle ne se comporte pas de la m√™me mani√®re avec toutes les fonctions. En effet, le dernier niveau de regroupement (la derni√®re variable renseign√©e dans le <code>group_by()</code>) est supprim√© √† l‚Äôissue de l‚Äôapplication de la fonction <code>summarise()</code>, tandis que ce n‚Äôest pas le cas avec les fonctions <code>mutate()</code> et <code>filter()</code>.</p>
<p>Ainsi, il est possible d‚Äôutiliser l‚Äôinstruction <code>ungroup()</code> pour rem√©dier au regroupement des observations dans la suite des op√©rations sur la table.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb159"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb159-1"><a href="#cb159-1"></a>ex_plusieurs_gpes <span class="ot">&lt;-</span> EEC_2019 <span class="sc">%&gt;%</span></span>
<span id="cb159-2"><a href="#cb159-2"></a>  <span class="fu">group_by</span>(SEXE, AGE3) <span class="sc">%&gt;%</span></span>
<span id="cb159-3"><a href="#cb159-3"></a>  <span class="fu">mutate</span>(<span class="at">moy_jour_tr =</span> <span class="fu">mean</span>(JOURTR, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb159-4"><a href="#cb159-4"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb159-5"><a href="#cb159-5"></a>  <span class="fu">distinct</span>(SEXE, moy_jour_tr, AGE3) <span class="sc">%&gt;%</span></span>
<span id="cb159-6"><a href="#cb159-6"></a>  <span class="fu">group_by</span>(SEXE) <span class="sc">%&gt;%</span></span>
<span id="cb159-7"><a href="#cb159-7"></a>  <span class="fu">filter</span>(moy_jour_tr <span class="sc">==</span> <span class="fu">min</span>(moy_jour_tr))</span>
<span id="cb159-8"><a href="#cb159-8"></a></span>
<span id="cb159-9"><a href="#cb159-9"></a>ex_plusieurs_gpes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 √ó 3
# Groups:   SEXE [2]
  SEXE  moy_jour_tr  AGE3
  &lt;fct&gt;       &lt;dbl&gt; &lt;int&gt;
1 Homme        4.94    15
2 Femme        4.71    15</code></pre>
</div>
</div>
</section>
<section id="trier-ses-donn√©es" class="slide level2 scrollable smaller">
<h2>Trier ses donn√©es</h2>
<p>Lorsqu‚Äôon utilise un regroupement, le r√©sultat est tri√© en majeur selon ce regroupement. Si on souhaite effectuer un autre tri, il faut d√©clencher le tri avec la fonction <code>arrange()</code>. Le mot cl√© <code>desc</code> (malgr√© la syntaxe, ce n‚Äôest pas une fonction) permet de trier par ordre d√©croissant. Il est possible d‚Äôutiliser plusieurs colonnes pour le tri.</p>
<p>üëÅÔ∏è‚Äçüó®Ô∏è <strong>REMARQUE</strong> üëÅÔ∏è‚Äçüó®Ô∏è Contrairement √† SAS o√π trier est la proc√©dure la plus utilis√©e, R se charge de lui m√™me de faire les tris dont il pourrait avoir besoin. Trier n‚Äôa g√©n√©ralement un sens que pour organiser la pr√©sentation de r√©sultats.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb161"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1"></a>ex_arrange <span class="ot">&lt;-</span> EEC_2019 <span class="sc">%&gt;%</span></span>
<span id="cb161-2"><a href="#cb161-2"></a>  <span class="fu">select</span>(SEXE, AGE3, JOURTR) <span class="sc">%&gt;%</span></span>
<span id="cb161-3"><a href="#cb161-3"></a>  <span class="fu">group_by</span>(SEXE, AGE3) <span class="sc">%&gt;%</span></span>
<span id="cb161-4"><a href="#cb161-4"></a>  <span class="fu">summarise</span>(<span class="at">moy_jour_tr =</span> <span class="fu">mean</span>(JOURTR, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb161-5"><a href="#cb161-5"></a>  <span class="fu">arrange</span>(moy_jour_tr)</span>
<span id="cb161-6"><a href="#cb161-6"></a>ex_arrange</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 √ó 3
# Groups:   SEXE [2]
  SEXE   AGE3 moy_jour_tr
  &lt;fct&gt; &lt;int&gt;       &lt;dbl&gt;
1 Femme    15        4.71
2 Femme    50        4.73
3 Femme    30        4.76
4 Homme    15        4.94
5 Homme    50        5.02
6 Homme    30        5.02</code></pre>
</div>
</div>
<p>REMARQUE : Contrairement √† SAS o√π trier est la proc√©dure la plus utilis√©e, R se charge de lui m√™me de faire les tris dont il pourrait avoir besoin. Trier n‚Äôa g√©n√©ralement un sens que pour organiser la pr√©sentation de r√©sultats.</p>
<h3 id="connaitre-le-num√©ro-de-ligne">Connaitre le num√©ro de ligne</h3>
<p>La fonction <code>row_number()</code> permet de conna√Ætre l‚Äôordre de classement de l‚Äôobservation dans la table.</p>
<p>Les fonctions <code>first()</code> et <code>last()</code> permettent de r√©cup√©rer respectivement la premi√®re et la derni√®re observation d‚Äôun groupe.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb163"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb163-1"><a href="#cb163-1"></a>ex_arrange_2 <span class="ot">&lt;-</span> EEC_2019 <span class="sc">%&gt;%</span></span>
<span id="cb163-2"><a href="#cb163-2"></a>  <span class="fu">select</span>(SEXE, AGE3, JOURTR) <span class="sc">%&gt;%</span></span>
<span id="cb163-3"><a href="#cb163-3"></a>  <span class="fu">group_by</span>(SEXE, AGE3) <span class="sc">%&gt;%</span></span>
<span id="cb163-4"><a href="#cb163-4"></a>  <span class="fu">summarise</span>(<span class="at">moy_jour_tr =</span> <span class="fu">mean</span>(JOURTR, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb163-5"><a href="#cb163-5"></a>  <span class="fu">arrange</span>(moy_jour_tr) <span class="sc">%&gt;%</span></span>
<span id="cb163-6"><a href="#cb163-6"></a>  <span class="fu">mutate</span>(<span class="at">numero =</span> <span class="fu">row_number</span>())</span>
<span id="cb163-7"><a href="#cb163-7"></a>ex_arrange_2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 √ó 4
# Groups:   SEXE [2]
  SEXE   AGE3 moy_jour_tr numero
  &lt;fct&gt; &lt;int&gt;       &lt;dbl&gt;  &lt;int&gt;
1 Femme    15        4.71      1
2 Femme    50        4.73      2
3 Femme    30        4.76      3
4 Homme    15        4.94      1
5 Homme    50        5.02      2
6 Homme    30        5.02      3</code></pre>
</div>
</div>
</section>
<section id="travailler-avec-des-donn√©es-pond√©r√©es" class="slide level2 scrollable smaller">
<h2>Travailler avec des donn√©es pond√©r√©es</h2>
<p>Le package <code>Hmisc</code> permet de traiter des donn√©es pond√©r√©es.</p>
<p>Des fonctions utilisant des pond√©rations se trouvent dans le package Hmisc, elles utilisent un argument suppl√©mentaire <code>weights</code> qui permet de passer la colonne contenant les pond√©rations. Il s‚Äôagit de :</p>
<ul>
<li><p><code>wtd.mean</code> : la moyenne</p></li>
<li><p><code>wtd.var</code> : la variance (en d√©duire l‚Äô√©cart type si besoin)</p></li>
<li><p><code>wtd.quantile</code> : un quantile, plusieurs algorithmes sont impl√©ment√©s, mais aucun ne correspond √† ce que fait SAS.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb165"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb165-1"><a href="#cb165-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">age =</span> <span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>, <span class="dv">60</span>), <span class="at">poids=</span><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">3</span>))</span>
<span id="cb165-2"><a href="#cb165-2"></a></span>
<span id="cb165-3"><a href="#cb165-3"></a><span class="fu">library</span>(Hmisc)</span>
<span id="cb165-4"><a href="#cb165-4"></a></span>
<span id="cb165-5"><a href="#cb165-5"></a>new_df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb165-6"><a href="#cb165-6"></a>  <span class="fu">summarise</span>(<span class="at">quartile1 =</span> <span class="fu">wtd.quantile</span>(age,<span class="at">w=</span>poids,<span class="at">probs=</span>.<span class="dv">25</span>),</span>
<span id="cb165-7"><a href="#cb165-7"></a>            <span class="at">mediane =</span> <span class="fu">wtd.quantile</span>(age,<span class="at">w=</span>poids,<span class="at">probs=</span>.<span class="dv">5</span>),</span>
<span id="cb165-8"><a href="#cb165-8"></a>            <span class="at">moyenne =</span> <span class="fu">wtd.mean</span>(age,<span class="at">w=</span>poids))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="concat√©nations" class="slide level2 scrollable smaller">
<h2>Concat√©nations</h2>
<div class="panel-tabset">
<ul id="tabset-16" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-16-1">Des lignes</a></li><li><a href="#tabset-16-2">Des colonnes</a></li></ul>
<div class="tab-content">
<div id="tabset-16-1">
<p><br></p>
<p>Mettre les lignes d‚Äôune table derri√®re les lignes d‚Äôune autre : la fonction <code>bind_rows()</code></p>
<ul>
<li><p>Les deux listes de colonnes peuvent ne pas √™tre strictement identiques : les donn√©es ne sont mises bout √† bout que si les noms des colonnes co√Øncident, sinon des valeurs manquantes sont g√©n√©r√©es.</p></li>
<li><p>Les colonnes peuvent √™tre dans un <strong>ordre diff√©rent</strong> dans les deux tables, la fonction se charge de les r√©ordonner.</p></li>
<li><p>Par contre <strong>une colonne de m√™me nom doit avoir le m√™me type dans les deux tables</strong> ou la concat√©nation ne se fait pas.</p></li>
</ul>
</div>
<div id="tabset-16-2">
<p><br></p>
<p>Mettre les colonnes d‚Äôune table √† cot√© des colonnes d‚Äôune autre : la fonction <code>bind_cols()</code>.</p>
<ul>
<li><p>Le <strong>nombre de lignes doit co√Øncider</strong> dans les deux tables : c‚Äôest un garde-fou contre les erreurs de manipulation, car la fonction ne r√©alise pas une jointure mais une simple juxtaposition.</p></li>
<li><p>L‚Äôusage de cette fonction est donc <strong>plus rare</strong> et limit√© aux situations o√π on est absolument s√ªr d‚Äôavoir le bon nombre de lignes et des donn√©es qui sont rang√©es de la m√™me fa√ßon dans les deux tables.</p></li>
</ul>
</div>
</div>
</div>
</section>
<section id="jointures" class="slide level2 scrollable smaller">
<h2>Jointures</h2>
<div class="panel-tabset">
<ul id="tabset-17" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-17-1">A gauche/√† droite</a></li><li><a href="#tabset-17-2">Interne</a></li><li><a href="#tabset-17-3">Externe</a></li><li><a href="#tabset-17-4">Anti_join</a></li></ul>
<div class="tab-content">
<div id="tabset-17-1">
<p><br></p>
<div class="columns">
<div class="column" style="width:70%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb166"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb166-1"><a href="#cb166-1"></a>table_jointe <span class="ot">&lt;-</span> table_1 <span class="sc">%&gt;%</span></span>
<span id="cb166-2"><a href="#cb166-2"></a>  <span class="fu">left_join</span>(table_2, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"var1_table1"</span> <span class="ot">=</span> <span class="st">"var2_table2"</span>,</span>
<span id="cb166-3"><a href="#cb166-3"></a>                            <span class="st">"var3_table1"</span> <span class="ot">=</span> <span class="st">"var4_table2"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:30%;">
<p><img data-src="images/left_join.png"></p>
</div>
</div>
</div>
<div id="tabset-17-2">
<p><br></p>
<div class="columns">
<div class="column" style="width:70%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb167"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb167-1"><a href="#cb167-1"></a>table_jointe <span class="ot">&lt;-</span> table_1 <span class="sc">%&gt;%</span></span>
<span id="cb167-2"><a href="#cb167-2"></a>  <span class="fu">inner_join</span>(table_2, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"var1_table1"</span> <span class="ot">=</span> <span class="st">"var2_table2"</span>,</span>
<span id="cb167-3"><a href="#cb167-3"></a>                             <span class="st">"var3_table1"</span> <span class="ot">=</span> <span class="st">"var4_table2"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:30%;">
<p><img data-src="images/inner_join.png"></p>
</div>
</div>
</div>
<div id="tabset-17-3">
<p><br></p>
<div class="columns">
<div class="column" style="width:70%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb168"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb168-1"><a href="#cb168-1"></a>table_jointe <span class="ot">&lt;-</span> table_1 <span class="sc">%&gt;%</span></span>
<span id="cb168-2"><a href="#cb168-2"></a>  <span class="fu">full_join</span>(table_2, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"var1_table1"</span> <span class="ot">=</span> <span class="st">"var2_table2"</span>,</span>
<span id="cb168-3"><a href="#cb168-3"></a>                            <span class="st">"var3_table1"</span> <span class="ot">=</span> <span class="st">"var4_table2"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:30%;">
<p><img data-src="images/full_join.png"></p>
</div>
</div>
</div>
<div id="tabset-17-4">
<p><br></p>
<p>Pour r√©cup√©rer les observations de la table de gauche qui sont absentes de la table de droite.</p>
<div class="columns">
<div class="column" style="width:70%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb169"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb169-1"><a href="#cb169-1"></a>table_jointe <span class="ot">&lt;-</span> table_1 <span class="sc">%&gt;%</span></span>
<span id="cb169-2"><a href="#cb169-2"></a>  <span class="fu">anti_join</span>(table_2, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"var1_table1"</span> <span class="ot">=</span> <span class="st">"var2_table2"</span>,</span>
<span id="cb169-3"><a href="#cb169-3"></a>                            <span class="st">"var3_table1"</span> <span class="ot">=</span> <span class="st">"var4_table2"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:30%;">
<p><img data-src="images/anti_join.png"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="transpositions" class="slide level2 scrollable smaller">
<h2>Transpositions</h2>
<p><br></p>
<p>Pour pivoter des donn√©es, il est possible d‚Äôutiliser les fonctions <code>pivot_longer()</code> et <code>pivot_wider()</code> du package <code>tidyr</code>.</p>
<p>Par exemple, pour la fonction <code>pivot_longer()</code>, la syntaxe est la suivante : <code>pivot_longer(cols = c("Var_1_pivotee", "Var_2_pivotee"), names_to = c("nom_de_la_nouvelle_colonne"))</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb170"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb170-1"><a href="#cb170-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb170-2"><a href="#cb170-2"></a></span>
<span id="cb170-3"><a href="#cb170-3"></a>ex_pivot <span class="ot">&lt;-</span> EEC_2019 <span class="sc">%&gt;%</span></span>
<span id="cb170-4"><a href="#cb170-4"></a>  <span class="fu">select</span>(SEXE, AGE3, JOURTR) <span class="sc">%&gt;%</span></span>
<span id="cb170-5"><a href="#cb170-5"></a>  <span class="fu">group_by</span>(SEXE, AGE3) <span class="sc">%&gt;%</span></span>
<span id="cb170-6"><a href="#cb170-6"></a>  <span class="fu">summarise</span>(<span class="at">moy_jour_tr =</span> <span class="fu">mean</span>(JOURTR, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb170-7"><a href="#cb170-7"></a>            <span class="at">med_jour_tr =</span> <span class="fu">median</span>(JOURTR, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb170-8"><a href="#cb170-8"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb170-9"><a href="#cb170-9"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(<span class="st">"moy_jour_tr"</span>, <span class="st">"med_jour_tr"</span>), <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">"indicateur"</span>))</span>
<span id="cb170-10"><a href="#cb170-10"></a>ex_pivot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 √ó 4
   SEXE   AGE3 indicateur  value
   &lt;fct&gt; &lt;int&gt; &lt;chr&gt;       &lt;dbl&gt;
 1 Homme    15 moy_jour_tr  4.94
 2 Homme    15 med_jour_tr  5   
 3 Homme    30 moy_jour_tr  5.02
 4 Homme    30 med_jour_tr  5   
 5 Homme    50 moy_jour_tr  5.02
 6 Homme    50 med_jour_tr  5   
 7 Femme    15 moy_jour_tr  4.71
 8 Femme    15 med_jour_tr  5   
 9 Femme    30 moy_jour_tr  4.76
10 Femme    30 med_jour_tr  5   
11 Femme    50 moy_jour_tr  4.73
12 Femme    50 med_jour_tr  5   </code></pre>
</div>
</div>
<p>L‚Äôarticle <a href="https://od-datamining.com/knwbase/pivots_r_fille/">Les pivots expliqu√©s √† ma fille</a> est particuli√®rement bien fait sur le sujet.</p>
</section>
<section id="graphiques-avec-plot" class="slide level2 scrollable smaller">
<h2>Graphiques avec plot</h2>
<p>Voici une pr√©sentation succinte de quelques fonctions usuelles de Rbase permettant de faire des graphiques :</p>
<div class="panel-tabset">
<ul id="tabset-18" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-18-1">Barplot</a></li><li><a href="#tabset-18-2">Hist</a></li><li><a href="#tabset-18-3">Plot</a></li></ul>
<div class="tab-content">
<div id="tabset-18-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb172"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb172-1"><a href="#cb172-1"></a>ex_barplot <span class="ot">&lt;-</span> EEC_2019 <span class="sc">%&gt;%</span></span>
<span id="cb172-2"><a href="#cb172-2"></a>  <span class="fu">select</span>(SEXE, JOURTR) <span class="sc">%&gt;%</span></span>
<span id="cb172-3"><a href="#cb172-3"></a>  <span class="fu">group_by</span>(SEXE) <span class="sc">%&gt;%</span></span>
<span id="cb172-4"><a href="#cb172-4"></a>  <span class="fu">summarise</span>(<span class="at">moy_jour_tr =</span> <span class="fu">mean</span>(JOURTR, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb172-5"><a href="#cb172-5"></a></span>
<span id="cb172-6"><a href="#cb172-6"></a><span class="fu">barplot</span>(ex_barplot<span class="sc">$</span>moy_jour_tr, <span class="at">legend.text =</span> ex_barplot<span class="sc">$</span>SEXE)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="slides_files/figure-revealjs/unnamed-chunk-102-1.png" width="960"></p>
</div>
</div>
</div>
<div id="tabset-18-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb173"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb173-1"><a href="#cb173-1"></a>ex_hist <span class="ot">&lt;-</span> EEC_2019 <span class="sc">%&gt;%</span></span>
<span id="cb173-2"><a href="#cb173-2"></a>  <span class="fu">select</span>(JOURTR)</span>
<span id="cb173-3"><a href="#cb173-3"></a></span>
<span id="cb173-4"><a href="#cb173-4"></a><span class="fu">hist</span>(ex_hist<span class="sc">$</span>JOURTR)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="slides_files/figure-revealjs/unnamed-chunk-103-1.png" width="960"></p>
</div>
</div>
</div>
<div id="tabset-18-3">
<div class="cell">
<div class="sourceCode cell-code" id="cb174"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb174-1"><a href="#cb174-1"></a><span class="fu">data</span>(iris)</span>
<span id="cb174-2"><a href="#cb174-2"></a><span class="fu">plot</span>(<span class="at">x =</span> iris<span class="sc">$</span>Sepal.Length, <span class="at">y =</span> iris<span class="sc">$</span>Sepal.Width)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="slides_files/figure-revealjs/unnamed-chunk-104-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="ressources-sur-ggplot2" class="slide level2 scrollable smaller">
<h2>Ressources sur ggplot2</h2>
<p><br></p>
<p>Le package <code>ggplot2</code> permet de cr√©er des graphiques tr√®s souplement, en modifiant une grande partie des param√®tres. Il ne fait pas l‚Äôobjet d‚Äôune pr√©sentation ici, mais pour s‚Äôy former, la fiche UtilitR sur le sujet <a href="https://www.book.utilitr.org/03_fiches_thematiques/fiche_graphiques">UtilitR-Ggplot2</a> , ainsi que le site <a href="https://r-graph-gallery.com/">R-graph-gallery</a> vous sont recommand√©s.</p>
<p>Enfin, pour avoir des recommandations sur les diff√©rents types de visualisation possibles selon la nature des variables √† repr√©senter, le site <a href="https://www.data-to-viz.com/">From Data to Viz</a> est tr√®s utile.</p>
</section></section>
<section id="exporter-des-donn√©es" class="title-slide slide level1 scrollable smaller center">
<h1>Exporter des donn√©es</h1>
<div class="panel-tabset">
<ul id="tabset-19" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-19-1">En Excel : UtilitR</a></li><li><a href="#tabset-19-2">En CSV</a></li><li><a href="#tabset-19-3">En PNG</a></li></ul>
<div class="tab-content">
<div id="tabset-19-1">
<p>Pour l‚Äôexportation de donn√©es au format <strong>xlsx</strong>, le package <code>openxlsx</code> est √† privil√©gier car il pr√©sente de multiples options tr√®s pratiques pour personnaliser les exports.</p>
<p>Les <a href="https://ycphs.github.io/openxlsx/articles/Introduction.html">deux vignettes</a> du package sur ce sujet apportent quelques exemples des potentialit√©s d‚Äô√©criture de classeurs xlsx. La premi√®re pr√©sente notamment l‚Äôutilisation de la fonction <code>write.xlsx()</code> et la seconde illustre quelques possibilit√©s autour de la fonction <code>writeData()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb175"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb175-1"><a href="#cb175-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb175-2"><a href="#cb175-2"></a></span>
<span id="cb175-3"><a href="#cb175-3"></a>eff_par_age <span class="ot">&lt;-</span> EEC_2019 <span class="sc">%&gt;%</span></span>
<span id="cb175-4"><a href="#cb175-4"></a>  <span class="fu">group_by</span>(AGE3) <span class="sc">%&gt;%</span></span>
<span id="cb175-5"><a href="#cb175-5"></a>  <span class="fu">summarise</span>(<span class="at">eff_par_age =</span> <span class="fu">n</span>())</span>
<span id="cb175-6"><a href="#cb175-6"></a>eff_par_age</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 √ó 2
   AGE3 eff_par_age
  &lt;int&gt;       &lt;int&gt;
1    15       78826
2    30      117025
3    50      220447</code></pre>
</div>
<div class="sourceCode cell-code" id="cb177"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb177-1"><a href="#cb177-1"></a><span class="fu">library</span>(openxlsx)</span>
<span id="cb177-2"><a href="#cb177-2"></a></span>
<span id="cb177-3"><a href="#cb177-3"></a><span class="fu">write.xlsx</span>(eff_par_age, <span class="at">file =</span> <span class="st">"mon_export.xlsx"</span>, <span class="at">asTable =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-19-2">
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb178"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb178-1"><a href="#cb178-1"></a>eff_par_age <span class="ot">&lt;-</span> EEC_2019 <span class="sc">%&gt;%</span></span>
<span id="cb178-2"><a href="#cb178-2"></a>  <span class="fu">group_by</span>(AGE3) <span class="sc">%&gt;%</span></span>
<span id="cb178-3"><a href="#cb178-3"></a>  <span class="fu">summarise</span>(<span class="at">eff_par_age =</span> <span class="fu">n</span>())</span>
<span id="cb178-4"><a href="#cb178-4"></a>eff_par_age</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 √ó 2
   AGE3 eff_par_age
  &lt;int&gt;       &lt;int&gt;
1    15       78826
2    30      117025
3    50      220447</code></pre>
</div>
<div class="sourceCode cell-code" id="cb180"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb180-1"><a href="#cb180-1"></a><span class="fu">write.csv</span>(<span class="at">x =</span> eff_par_age, <span class="at">file =</span> <span class="st">"monFichier.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-19-3">
<p><br></p>
<p>Pour exporter un graphique :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb181"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb181-1"><a href="#cb181-1"></a><span class="fu">png</span>(<span class="at">filename =</span> <span class="st">"mon_graphique.png"</span>, <span class="at">width =</span> <span class="dv">500</span>, <span class="at">height =</span> <span class="dv">300</span>)</span>
<span id="cb181-2"><a href="#cb181-2"></a><span class="fu">hist</span>(EEC_2019<span class="sc">$</span>JOURTR)</span>
<span id="cb181-3"><a href="#cb181-3"></a><span class="fu">dev.off</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>png 
  2 </code></pre>
</div>
</div>
</div>
</div>
</div>
</section>

<section id="aide-pour-r" class="title-slide slide level1 scrollable smaller center">
<h1>Aide pour R</h1>
<ul>
<li><p>cheatsheets disponibles sur UtilitR √† avoir en local</p></li>
<li><p>utilitR</p></li>
<li><p>stackoverflow</p></li>
<li><p>issues github sur le sujet</p></li>
<li><p>forums internes : tchap Outils Stats v2, Langage R, Dares entraide Git et R</p></li>
<li><p>vos coll√®gues</p></li>
<li><p>nous</p></li>
<li><p>des ateliers th√©matiques</p></li>
</ul>
</section>

<section id="bibliographie" class="title-slide slide level1 center">
<h1>Bibliographie</h1>

<div class="footer footer-default">
<p>Formation R - Dares</p>
</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="site_libs/revealjs/plugin/search/search.js"></script>
  <script src="site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>