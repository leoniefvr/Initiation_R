<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Formation R - Prise en main des donn√©es avec R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Prise en main des donn√©es avec R</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Formation R</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle sidebar-tool" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Introduction</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./slides.html" class="sidebar-item-text sidebar-link active">Slides</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exercice_1.html" class="sidebar-item-text sidebar-link">Exercice 1</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exercice_2.html" class="sidebar-item-text sidebar-link">Exercice 2</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exercice_3.html" class="sidebar-item-text sidebar-link">Exercice 3</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exercice_4.html" class="sidebar-item-text sidebar-link">Exercice 4</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ressources.html" class="sidebar-item-text sidebar-link">Ressources</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#un-rapide-tour-de-table-pour-apprendre-√†-se-conna√Ætre" id="toc-un-rapide-tour-de-table-pour-apprendre-√†-se-conna√Ætre" class="nav-link active" data-scroll-target="#un-rapide-tour-de-table-pour-apprendre-√†-se-conna√Ætre">Un rapide tour de table pour apprendre √† se conna√Ætre üôÇ</a></li>
  <li><a href="#pourquoi-r" id="toc-pourquoi-r" class="nav-link" data-scroll-target="#pourquoi-r">Pourquoi R ?</a></li>
  <li><a href="#fonctionnement-de-r" id="toc-fonctionnement-de-r" class="nav-link" data-scroll-target="#fonctionnement-de-r">Fonctionnement de R</a></li>
  <li><a href="#les-sp√©cificit√©s-de-r" id="toc-les-sp√©cificit√©s-de-r" class="nav-link" data-scroll-target="#les-sp√©cificit√©s-de-r">Les sp√©cificit√©s de R</a></li>
  <li><a href="#pr√©sentation-de-rstudio" id="toc-pr√©sentation-de-rstudio" class="nav-link" data-scroll-target="#pr√©sentation-de-rstudio">Pr√©sentation de RStudio</a>
  <ul class="collapse">
  <li><a href="#la-console" id="toc-la-console" class="nav-link" data-scroll-target="#la-console">La console</a></li>
  <li><a href="#lenvironnement" id="toc-lenvironnement" class="nav-link" data-scroll-target="#lenvironnement">L‚Äôenvironnement :</a></li>
  <li><a href="#files-packages-help" id="toc-files-packages-help" class="nav-link" data-scroll-target="#files-packages-help">Files, packages, help ‚Ä¶</a></li>
  <li><a href="#utiliser-laide" id="toc-utiliser-laide" class="nav-link" data-scroll-target="#utiliser-laide">Utiliser l‚Äôaide</a></li>
  <li><a href="#limportance-des-packages" id="toc-limportance-des-packages" class="nav-link" data-scroll-target="#limportance-des-packages">L‚Äôimportance des packages</a></li>
  <li><a href="#travailler-avec-les-projets-r-studio-quest-ce-que-cest" id="toc-travailler-avec-les-projets-r-studio-quest-ce-que-cest" class="nav-link" data-scroll-target="#travailler-avec-les-projets-r-studio-quest-ce-que-cest">Travailler avec les projets R Studio : qu‚Äôest-ce que c‚Äôest ?</a></li>
  <li><a href="#travailler-avec-les-projets-r-studio-pourquoi" id="toc-travailler-avec-les-projets-r-studio-pourquoi" class="nav-link" data-scroll-target="#travailler-avec-les-projets-r-studio-pourquoi">Travailler avec les projets R Studio : pourquoi ?</a></li>
  <li><a href="#cr√©er-un-projet" id="toc-cr√©er-un-projet" class="nav-link" data-scroll-target="#cr√©er-un-projet">Cr√©er un projet</a></li>
  <li><a href="#ouvrir-un-projet-source-utilitr" id="toc-ouvrir-un-projet-source-utilitr" class="nav-link" data-scroll-target="#ouvrir-un-projet-source-utilitr">Ouvrir un projet (source : UtilitR)</a></li>
  <li><a href="#fermer-un-projet-voir-utilitr" id="toc-fermer-un-projet-voir-utilitr" class="nav-link" data-scroll-target="#fermer-un-projet-voir-utilitr">Fermer un projet (voir UtilitR)</a></li>
  <li><a href="#fermer-un-projet-voir-utilitr-1" id="toc-fermer-un-projet-voir-utilitr-1" class="nav-link" data-scroll-target="#fermer-un-projet-voir-utilitr-1">Fermer un projet (voir UtilitR)</a></li>
  <li><a href="#r√©diger-un-programme-r-les-bonnes-pratiques" id="toc-r√©diger-un-programme-r-les-bonnes-pratiques" class="nav-link" data-scroll-target="#r√©diger-un-programme-r-les-bonnes-pratiques">R√©diger un programme R : les bonnes pratiques</a></li>
  <li><a href="#r√©diger-un-programme-r-les-bonnes-pratiques-1" id="toc-r√©diger-un-programme-r-les-bonnes-pratiques-1" class="nav-link" data-scroll-target="#r√©diger-un-programme-r-les-bonnes-pratiques-1">R√©diger un programme R : les bonnes pratiques</a></li>
  <li><a href="#importer-des-donn√©es" id="toc-importer-des-donn√©es" class="nav-link" data-scroll-target="#importer-des-donn√©es">Importer des donn√©es</a></li>
  <li><a href="#r-une-logique-vectorielle" id="toc-r-une-logique-vectorielle" class="nav-link" data-scroll-target="#r-une-logique-vectorielle">R : une logique vectorielle</a></li>
  <li><a href="#les-objets-√©l√©mentaires-et-leurs-types" id="toc-les-objets-√©l√©mentaires-et-leurs-types" class="nav-link" data-scroll-target="#les-objets-√©l√©mentaires-et-leurs-types">Les objets √©l√©mentaires et leurs types</a></li>
  <li><a href="#les-structures-de-donn√©es-de-base-en-r" id="toc-les-structures-de-donn√©es-de-base-en-r" class="nav-link" data-scroll-target="#les-structures-de-donn√©es-de-base-en-r">Les structures de donn√©es de base en R</a></li>
  </ul></li>
  <li><a href="#manipuler-des-donn√©es-les-avantages-de-dplyr" id="toc-manipuler-des-donn√©es-les-avantages-de-dplyr" class="nav-link" data-scroll-target="#manipuler-des-donn√©es-les-avantages-de-dplyr">Manipuler des donn√©es : les avantages de dplyr</a>
  <ul class="collapse">
  <li><a href="#data-frames" id="toc-data-frames" class="nav-link" data-scroll-target="#data-frames">Data frames</a></li>
  <li><a href="#op√©rations-de-base-sur-les-data.frames-r-base-ou-dplyr" id="toc-op√©rations-de-base-sur-les-data.frames-r-base-ou-dplyr" class="nav-link" data-scroll-target="#op√©rations-de-base-sur-les-data.frames-r-base-ou-dplyr">Op√©rations de base sur les data.frames : R base ou dplyr ?</a></li>
  <li><a href="#op√©rations-de-base-sur-les-data.frames-r-base" id="toc-op√©rations-de-base-sur-les-data.frames-r-base" class="nav-link" data-scroll-target="#op√©rations-de-base-sur-les-data.frames-r-base">Op√©rations de base sur les data.frames : R base</a></li>
  <li><a href="#op√©rations-de-base-sur-les-data.frames-convertir-des-colonnes" id="toc-op√©rations-de-base-sur-les-data.frames-convertir-des-colonnes" class="nav-link" data-scroll-target="#op√©rations-de-base-sur-les-data.frames-convertir-des-colonnes">Op√©rations de base sur les data.frames : convertir des colonnes</a></li>
  <li><a href="#les-facteurs-un-outil-pour-les-variables-qualitatives" id="toc-les-facteurs-un-outil-pour-les-variables-qualitatives" class="nav-link" data-scroll-target="#les-facteurs-un-outil-pour-les-variables-qualitatives">Les facteurs : un outil pour les variables qualitatives</a></li>
  <li><a href="#op√©rations-de-base-sur-les-data.frames-les-valeurs-manquantes" id="toc-op√©rations-de-base-sur-les-data.frames-les-valeurs-manquantes" class="nav-link" data-scroll-target="#op√©rations-de-base-sur-les-data.frames-les-valeurs-manquantes">Op√©rations de base sur les data.frames : les valeurs manquantes</a></li>
  <li><a href="#les-dates-sous-r" id="toc-les-dates-sous-r" class="nav-link" data-scroll-target="#les-dates-sous-r">Les dates sous R</a></li>
  <li><a href="#tidyverse-dplyr-et-le-pipe" id="toc-tidyverse-dplyr-et-le-pipe" class="nav-link" data-scroll-target="#tidyverse-dplyr-et-le-pipe">Tidyverse, dplyr et le pipe</a></li>
  <li><a href="#le-pipe" id="toc-le-pipe" class="nav-link" data-scroll-target="#le-pipe">Le pipe</a></li>
  <li><a href="#s√©lectionner-des-colonnes-1" id="toc-s√©lectionner-des-colonnes-1" class="nav-link" data-scroll-target="#s√©lectionner-des-colonnes-1">S√©lectionner des colonnes</a></li>
  <li><a href="#afficher-les-premi√®res-lignes" id="toc-afficher-les-premi√®res-lignes" class="nav-link" data-scroll-target="#afficher-les-premi√®res-lignes">Afficher les premi√®res lignes</a></li>
  <li><a href="#filtrer-des-lignes" id="toc-filtrer-des-lignes" class="nav-link" data-scroll-target="#filtrer-des-lignes">Filtrer des lignes</a></li>
  <li><a href="#filtrer-des-lignes-1" id="toc-filtrer-des-lignes-1" class="nav-link" data-scroll-target="#filtrer-des-lignes-1">Filtrer des lignes</a></li>
  <li><a href="#cr√©er-une-variable" id="toc-cr√©er-une-variable" class="nav-link" data-scroll-target="#cr√©er-une-variable">Cr√©er une variable</a></li>
  <li><a href="#modifier-des-variables" id="toc-modifier-des-variables" class="nav-link" data-scroll-target="#modifier-des-variables">Modifier des variables</a></li>
  <li><a href="#convertir-des-variables" id="toc-convertir-des-variables" class="nav-link" data-scroll-target="#convertir-des-variables">Convertir des variables</a></li>
  </ul></li>
  <li><a href="#statistiques-descriptives" id="toc-statistiques-descriptives" class="nav-link" data-scroll-target="#statistiques-descriptives">Statistiques descriptives</a>
  <ul class="collapse">
  <li><a href="#la-fonction-count" id="toc-la-fonction-count" class="nav-link" data-scroll-target="#la-fonction-count">La fonction COUNT</a></li>
  <li><a href="#la-fonction-summarise" id="toc-la-fonction-summarise" class="nav-link" data-scroll-target="#la-fonction-summarise">La fonction summarise</a></li>
  <li><a href="#la-fonction-summarise-1" id="toc-la-fonction-summarise-1" class="nav-link" data-scroll-target="#la-fonction-summarise-1">La fonction summarise</a></li>
  <li><a href="#regrouper-par-cat√©gorie" id="toc-regrouper-par-cat√©gorie" class="nav-link" data-scroll-target="#regrouper-par-cat√©gorie">Regrouper par cat√©gorie</a></li>
  <li><a href="#trier-ses-donn√©es" id="toc-trier-ses-donn√©es" class="nav-link" data-scroll-target="#trier-ses-donn√©es">Trier ses donn√©es</a>
  <ul class="collapse">
  <li><a href="#connaitre-le-num√©ro-de-ligne" id="toc-connaitre-le-num√©ro-de-ligne" class="nav-link" data-scroll-target="#connaitre-le-num√©ro-de-ligne">Connaitre le num√©ro de ligne</a></li>
  </ul></li>
  <li><a href="#travailler-avec-des-donn√©es-pond√©r√©es" id="toc-travailler-avec-des-donn√©es-pond√©r√©es" class="nav-link" data-scroll-target="#travailler-avec-des-donn√©es-pond√©r√©es">Travailler avec des donn√©es pond√©r√©es</a></li>
  <li><a href="#concat√©nations" id="toc-concat√©nations" class="nav-link" data-scroll-target="#concat√©nations">Concat√©nations</a></li>
  <li><a href="#jointures" id="toc-jointures" class="nav-link" data-scroll-target="#jointures">Jointures</a></li>
  <li><a href="#transpositions" id="toc-transpositions" class="nav-link" data-scroll-target="#transpositions">Transpositions</a></li>
  <li><a href="#graphiques-avec-plot" id="toc-graphiques-avec-plot" class="nav-link" data-scroll-target="#graphiques-avec-plot">Graphiques avec plot</a></li>
  <li><a href="#ressources-sur-ggplot2" id="toc-ressources-sur-ggplot2" class="nav-link" data-scroll-target="#ressources-sur-ggplot2">Ressources sur ggplot2</a></li>
  </ul></li>
  <li><a href="#exporter-des-donn√©es" id="toc-exporter-des-donn√©es" class="nav-link" data-scroll-target="#exporter-des-donn√©es">Exporter des donn√©es</a></li>
  <li><a href="#aide-pour-r" id="toc-aide-pour-r" class="nav-link" data-scroll-target="#aide-pour-r">Aide pour R</a></li>
  <li><a href="#bibliographie" id="toc-bibliographie" class="nav-link" data-scroll-target="#bibliographie">Bibliographie</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">Prise en main des donn√©es avec R</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="un-rapide-tour-de-table-pour-apprendre-√†-se-conna√Ætre" class="level2">
<h2 class="anchored" data-anchor-id="un-rapide-tour-de-table-pour-apprendre-√†-se-conna√Ætre">Un rapide tour de table pour apprendre √† se conna√Ætre üôÇ</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/picture_1.jpg" class="img-fluid figure-img"></p>
</figure>
</div>
</section>
<section id="pourquoi-r" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="pourquoi-r">Pourquoi R ?</h2>
<p><br></p>
<div class="incremental">
<ul class="incremental">
<li>‚≠ê Open source et gratuit ‚≠ê</li>
<li>üåê Harmonisation des langages au sein du SSP üåê</li>
<li>üìà Analyse statistique avanc√©e üìà</li>
<li>üå≥ Vaste √©cosyst√®me : extensions appel√©es ‚Äúpackages‚Äù (environ 20 000) üå≥</li>
<li>ü§ù Communaut√© importante : facilit√©s pour trouver de l‚Äôaide ü§ù</li>
</ul>
</div>
</section>
<section id="fonctionnement-de-r" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="fonctionnement-de-r">Fonctionnement de R</h2>
<p><br></p>
<ul>
<li><p>R est un environnement et un langage de programmation</p></li>
<li><p><strong>Langage interpr√©t√©</strong> : plus proche de notre langage que du langage machine</p></li>
<li><p><strong>Langage compil√©</strong> : les commandes tap√©es sont ex√©cut√©es directement</p></li>
<li><p><strong>Langage objet</strong> : on assigne une valeur √† quelque chose (<code>a &lt;- 1</code>). Le symbole <code>&lt;-</code> d√©signe l‚Äôassignation. Les objets sont pr√©sents dans la m√©moire vive de l‚Äôordinateur (RAM) et l‚Äôassignation est une mani√®re d‚Äôy avoir acc√®s.</p></li>
</ul>
<p>‚õî<strong>Attention :</strong> le symbole <code>=</code> permet √©galement l‚Äôassignation, mais c‚Äôest une tr√®s mauvaise pratique de l‚Äôutiliser comme tel. Le symbole <code>=</code> est utilis√© de pr√©f√©rence pour renseigner la valeur des arguments des fonctions dans R. Vous pourrez n√©anmoins le rencontrer parfois comme mani√®re d‚Äôassigner. ‚õî</p>
</section>
<section id="les-sp√©cificit√©s-de-r" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="les-sp√©cificit√©s-de-r">Les sp√©cificit√©s de R</h2>
<p><br></p>
<p>Toutes les op√©rations sont enregistr√©es dans la m√©moire vive de l‚Äôordinateur (RAM) :</p>
<ul>
<li><p>Cela peut poser des probl√®mes lors de la manipulation de donn√©es volumineuses.</p></li>
<li><p>En SAS, la m√©moire RAM est sollicit√©e au minimum, des fichiers temporaires sont cr√©√©s.</p>
<table class="table">
<colgroup>
<col style="width: 100%">
</colgroup>
<tbody>
<tr class="odd">
<td>‚õîImpossible de charger des donn√©es de 50GO avec un ordinateur ayant 32GO de RAM ‚õî</td>
</tr>
</tbody>
</table>
<p><strong>Attention :</strong> R distingue les minuscules et les majuscules</p></li>
</ul>
</section>
<section id="pr√©sentation-de-rstudio" class="level1 scrollable">
<h1 class="scrollable">Pr√©sentation de RStudio</h1>
<p>RStudio est un environnement de d√©veloppement gratuit, libre et multiplateforme pour R, un langage de programmation utilis√© pour le traitement de donn√©es et l‚Äôanalyse statistique.</p>
<section id="la-console" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="la-console">La console</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>La <strong>console</strong> est un peu comme une calculatrice, elle ex√©cute mais <strong>ne stocke pas</strong> :</p>
<ul>
<li><p>Entrer les commandes</p></li>
<li><p>Afficher les r√©sultats</p></li>
<li><p>Afficher les messages d‚Äôerreur</p></li>
<li><p>Ne stocke pas d‚Äôinformation</p></li>
</ul>
<p><br></p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Code</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">R√©sultat</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="scrollable tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="dv">152</span><span class="sc">/</span><span class="dv">17</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-1-2" class="scrollable tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 8.941176</code></pre>
</div>
</div>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<p><img src="images/console_R.jpeg" class="img-fluid"></p>
</div>
</div>
</section>
<section id="lenvironnement" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="lenvironnement">L‚Äôenvironnement :</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><br></p>
<ul>
<li>Etat de la m√©moire <br></li>
<li>R√©pertoire des donn√©es (stockage des objets) <br></li>
<li>Import de donn√©es en mode ‚Äúclic-bouton‚Äù</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>test_environnement <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">+</span><span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<p><img src="images/console_R.jpeg" class="img-fluid"></p>
</div>
</div>
</section>
<section id="files-packages-help" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="files-packages-help">Files, packages, help ‚Ä¶</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Files</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">Plots</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false">Packages</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-4" role="tab" aria-controls="tabset-2-4" aria-selected="false">Help</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="scrollable tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<p><br></p>
<p>Obtenir le chemin √† la racine de ma working directory :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<p>La working directory est l‚Äôendroit o√π R lit et exporte par d√©faut les fichiers.</p>
</div>
<div id="tabset-2-2" class="scrollable tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<p><br></p>
<p>Fen√™tre d‚Äôaffichage des graphiques :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-2-3" class="scrollable tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<p><br></p>
<p>Permet de voir les packages install√©s et charg√©s.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"existepas"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Permet √©galement de les installer, les mettre √† jour et les charger en clic bouton.</p>
</div>
<div id="tabset-2-4" class="scrollable tab-pane" role="tabpanel" aria-labelledby="tabset-2-4-tab">
<p><br></p>
<p>Permet d‚Äôacc√©der √† la documentation des fonctions, ainsi qu‚Äô√† des exemples. Par exemple, je ne comprends pas la fonction <code>mean()</code> :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">help</span>(<span class="st">"mean"</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co">#ou</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>?mean</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>La documentation de la fonction s‚Äôaffiche dans la fen√™tre Help.</p>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<p><img src="images/console_R.jpeg" class="img-fluid"></p>
</div>
</div>
</section>
<section id="utiliser-laide" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="utiliser-laide">Utiliser l‚Äôaide</h2>
<p><br></p>
<p>Les fonctions des packages sont document√©es (de mani√®re in√©gale selon les packages‚Ä¶), et les <strong>arguments</strong> principaux de chaque fonction sont pr√©sent√©s dans l‚Äôaide, avec des exemples d‚Äôappel de la fonction.</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body" title="Bonne pratique">
<p>Lorsqu‚Äôon appelle une fonction dans R, R d√©tecte souvent automatiquement les arguments sans qu‚Äôon ait besoin de les nommer explicitement. Pour des raisons de lisibilit√© du code, il est recommand√© de les <strong>nommer</strong> syst√©matiquement.</p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>un_vecteur <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span> ,<span class="dv">9</span> , <span class="dv">45</span>, <span class="dv">10</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="do">###Bonne pratique###</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(<span class="at">x =</span> un_vecteur)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 13.8</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="do">###Mauvaise pratique###</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(un_vecteur)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 13.8</code></pre>
</div>
</div>
</section>
<section id="limportance-des-packages" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="limportance-des-packages">L‚Äôimportance des packages</h2>
<p>Pour installer un package <strong>dans la console</strong>, on utilise :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"dplyr"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Bonne pratique
</div>
</div>
<div class="callout-body-container callout-body">
<p>Ne pas laisser dans un script R (un fichier de code) l‚Äôinstruction <code>install.packages()</code>, car lors de la transmission d‚Äôun script, la personne peut l‚Äôex√©cuter par erreur alors que le package est d√©j√† install√©/√† jour sur son poste de travail.</p>
</div>
</div>
<p>Cela permet de charger (ou mettre √† jour) le package sur disque, depuis le <strong>CRAN</strong>. cette instruction n√©cessite donc une connexion √† internet.</p>
<p>On charge ensuite le package en m√©moire vive :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"dplyr"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p>L‚Äôinstallation du package n‚Äôest √† ex√©cuter <strong>qu‚Äôune seule fois</strong></p></li>
<li><p><code>install.packages()</code> permet aussi de r√©cup√©rer une version mise √† jour disponible sur le CRAN</p></li>
<li><p>Le chargement en m√©moire vive (avec <code>library()</code>) doit √™tre effectu√© au d√©but de chaque session ouverte de R pour avoir acc√®s aux fonctionnalit√©s du package.</p></li>
</ul>
<div class="callout-warning callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>‚õî Il existe un grand nombre de packages, mais certains sont <strong>DEPRECATED</strong> : leur utilisation n‚Äôest plus recommand√©e car ils ne sont plus mis √† jour et entretenus. Pour assurer la p√©rennit√© d‚Äôun programme, (cha√Æne de production), il est recommand√© de n‚Äôutiliser que des packages largemment utilis√©s, r√©guli√®rement mis √† jour et recommand√© par la communaut√© (sur UtilitR par exemple).‚õî</p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: le package 'dplyr' a √©t√© compil√© avec la version R 4.2.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attachement du package : 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Les objets suivants sont masqu√©s depuis 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Les objets suivants sont masqu√©s depuis 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
</div>
</section>
<section id="travailler-avec-les-projets-r-studio-quest-ce-que-cest" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="travailler-avec-les-projets-r-studio-quest-ce-que-cest">Travailler avec les projets R Studio : qu‚Äôest-ce que c‚Äôest ?</h2>
<p>Il est recommand√© de regrouper les scripts et autres fichiers relatifs √† un m√™me ‚Äúprojet statistique‚Äù ou √† une m√™me cha√Æne de production √† l‚Äôaide d‚Äôun projet RStudio.</p>
<p>Un <strong>projet RStudio</strong> permet de :</p>
<ul>
<li><p><strong>regrouper</strong> les programmes et autres types de documents d‚Äôun m√™me projet ensemble ;</p></li>
<li><p>faciliter le <strong>suivi des modifcations</strong>, notamment avec git ;</p></li>
<li><p>favoriser la <strong>reproductibilit√©</strong> et la transmission des r√©glages li√©s √† un projet statistique.</p></li>
</ul>
<p>En pratique, c‚Äôest un fichier <code>.Rproj</code> dans un dossier qui contient les programmes et les documents d‚Äôun m√™me projet statistique.</p>
</section>
<section id="travailler-avec-les-projets-r-studio-pourquoi" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="travailler-avec-les-projets-r-studio-pourquoi">Travailler avec les projets R Studio : pourquoi ?</h2>
<p>Il est recommand√© de travailler syst√©matiquement avec les projets RStudio. Un projet RStudio :</p>
<ul>
<li><p><strong>centralise</strong> les √©l√©ments d‚Äôun projet statistique et permet d‚Äôy avoir acc√®s plus facilement avec les <strong>chemins relatifs</strong> : dans un programme, pour faire r√©f√©rence √† un document du projet RStudio, il suffit de renseigner son nom car le r√©pertoire de travail par d√©faut d‚Äôun projet est le dossier o√π se situe le fichier <code>.Rproj</code>.</p></li>
<li><p><strong>am√©liore le travail collaboratif</strong> : le principe des chemins relatifs rend le projet statistique ind√©pendant de l‚Äôarborescence de la machine sur laquelle il est h√©berg√©, et permet de d√©placer les fichiers plus facilement.</p></li>
<li><p><strong>favorise la</strong> <strong>reproductibilit√©</strong> du projet statistique (ou de d√©veloppement, d‚Äôun package par exemple). Il facilite √©galement le travail avec <strong>Git</strong>. Il est facile de relier un projet RStudio √† git pour travailler collaborativement.</p></li>
</ul>
</section>
<section id="cr√©er-un-projet" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="cr√©er-un-projet">Cr√©er un projet</h2>
<div class="columns">
<div class="column" style="width:30%;">
<p>Pour cr√©er un projet sur RStudio :</p>
<ul>
<li><p><code>File &gt; New project</code></p></li>
<li><p>Il est possible de le cr√©er dans un nouveau dossier vide <code>New directory</code> ou dans un dossier existant <code>Existing directory</code>.</p></li>
<li><p>Il est √©galement possible de le relier directement √† git <code>Version Control</code>.</p></li>
</ul>
</div><div class="column" style="width:60%;">
<div class="r-stack">
<p><img src="images/creer_projet_rstudio.png" class="fragment" width="550" height="400"></p>
<p><img src="images/new_project_2.png" class="fragment" width="550" height="400"></p>
<p><img src="images/new_project_3.png" class="fragment" width="550" height="400"></p>
</div>
</div>
</div>
</section>
<section id="ouvrir-un-projet-source-utilitr" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="ouvrir-un-projet-source-utilitr">Ouvrir un projet (source : UtilitR)</h2>
<p><br></p>
<p>Lorsqu‚Äôon ouvre un projet RStudio :</p>
<ul>
<li><p>une nouvelle session R s‚Äôouvre ;</p></li>
<li><p>les sauvegardes de l‚Äôenvironnement sont ouvertes √† partir du fichier <code>.RData</code> si l‚Äôenregistrement a √©t√© activ√© (d√©conseill√©) ;</p></li>
<li><p>la working directory est automatiquement d√©finie dans le dossier o√π se trouve le fichier <code>.Rproj</code> ;</p></li>
<li><p>les documents ouverts au moment o√π le projet a √©t√© ferm√© pour la derni√®re fois sont restaur√©s, m√™me s‚Äôils n‚Äôavaient pas √©t√© sauv√©s.</p></li>
</ul>
</section>
<section id="fermer-un-projet-voir-utilitr" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="fermer-un-projet-voir-utilitr">Fermer un projet (voir UtilitR)</h2>
<p><br></p>
<p>D‚Äôapr√®s la <a href="https://www.book.utilitr.org/03_fiches_thematiques/fiche_rprojects">documentation UtilitR sur les bonnes pratiques</a> :</p>
<p>Il est fortement conseill√© de d√©sactiver la sauvegarde du fichier <code>.RData</code> √† la fermeture du projet. Pour ce faire, il faut aller dans <code>Tools &gt; Global Options</code> et rester dans l‚Äôonglet General. Chercher <code>Save workspace to .RData on exit:</code>, et choisir l‚Äôoption Never.</p>
<p>::: {.callout-tip title=‚ÄúBonne pratique‚Äù} Sauvegarder et recharger les donn√©es du projet avec le fichier <code>.RData</code> est une <strong>tr√®s mauvaise pratique</strong> en termes de reproductibilit√©. En effet, il se peut que les donn√©es sauvegard√©es dans le <code>.RData</code> aient subi des modifications non document√©es (par exemple via la console), ou que les instructions pr√©sentes dans les scripts du projet n‚Äôaient pas √©t√© ex√©cut√©es dans l‚Äôordre. Dans ce cas, les donn√©es contenues dans le <code>.RData</code> peuvent ne pas √™tre coh√©rentes avec le projet, et en les utilisant vous risquez de ne pas obtenir les r√©sultats que vous voulez. :::</p>
</section>
<section id="fermer-un-projet-voir-utilitr-1" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="fermer-un-projet-voir-utilitr-1">Fermer un projet (voir UtilitR)</h2>
<div class="r-stack">
<p><img src="images/new_script.png" class="fragment" width="550" height="400"></p>
<p><img src="images/close_project_1.png" class="fragment" width="550" height="400"></p>
<p><img src="images/close_project_2.png" class="fragment" width="550" height="400"></p>
<p><img src="images/close_project_3.png" class="fragment" width="550" height="400"></p>
</div>
</section>
<section id="r√©diger-un-programme-r-les-bonnes-pratiques" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="r√©diger-un-programme-r-les-bonnes-pratiques">R√©diger un programme R : les bonnes pratiques</h2>
<p><br></p>
<p>Comme nous l‚Äôavons vu, la console ne permet pas de stocker un programme. Pour r√©diger un programme r√©plicable, il faut cr√©er un <strong>script R</strong> (fichier <code>.R</code>).</p>
<p>Cette formation vise √† vous proposer quelques bonnes pratiques qui permettent la transmission des programmes R, notamment ceux des cha√Ænes de production.</p>
<p>Ces bonnes pratiques sont inspir√©es de <a href="https://www.pratiques.utilitr.org/boite-%C3%A0-outils.html">Chapitre 5 Boite √† outils | Guide des bonnes pratiques en R √† l‚Äôusage des statisticiens publics (utilitr.org)</a>.</p>
</section>
<section id="r√©diger-un-programme-r-les-bonnes-pratiques-1" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="r√©diger-un-programme-r-les-bonnes-pratiques-1">R√©diger un programme R : les bonnes pratiques</h2>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">Nom</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">Espace et indentation</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-3" role="tab" aria-controls="tabset-3-3" aria-selected="false">Commentaire</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<ul>
<li><p>Le <strong>nom des scripts R</strong> (fichiers .R) peut √™tre pr√©fix√© par sa <strong>position dans la cha√Æne de production</strong>.</p></li>
<li><p>Le nom des scripts R peut √™tre suffix√© par le <strong>mill√©sime de la production</strong>, en cas de changement par rapport √† la derni√®re production et surtout en l‚Äôabsence de versionage (git).</p></li>
<li><p>Il est pr√©f√©rable que le nom des objets (script, variable dans le programme, tableau de donn√©es‚Ä¶) ne contiennent <strong>pas de caract√®res sp√©ciaux, d‚Äôaccent</strong> et que les mots soient s√©par√©s par des <strong>underscores</strong>.</p></li>
<li><p>Pour le nom des variables et tables manipul√©es dans le code, il est recommand√© d‚Äôutiliser des <strong>substantifs informatifs</strong>.</p></li>
<li><p>Dans l‚Äôappel d‚Äôune <strong>fonction</strong>, il est recommand√© de <strong>nommer les arguments</strong> sp√©cifi√©s explicitement, pour favoriser la r√©plicabilit√© et la compr√©hension pour le lecteur.</p></li>
</ul>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<ul>
<li><p>Il est recommand√© de retourner r√©guli√®rement √† la ligne pour rendre le code plus lisible.</p></li>
<li><p>L‚Äô<strong>indentation</strong> n‚Äôest pas automatique en R (contrairement √† Python), il est recommand√© d‚Äôindenter le code pour am√©liorer sa lisibilit√©. Le raccourci <code>CTRL + I</code> permet de r√©indenter une s√©lection de lignes.</p></li>
<li><p>Il est recommand√© d‚Äôins√©rer des espaces entre les op√©rateurs : assignation <code>&lt;-</code> ; comparaison <code>&lt;</code> <code>&gt;</code> <code>&lt;=</code> <code>&gt;=</code> <code>==</code> <code>!=</code> ; op√©rations <code>+</code> <code>-</code> <code>=</code>.</p></li>
<li><p>Pas d‚Äôespace avant ou apr√®s les parenth√®ses et crochets.</p></li>
</ul>
</div>
<div id="tabset-3-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-3-tab">
<ul>
<li><p>Il est recommand√© de <strong>commenter</strong> le code. Un commentaire d√©bute par <code>#</code> et se termine √† la fin de la ligne, contrairement √† SAS o√π il est possible d‚Äôencadrer du texte pour le commenter enti√®rement.</p></li>
<li><p>Le commentaire doit √™tre clair et relativement court : il est pr√©f√©rable de bien nommer les objets de mani√®re informative, ainsi que les arguments des fonctions.</p></li>
<li><p>Le script peut comporter des parties d√©limit√©es par des titres en commentaires.</p></li>
</ul>
</div>
</div>
</div>
</section>
<section id="importer-des-donn√©es" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="importer-des-donn√©es">Importer des donn√©es</h2>
<div class="cell">

</div>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true">Importer un fichier csv</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false">Importer un fichier Excel</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-3" role="tab" aria-controls="tabset-4-3" aria-selected="false">Importer un fichier Sas</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>EEC_2019 <span class="ot">&lt;-</span> <span class="fu">read.csv2</span>(<span class="st">"FD_EEC_2019.csv"</span>, </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>               <span class="at">header =</span> <span class="cn">TRUE</span>, </span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">sep =</span> <span class="st">";"</span>, </span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">quote =</span> <span class="st">"</span><span class="sc">\"</span><span class="st">"</span>, </span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">dec =</span> <span class="st">"."</span>, </span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">fill =</span> <span class="cn">TRUE</span>, </span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>               <span class="at">comment.char =</span> <span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(EEC_2019, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  ANNEE TRIM CATAU2010R METRODOM TYPMEN7 AGE3 AGE5 COURED ENFRED NFRRED SEXE
1  2019    1          1        1       1   50   60      2      2      1    2
2  2019    2          1        1       3   50   60      1      2      1    1
3  2019    2          1        1       3   50   60      1      2      1    2
4  2019    3          1        1       3   50   60      1      2      1    1
5  2019    3          1        1       3   50   60      1      2      1    2
  ACTEU ACTEU6 ACTIF ACTOP AIDFAM ANCCHOM ANCINACT CONTACT CREACCP DEM DISPOC
1     3      6     2     2     NA      NA       NA      NA      NA   0     NA
2     1      1     1     1     NA      NA       NA      NA      NA   0     NA
3     3      6     2     2      2      NA        8      NA      NA   0     NA
4     1      1     1     1     NA      NA       NA      NA      NA   0     NA
5     3      6     2     2      2      NA        8      NA      NA   0     NA
  GARDEB HALOR INSCONT MRA MRB MRBBIS MRC MRD MRDBIS MRE MREC MRF MRG MRGBIS
1     NA     2      NA  NA  NA     NA  NA  NA     NA  NA   NA  NA  NA     NA
2     NA     2      NA  NA  NA     NA  NA  NA     NA  NA   NA  NA  NA     NA
3     NA     2      NA  NA  NA     NA  NA  NA     NA  NA    2  NA  NA     NA
4     NA     2      NA  NA  NA     NA  NA  NA     NA  NA   NA  NA  NA     NA
5     NA     2      NA  NA  NA     NA  NA  NA     NA  NA    2  NA  NA     NA
  MRH MRI MRJ MRK MRL MRM MRN MRO MRPASSA MRPASSB MRPASSC MRS NONDIC NREC NRECA
1  NA  NA  NA  NA  NA  NA  NA  NA      NA      NA      NA  NA     NA   NA    NA
2  NA  NA  NA  NA  NA  NA  NA  NA      NA      NA      NA  NA     NA   NA    NA
3  NA  NA  NA  NA  NA  NA  NA  NA      NA      NA      NA  NA     NA   NA    NA
4  NA  NA  NA  NA  NA  NA  NA  NA      NA      NA      NA  NA     NA   NA    NA
5  NA  NA  NA  NA  NA  NA  NA  NA      NA      NA      NA  NA     NA   NA    NA
  NRECB OCCREF OFFICC OFFRE PASTRA PASTRB PASTRF PERCREV RABS RAISNREC RAISNSOU
1    NA      1     NA    NA     NA     NA     NA      NA   NA       NA       NA
2    NA      2     NA    NA     NA     NA     NA      NA   NA       NA       NA
3    NA      1     NA    NA      2      2      2      NA   NA       NA        5
4    NA      2     NA    NA      1     NA      1       1    8       NA       NA
5    NA      1     NA    NA      2      2      2      NA   NA       NA        5
  RAISPAS SOU SOUA SOUB SOUC SOUSEMPL STCHE TEMP TRAREF TYPCONT TYPCONTB CHPUB
1      NA  NA   NA   NA   NA       NA    NA    2     NA      NA       NA    NA
2      NA   2    2    2   NA       NA    NA   NA      1      NA       NA     1
3      NA   2   NA   NA    2       NA    NA   NA      2      NA       NA    NA
4      NA   2    2    2   NA        3    NA   NA      2      NA       NA     1
5      NA   2   NA   NA    2       NA    NA   NA      2      NA       NA    NA
  CSE CSER CSP CSTOT CSTOTR FONCTC NAFG004UN NAFG010UN NAFG017UN NAFG021UN
1  NA   NA  NA    86      8     NA                                        
2  64    6  64    64      6     NA        EU        FZ        FZ         F
3  NA   NA  NA    77      7     NA                                        
4  64    6  64    64      6     NA        EU        FZ        FZ         F
5  NA   NA  NA    77      7     NA                                        
  NAFG038UN NAFG088UN PUB3FP QPRC STC RDET STAT2 STATOEP STATUT STATUTR TITC
1                  NA     NA   NA  NA   NA    NA      NA     NA      NA   NA
2        FZ        43      4    9   3   NA     2      35     35       5   NA
3                  NA     NA   NA  NA   NA    NA      NA     NA      NA   NA
4        FZ        43      4    9   3   NA     2      35     35       5   NA
5                  NA     NA   NA  NA   NA    NA      NA     NA      NA   NA
  CSTMN CSTPLC DISPPLC DUHAB GARDEA HHC6 HORAIC RAISON RAISTP STMN STPLC TPPRED
1    NA     NA      NA    NA     NA   NA     NA     NA     NA   NA    NA     NA
2    NA     NA      NA     1     NA    1      3     NA      5    2     2      2
3    NA     NA      NA    NA     NA   NA     NA     NA     NA   NA    NA     NA
4    NA     NA      NA     1     NA    1      3     NA      5    2     2      2
5    NA     NA      NA    NA     NA   NA     NA     NA     NA   NA    NA     NA
  TXTPPRED ANCENTR4 SITANT AAC CSA NAFANT NAFANTG004N DIP11 CSTOTPRM IDENTM
1       NA       NA     NA   2   0      0          00    70       86      1
2        1        4      5  NA  NA     NA                50       64      2
3       NA       NA     NA   1  54     43          EU    70       64      2
4        1        4      5  NA  NA     NA                50       64      3
5       NA       NA     NA   1  54     43          EU    70       64      3
    EXTRIAN EMPNBH HREC HHCE HPLUSA JOURTR NBTOTE
1 107.74972     NA   NA   NA     NA     NA     NA
2  46.17385      1   NA    1     NA      1     NA
3  46.17385     NA   NA   NA     NA     NA     NA
4  44.32930      0   NA    1     NA      1     NA
5  44.32930     NA   NA   NA     NA     NA     NA</code></pre>
</div>
</div>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"openxlsx"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: le package 'openxlsx' a √©t√© compil√© avec la version R 4.2.3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>EEC_excel <span class="ot">&lt;-</span> <span class="fu">read.xlsx</span>(<span class="st">"FD_EEC_2019.xlsx"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(EEC_excel, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  ANNEE TRIM CATAU2010R METRODOM TYPMEN7 AGE3 AGE5 COURED ENFRED NFRRED SEXE
1  2019    1          1        1       1   50   60      2      2      1    2
2  2019    2          1        1       3   50   60      1      2      1    1
3  2019    2          1        1       3   50   60      1      2      1    2
4  2019    3          1        1       3   50   60      1      2      1    1
5  2019    3          1        1       3   50   60      1      2      1    2
  ACTEU ACTEU6 ACTIF ACTOP AIDFAM ANCCHOM ANCINACT CONTACT CREACCP DEM DISPOC
1     3      6     2     2     NA      NA       NA      NA      NA   0     NA
2     1      1     1     1     NA      NA       NA      NA      NA   0     NA
3     3      6     2     2      2      NA        8      NA      NA   0     NA
4     1      1     1     1     NA      NA       NA      NA      NA   0     NA
5     3      6     2     2      2      NA        8      NA      NA   0     NA
  GARDEB HALOR INSCONT MRA MRB MRBBIS MRC MRD MRDBIS MRE MREC MRF MRG MRGBIS
1     NA     2      NA  NA  NA     NA  NA  NA     NA  NA   NA  NA  NA     NA
2     NA     2      NA  NA  NA     NA  NA  NA     NA  NA   NA  NA  NA     NA
3     NA     2      NA  NA  NA     NA  NA  NA     NA  NA    2  NA  NA     NA
4     NA     2      NA  NA  NA     NA  NA  NA     NA  NA   NA  NA  NA     NA
5     NA     2      NA  NA  NA     NA  NA  NA     NA  NA    2  NA  NA     NA
  MRH MRI MRJ MRK MRL MRM MRN MRO MRPASSA MRPASSB MRPASSC MRS NONDIC NREC NRECA
1  NA  NA  NA  NA  NA  NA  NA  NA      NA      NA      NA  NA     NA   NA    NA
2  NA  NA  NA  NA  NA  NA  NA  NA      NA      NA      NA  NA     NA   NA    NA
3  NA  NA  NA  NA  NA  NA  NA  NA      NA      NA      NA  NA     NA   NA    NA
4  NA  NA  NA  NA  NA  NA  NA  NA      NA      NA      NA  NA     NA   NA    NA
5  NA  NA  NA  NA  NA  NA  NA  NA      NA      NA      NA  NA     NA   NA    NA
  NRECB OCCREF OFFICC OFFRE PASTRA PASTRB PASTRF PERCREV RABS RAISNREC RAISNSOU
1    NA      1     NA    NA     NA     NA     NA      NA   NA       NA       NA
2    NA      2     NA    NA     NA     NA     NA      NA   NA       NA       NA
3    NA      1     NA    NA      2      2      2      NA   NA       NA        5
4    NA      2     NA    NA      1     NA      1       1    8       NA       NA
5    NA      1     NA    NA      2      2      2      NA   NA       NA        5
  RAISPAS SOU SOUA SOUB SOUC SOUSEMPL STCHE TEMP TRAREF TYPCONT TYPCONTB CHPUB
1      NA  NA   NA   NA   NA       NA    NA    2     NA      NA       NA    NA
2      NA   2    2    2   NA       NA    NA   NA      1      NA       NA     1
3      NA   2   NA   NA    2       NA    NA   NA      2      NA       NA    NA
4      NA   2    2    2   NA        3    NA   NA      2      NA       NA     1
5      NA   2   NA   NA    2       NA    NA   NA      2      NA       NA    NA
  CSE CSER CSP CSTOT CSTOTR FONCTC NAFG004UN NAFG010UN NAFG017UN NAFG021UN
1  NA   NA  NA    86      8     NA      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;
2  64    6  64    64      6     NA        EU        FZ        FZ         F
3  NA   NA  NA    77      7     NA      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;
4  64    6  64    64      6     NA        EU        FZ        FZ         F
5  NA   NA  NA    77      7     NA      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;
  NAFG038UN NAFG088UN PUB3FP QPRC STC RDET STAT2 STATOEP STATUT STATUTR TITC
1      &lt;NA&gt;        NA     NA   NA  NA   NA    NA      NA     NA      NA   NA
2        FZ        43      4    9   3   NA     2      35     35       5   NA
3      &lt;NA&gt;        NA     NA   NA  NA   NA    NA      NA     NA      NA   NA
4        FZ        43      4    9   3   NA     2      35     35       5   NA
5      &lt;NA&gt;        NA     NA   NA  NA   NA    NA      NA     NA      NA   NA
  CSTMN CSTPLC DISPPLC DUHAB GARDEA HHC6 HORAIC RAISON RAISTP STMN STPLC TPPRED
1    NA     NA      NA    NA     NA   NA     NA     NA     NA   NA    NA     NA
2    NA     NA      NA     1     NA    1      3     NA      5    2     2      2
3    NA     NA      NA    NA     NA   NA     NA     NA     NA   NA    NA     NA
4    NA     NA      NA     1     NA    1      3     NA      5    2     2      2
5    NA     NA      NA    NA     NA   NA     NA     NA     NA   NA    NA     NA
  TXTPPRED ANCENTR4 SITANT AAC CSA NAFANT NAFANTG004N DIP11 CSTOTPRM IDENTM
1       NA       NA     NA   2   0      0           0    70       86      1
2        1        4      5  NA  NA     NA        &lt;NA&gt;    50       64      2
3       NA       NA     NA   1  54     43          EU    70       64      2
4        1        4      5  NA  NA     NA        &lt;NA&gt;    50       64      3
5       NA       NA     NA   1  54     43          EU    70       64      3
       EXTRIAN EMPNBH HREC HHCE HPLUSA JOURTR NBTOTE
1  107.7497222   &lt;NA&gt;   NA &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;
2 46.173848259      1   NA    1   &lt;NA&gt;      1   &lt;NA&gt;
3 46.173848259   &lt;NA&gt;   NA &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;
4 44.329297911      0   NA    1   &lt;NA&gt;      1   &lt;NA&gt;
5 44.329297911   &lt;NA&gt;   NA &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;</code></pre>
</div>
</div>
</div>
<div id="tabset-4-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-3-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"haven"</span>)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>EEC_2019_SAS <span class="ot">&lt;-</span> <span class="fu">read_sas</span>(<span class="st">"FD_EEC_2019.sas7bdat"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="r-une-logique-vectorielle" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="r-une-logique-vectorielle">R : une logique vectorielle</h2>
<p><br></p>
<p>L‚Äô√©l√©ment de base de R est le vecteur <code>c()</code> :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>un_vecteur_numerique <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">6</span>, <span class="dv">8</span>, <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>R utilise la logique de la <strong>vectorisation</strong> : les fonctions sont appliqu√©es √† <em>l‚Äôensemble d‚Äôun vecteur</em> (ou matrice) plut√¥t que d‚Äô√™tre appliqu√©es successivement √† chacun des √©l√©ments de ce vecteur (ou de cette matrice). Cela permet une <strong>acc√©l√©ration</strong> du temps de calcul.</p>
<p>Par exemple, pour obtenir le carr√© de chacun des √©l√©ments d‚Äôun vecteur :</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-5-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-1" role="tab" aria-controls="tabset-5-1" aria-selected="true">Sans vectorisation</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-2" role="tab" aria-controls="tabset-5-2" aria-selected="false">Avec vectorisation</a></li></ul>
<div class="tab-content">
<div id="tabset-5-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-5-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (k <span class="cf">in</span> <span class="fu">seq_along</span>(x)) {</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>x[k] <span class="ot">&lt;-</span> x[k]<span class="sc">**</span><span class="dv">2</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-5-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-2-tab">
<p>Application de la fonction carr√©e au vecteur :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> x<span class="sc">**</span><span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="les-objets-√©l√©mentaires-et-leurs-types" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="les-objets-√©l√©mentaires-et-leurs-types">Les objets √©l√©mentaires et leurs types</h2>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-6-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-1" role="tab" aria-controls="tabset-6-1" aria-selected="true">Num√©rique</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-2" role="tab" aria-controls="tabset-6-2" aria-selected="false">Les cha√Ænes de caract√®re</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-3" role="tab" aria-controls="tabset-6-3" aria-selected="false">Les bool√©ens</a></li></ul>
<div class="tab-content">
<div id="tabset-6-1" class="smaller tab-pane active" role="tabpanel" aria-labelledby="tabset-6-1-tab">
<p>Il existe deux types num√©riques en R :</p>
<ul>
<li><p>les entiers ;</p></li>
<li><p>les flottants.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>num <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(num)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
</div>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>num <span class="ot">&lt;-</span> <span class="fu">integer</span>(<span class="dv">5</span>)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(num)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "integer"</code></pre>
</div>
</div>
</div>
<div id="tabset-6-2" class="smaller tab-pane" role="tabpanel" aria-labelledby="tabset-6-2-tab">
<p>Une cha√Æne de caract√®re est d√©limit√©e par des quotes ou des doubles quotes. Il est recommand√© d‚Äôutiliser les <strong>doubles quotes</strong> syst√©matiquement.</p>
<p>Le nombre de caract√®res d‚Äôune cha√Æne de caract√®res est donn√© par la fonction <code>nchar()</code>.</p>
<p>La fonction <code>paste0()</code> permet de concat√©ner des cha√Ænes de caract√®res.</p>
<p>üîçRemarque : l‚Äôanti slash en R permet de g√©rer les caract√®res sp√©ciaux, dans les chemins d‚Äôacc√®s aux donn√©es, il faut donc soit les remplacer par des <strong>slashs</strong>, soit les doubler.üîç</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Cr√©ation d'une cha√Æne de caract√®res</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>chaine <span class="ot">&lt;-</span> <span class="st">"Oui"</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="co">#Type de la variable chaine</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(chaine)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Nombre de caract√®res de la variable</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="fu">nchar</span>(chaine)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Concat√©nation de plusieurs cha√Ænes de caract√®re</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste0</span>(<span class="st">"Les "</span>, <span class="st">"cha√Ænes "</span>, <span class="st">"de caract√®re "</span>, <span class="st">"peuvent √™tre concat√©n√©es."</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Les cha√Ænes de caract√®re peuvent √™tre concat√©n√©es."</code></pre>
</div>
</div>
<p><br></p>
<p>üîçPour aller plus loin üîç le package <code>stringr</code> permet de traiter les cha√Ænes de caract√®re : mettre en majuscules, mettre en minuscules, extraire une sous-cha√Æne‚Ä¶</p>
</div>
<div id="tabset-6-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-3-tab">
<p>Un bool√©en peut valoir <code>TRUE</code> ou <code>FALSE</code> : c‚Äôest une variable qui indique si une condition logique est v√©rifi√©e.</p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Test de l'√©galit√©</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="dv">1</span> <span class="sc">==</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
</div>
<p><br></p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> (<span class="st">"Dares"</span> <span class="sc">==</span> <span class="st">"Dares"</span>)</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
</div>
<p><br></p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Comparaison num√©rique</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="dv">2</span> <span class="sc">&lt;</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
</div>
<p><br></p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="dv">4</span> <span class="sc">&gt;=</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
</div>
<p><br></p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="dv">3</span> <span class="sc">&lt;=</span> <span class="dv">2</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
</div>
<p><br></p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Test de la diff√©rence</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"A"</span> <span class="sc">!=</span> <span class="st">"a"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
</div>
<p>‚ùó <strong>Attention :</strong> R est sensible √† la casse ‚ùó</p>
</div>
</div>
</div>
</section>
<section id="les-structures-de-donn√©es-de-base-en-r" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="les-structures-de-donn√©es-de-base-en-r">Les structures de donn√©es de base en R</h2>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-7-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-1" role="tab" aria-controls="tabset-7-1" aria-selected="true">Vecteurs</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-2" role="tab" aria-controls="tabset-7-2" aria-selected="false">Listes</a></li></ul>
<div class="tab-content">
<div id="tabset-7-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-7-1-tab">
<p><br></p>
<p>Un <strong>vecteur</strong> est une s√©quence ordonn√©e d‚Äôobjets √©l√©mentaires de <strong>m√™me type</strong>. Les vecteurs ont un type (correspondant √† celui des objets qu‚Äôil contient) donn√© par la fonction <code>class()</code> et une longueur donn√©e par la fonction <code>length</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>vecteur_num <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">18</span>, <span class="dv">9</span>)</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(vecteur_num)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(vecteur_num)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
</div>
</div>
<div id="tabset-7-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-2-tab">
<p><br></p>
<p>Une <strong>liste</strong> est une s√©quence ordonn√©e, √©ventuellement h√©t√©rog√®ne, d‚Äôobjets de types quelconques.</p>
<p>Une liste est toujours de type <code>list</code>, peu importe ce qui la compose.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>liste_divers <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">"A"</span>, <span class="dv">7</span>, <span class="cn">TRUE</span>)</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(liste_divers)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(liste_divers)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "list"</code></pre>
</div>
</div>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Acc√©der aux √©l√©ments d'une liste</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(liste_divers[[<span class="dv">1</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "A"</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="manipuler-des-donn√©es-les-avantages-de-dplyr" class="level1">
<h1>Manipuler des donn√©es : les avantages de dplyr</h1>
<section id="data-frames" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="data-frames">Data frames</h2>
<p><br></p>
<p>Le <code>data.frame</code> est un <strong>tableau</strong> sous forme d‚Äôune liste (classe list) de vecteurs qui repr√©sentent les colonnes. Les vecteurs doivent √™tre de la m√™me longueur, la longueur de chaque vecteur correspond au nombre de lignes/d‚Äôobservations du tableau.</p>
<p>Puisque <strong>chaque colonne est un vecteur</strong> :</p>
<ul>
<li><p>une colonne repr√©sente une variable d‚Äôun type unique ;</p></li>
<li><p>une colonne a un nom, celui de la variable ;</p></li>
<li><p>chaque colonne doit avoir la m√™me hauteur.</p></li>
</ul>
<p>Les dimensions du data.frame sont donn√©es par la fonction <code>dim()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Obtenir les dimensions du tableau de l'enqu√™te emploi en continu</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(EEC_2019)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 416298    124</code></pre>
</div>
</div>
</section>
<section id="op√©rations-de-base-sur-les-data.frames-r-base-ou-dplyr" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="op√©rations-de-base-sur-les-data.frames-r-base-ou-dplyr">Op√©rations de base sur les data.frames : R base ou dplyr ?</h2>
<p><br></p>
<p>üëâ But : si vous rencontrez des syntaxes Rbase, les comprendre. Nous recommandons pour d√©buter d‚Äôutiliser plut√¥t les syntaxes <code>dplyr</code> pr√©sent√©es plus loin.</p>
<p>‚ùì Pourquoi ‚ùì</p>
<p>La syntaxe de <code>dplyr</code> est √† notre avis plus lisible et intuitive pour s‚Äôinitier √† R, et aussi largement utilis√©e par la communaut√© des utilisateurs de R, ce qui facilite le partage de solutions.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Il n‚Äôexiste pas une mani√®re unique de programmer en R, et l‚Äôutilisation de Rbase pr√©sente aussi des avantages : la stabilit√© par exemple, la meilleure reproductibilit√© car n√©cessite moins de packages et de d√©pendances‚Ä¶ Cette formation propose une mani√®re de programme utilisant plut√¥t le <code>tidyverse</code></p>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>Warning: le package 'forcats' a √©t√© compil√© avec la version R 4.2.3</code></pre>
</div>
</div>
</section>
<section id="op√©rations-de-base-sur-les-data.frames-r-base" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="op√©rations-de-base-sur-les-data.frames-r-base">Op√©rations de base sur les data.frames : R base</h2>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-8-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-1" role="tab" aria-controls="tabset-8-1" aria-selected="true">S√©lectionner des lignes</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-8-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-2" role="tab" aria-controls="tabset-8-2" aria-selected="false">S√©lectionner des colonnes</a></li></ul>
<div class="tab-content">
<div id="tabset-8-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-8-1-tab">
<ul>
<li>Obtenir le nom des lignes :</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(EEC_ex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "1"  "2"  "3"  "4"  "5"  "6"  "7"  "8"  "9"  "10" "11" "12" "13" "14" "15"
[16] "16" "17" "18" "19" "20" "21" "22" "23" "24" "25" "26" "27" "28" "29" "30"</code></pre>
</div>
</div>
<p><br></p>
<ul>
<li>S√©lectionner la 5√®me ligne :</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>EEC_ex[<span class="dv">5</span>,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   SEXE ACTIF COURED AGE5 CSTOTR NAFG004UN AGE3 ANNEE JOURTR
5 Femme     2      1   60      7      &lt;NA&gt;   50  2019     NA</code></pre>
</div>
</div>
<p><br></p>
<ul>
<li>S√©lectionner les lignes 10 et 35 :</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>EEC_ex[<span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">35</span>),]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    SEXE ACTIF COURED AGE5 CSTOTR NAFG004UN AGE3 ANNEE JOURTR
10 Homme     1      2   15      4        EV   15  2019      5
NA  &lt;NA&gt;    NA     NA   NA     NA      &lt;NA&gt;   NA    NA     NA</code></pre>
</div>
</div>
<p><br></p>
<ul>
<li>S√©lectionner les lignes 3 √† 8 :</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>EEC_ex[<span class="fu">c</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">8</span>),]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   SEXE ACTIF COURED AGE5 CSTOTR NAFG004UN AGE3 ANNEE JOURTR
3 Femme     2      1   60      7      &lt;NA&gt;   50  2019     NA
4 Homme     1      1   60      6        EU   50  2019      1
5 Femme     2      1   60      7      &lt;NA&gt;   50  2019     NA
6 Homme     1      1   60      6        EU   50  2019      1
7 Femme     2      1   60      7      &lt;NA&gt;   50  2019     NA
8 Homme     1      1   40      4        ET   30  2019      5</code></pre>
</div>
</div>
</div>
<div id="tabset-8-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-8-2-tab">
<ul>
<li>Conna√Ætre le nom des colonnes/variables :</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(EEC_ex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "SEXE"      "ACTIF"     "COURED"    "AGE5"      "CSTOTR"    "NAFG004UN"
[7] "AGE3"      "ANNEE"     "JOURTR"   </code></pre>
</div>
</div>
<p><br></p>
<ul>
<li>S√©lectionner une colonne <strong>solution 1</strong> : la 3√®me colonne :</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>EEC_ex[, <span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 2 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 2 2 2 2 1 1 1 1 1 1 1 1 1</code></pre>
</div>
</div>
<p><br></p>
<ul>
<li>S√©lectionner une colonne <strong>solution 2</strong>, la variable ACTIF :</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>EEC_ex[<span class="st">"ACTIF"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   ACTIF
1      2
2      1
3      2
4      1
5      2
6      1
7      2
8      1
9      1
10     1
11     1
12     1
13     1
14     1
15     1
16     2
17     2
18     2
19     2
20     2
21     2
22     2
23     1
24     2
25     1
26     2
27     2
28     2
29     2
30     2</code></pre>
</div>
</div>
<p><br></p>
<ul>
<li>S√©lectionner une colonne <strong>solution 3</strong>, la variable ACTIF</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>EEC_ex<span class="sc">$</span>ACTIF</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 2 1 2 1 2 1 2 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 1 2 1 2 2 2 2 2</code></pre>
</div>
</div>
<p><br></p>
<ul>
<li>Conna√Ætre le <strong>type</strong> des variables :</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(EEC_ex<span class="sc">$</span>AGE3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "integer"</code></pre>
</div>
</div>
<p><br></p>
<ul>
<li>S√©lectionner la 3√®me ligne et les colonnes SEXE et ACTIF :</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>EEC_ex[<span class="dv">3</span>, <span class="fu">c</span>(<span class="st">"SEXE"</span>, <span class="st">"ACTIF"</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   SEXE ACTIF
3 Femme     2</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="op√©rations-de-base-sur-les-data.frames-convertir-des-colonnes" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="op√©rations-de-base-sur-les-data.frames-convertir-des-colonnes">Op√©rations de base sur les data.frames : convertir des colonnes</h2>
<p><br></p>
<p>Convertir une variable num√©rique en caract√®re :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(EEC_ex<span class="sc">$</span>ANNEE)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "integer"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>EEC_ex<span class="sc">$</span>ANNEE <span class="ot">&lt;-</span> <span class="fu">as.character</span>(EEC_ex<span class="sc">$</span>ANNEE)</span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(EEC_ex<span class="sc">$</span>ANNEE)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
<p><br></p>
<p>Convertir une colonne caract√®re en num√©rique :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>EEC_ex<span class="sc">$</span>ANNEE <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(EEC_ex<span class="sc">$</span>ANNEE)</span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(EEC_ex<span class="sc">$</span>ANNEE)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
</div>
</section>
<section id="les-facteurs-un-outil-pour-les-variables-qualitatives" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="les-facteurs-un-outil-pour-les-variables-qualitatives">Les facteurs : un outil pour les variables qualitatives</h2>
<p>Le type <code>factor</code> en R permet de manipuler des <strong>variables qualitatives</strong>.</p>
<p>Le package <code>forcats</code> permet de traiter les facteurs : recoder les modalit√©s, les ordonner‚Ä¶</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-9-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-1" role="tab" aria-controls="tabset-9-1" aria-selected="true">Convertir</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-9-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-2" role="tab" aria-controls="tabset-9-2" aria-selected="false">Modalit√©s</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-9-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-3" role="tab" aria-controls="tabset-9-3" aria-selected="false">Recoder</a></li></ul>
<div class="tab-content">
<div id="tabset-9-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-9-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(EEC_2019<span class="sc">$</span>SEXE)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "integer"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Conversion de la variable SEXE de num√©rique en facteur</span></span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>EEC_2019<span class="sc">$</span>SEXE <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(EEC_2019<span class="sc">$</span>SEXE)</span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(EEC_2019<span class="sc">$</span>SEXE)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "factor"</code></pre>
</div>
</div>
</div>
<div id="tabset-9-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-9-2-tab">
<p>La fonction <code>levels()</code> permet de conna√Ætre l‚Äôensemble des <strong>modalit√©s</strong> existantes d‚Äôun facteur (m√™me si elles ne sont plus pr√©sentes dans les donn√©es apr√®s s√©lection des lignes).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(EEC_2019<span class="sc">$</span>SEXE)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1" "2"</code></pre>
</div>
</div>
</div>
<div id="tabset-9-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-9-3-tab">
<p>La fonction <code>fct_recode()</code> permet de renommer les modalit√©s d‚Äôun facteur, avec la syntaxe suivante :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>nouvelle_variable <span class="ot">&lt;-</span> <span class="fu">fct_recode</span>(ancienne_variable,</span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"Nouvelle_valeur1"</span> <span class="ot">=</span> <span class="st">"Ancienne_valeur1"</span>,</span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"Nouvelle_valeur2"</span> <span class="ot">=</span> <span class="st">"Ancienne_valeur2"</span>,</span>
<span id="cb98-4"><a href="#cb98-4" aria-hidden="true" tabindex="-1"></a>                                <span class="at">NULL =</span> <span class="st">"Modalite_a_supprimer"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Exemple : Recodage des modalit√©s de la variable SEXE.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(forcats)</span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a>EEC_2019<span class="sc">$</span>SEXE <span class="ot">&lt;-</span> <span class="fu">fct_recode</span>(EEC_2019<span class="sc">$</span>SEXE,</span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"Homme"</span> <span class="ot">=</span> <span class="st">"1"</span>,</span>
<span id="cb99-5"><a href="#cb99-5" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"Femme"</span> <span class="ot">=</span> <span class="st">"2"</span>)</span>
<span id="cb99-6"><a href="#cb99-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-7"><a href="#cb99-7" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(EEC_2019<span class="sc">$</span>SEXE)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Homme" "Femme"</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="op√©rations-de-base-sur-les-data.frames-les-valeurs-manquantes" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="op√©rations-de-base-sur-les-data.frames-les-valeurs-manquantes">Op√©rations de base sur les data.frames : les valeurs manquantes</h2>
<p>Lorsqu‚Äôune <strong>valeur est manquante</strong> dans une enqu√™te par exemple, elle figure sous forme de la modalit√© <code>NA</code>, ‚ÄúNot Available‚Äù, qui existe pour tous les types de variables.</p>
<p>Selon la mani√®re dont ces valeurs manquantes existent dans les donn√©es √† importer dans R, elles ne sont pas forc√©ment d√©tect√©es comme telles. Par exemple :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>test_na <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(</span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="dv">1</span>, <span class="st">"."</span>, <span class="dv">3</span>),</span>
<span id="cb101-4"><a href="#cb101-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"E"</span>, <span class="st">"."</span>)</span>
<span id="cb101-5"><a href="#cb101-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb101-6"><a href="#cb101-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb101-7"><a href="#cb101-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-8"><a href="#cb101-8" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(test_na) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Var1"</span>, <span class="st">"Var2"</span>)</span>
<span id="cb101-9"><a href="#cb101-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-10"><a href="#cb101-10" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(test_na)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Var1 Var2
1    1    A
2    .    E
3    3    .</code></pre>
</div>
</div>
<p>Il faut les recoder en <code>NA</code> avec la fonction <code>fct_recode()</code> :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>test_na<span class="sc">$</span>Var1 <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(test_na<span class="sc">$</span>Var1)</span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a>test_na<span class="sc">$</span>Var1 <span class="ot">&lt;-</span> <span class="fu">fct_recode</span>(test_na<span class="sc">$</span>Var1,</span>
<span id="cb103-4"><a href="#cb103-4" aria-hidden="true" tabindex="-1"></a>                           <span class="at">NULL =</span> <span class="st">"."</span>)</span>
<span id="cb103-5"><a href="#cb103-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-6"><a href="#cb103-6" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(test_na)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Var1 Var2
1    1    A
2 &lt;NA&gt;    E
3    3    .</code></pre>
</div>
</div>
</section>
<section id="les-dates-sous-r" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="les-dates-sous-r">Les dates sous R</h2>
<p>Le format de <strong>date</strong> le plus courant en R est la classe <code>Date</code>. Elle correspond √† une distance par rapport √† une date origine, ce qui permet de faire des calculs (distance entre deux dates par exemple).</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-10-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-1" role="tab" aria-controls="tabset-10-1" aria-selected="true">Cr√©er une date</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-10-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-2" role="tab" aria-controls="tabset-10-2" aria-selected="false">Composants</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-10-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-3" role="tab" aria-controls="tabset-10-3" aria-selected="false">Intervalle</a></li></ul>
<div class="tab-content">
<div id="tabset-10-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-10-1-tab">
<p>Il est possible de cr√©er une date √† partir d‚Äôune cha√Æne de carat√®re. <em>Le format standard est ‚ÄúAAAA-MM-JJ‚Äù</em>, mais il est possible de sp√©cifier un autre format.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>date_1 <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2023-01-24"</span>)</span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a>date_2 <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"12/07/2022"</span>, <span class="at">format =</span> <span class="st">"%d/%m/%Y"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-10-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-10-2-tab">
<p>Le package <code>lubridate</code> permet de traiter les dates. Il n‚Äôest pas pr√©senter davantage ici, voici simplement comment il est possible d‚Äôacc√©der aux composants d‚Äôune date avec <code>lubridate</code> :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: le package 'lubridate' a √©t√© compil√© avec la version R 4.2.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attachement du package : 'lubridate'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Les objets suivants sont masqu√©s depuis 'package:base':

    date, intersect, setdiff, union</code></pre>
</div>
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="fu">year</span>(date_1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2023</code></pre>
</div>
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="fu">month</span>(date_1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="fu">quarter</span>(date_1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="fu">day</span>(date_1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 24</code></pre>
</div>
</div>
</div>
<div id="tabset-10-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-10-3-tab">
<p>Avec le type Date, vient la notion d‚Äôintervalle temporel, qui est √©galement un type de donn√©es √† part enti√®re. La fonction <code>interval()</code> permet de calculer des dur√©es.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-3"><a href="#cb118-3" aria-hidden="true" tabindex="-1"></a>date_1 <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2023-01-24"</span>)</span>
<span id="cb118-4"><a href="#cb118-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-5"><a href="#cb118-5" aria-hidden="true" tabindex="-1"></a>date_2 <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"12/07/2022"</span>, <span class="at">format =</span> <span class="st">"%d/%m/%Y"</span>)</span>
<span id="cb118-6"><a href="#cb118-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-7"><a href="#cb118-7" aria-hidden="true" tabindex="-1"></a>intervalle <span class="ot">&lt;-</span> <span class="fu">interval</span>(date_1, date_2)</span>
<span id="cb118-8"><a href="#cb118-8" aria-hidden="true" tabindex="-1"></a>intervalle</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2023-01-24 UTC--2022-07-12 UTC</code></pre>
</div>
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(intervalle)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Interval"
attr(,"package")
[1] "lubridate"</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="tidyverse-dplyr-et-le-pipe" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="tidyverse-dplyr-et-le-pipe">Tidyverse, dplyr et le pipe</h2>
<p><br></p>
<p>La majorit√© des utilisateurs de R utilisent un ensemble de package contenu dans le <code>tidyverse</code> , qui propose des fonctions alternatives √† Rbase. Nous vous recommandons d‚Äôutiliser le tidyverse, et en particulier le package <code>dplyr</code>, pour r√©diger vos programmes.</p>
<p>Avantages du tidyverse et de dplyr :</p>
<ul>
<li><p>plus lisible, plus proche d‚Äôun langage interpr√©t√© que R base ;</p></li>
<li><p>utilis√© par la majorit√© des utilisateurs de R ;</p></li>
<li><p>stable.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: le package 'tidyverse' a √©t√© compil√© avec la version R 4.2.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: le package 'ggplot2' a √©t√© compil√© avec la version R 4.2.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: le package 'tibble' a √©t√© compil√© avec la version R 4.2.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: le package 'tidyr' a √©t√© compil√© avec la version R 4.2.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: le package 'readr' a √©t√© compil√© avec la version R 4.2.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: le package 'purrr' a √©t√© compil√© avec la version R 4.2.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: le package 'stringr' a √©t√© compil√© avec la version R 4.2.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>‚îÄ‚îÄ Attaching core tidyverse packages ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ tidyverse 2.0.0 ‚îÄ‚îÄ
‚úî ggplot2 3.4.2     ‚úî stringr 1.5.0
‚úî purrr   1.0.1     ‚úî tibble  3.2.1
‚úî readr   2.1.4     ‚úî tidyr   1.3.0
‚îÄ‚îÄ Conflicts ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ tidyverse_conflicts() ‚îÄ‚îÄ
‚úñ dplyr::filter() masks stats::filter()
‚úñ dplyr::lag()    masks stats::lag()
‚Ñπ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
</div>
</section>
<section id="le-pipe" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="le-pipe">Le pipe</h2>
<p><br></p>
<p>Pour encha√Æner diff√©rentes instructions sur un data.frame, on utilise le ‚Äúpipe‚Äù : <code>%&gt;%</code>, un op√©rateur qui permet de prendre ce qu‚Äôil y a √† gauche du pipe pour l‚Äôinjecter en entr√©e (argument) dans la fonction √† droite du pipe.</p>
<p><strong>Attention :</strong> il est recommand√© de d√©finir un nouveau tableau pour enregistrer les op√©rations sur un data.frame.</p>
<p>Les bonnes pratiques de r√©daction d‚Äôun code sont renseign√©es dans <a href="https://www.pratiques.utilitr.org/r%C3%A9diger-un-script-r.html">UtilitR - Les bonnes pratiques</a></p>
</section>
<section id="s√©lectionner-des-colonnes-1" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="s√©lectionner-des-colonnes-1">S√©lectionner des colonnes</h2>
<p><br></p>
<p><strong>S√©lectionner</strong> des colonnes par leur nom avec <code>select()</code> :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Les colonnes ann√©e et Age3</span></span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a>nouveau_df_1 <span class="ot">&lt;-</span> EEC_ex <span class="sc">%&gt;%</span></span>
<span id="cb131-3"><a href="#cb131-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(ANNEE, AGE3)</span>
<span id="cb131-4"><a href="#cb131-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-5"><a href="#cb131-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(nouveau_df_1, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  ANNEE AGE3
1  2019   50
2  2019   50
3  2019   50
4  2019   50
5  2019   50</code></pre>
</div>
</div>
<div class="incremental">
<p><br></p>
<p><strong>Supprimer</strong> une colonne avec le <code>-</code> dans <code>select()</code> :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Toutes les colonnes sauf Age3</span></span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a>nouveau_df_2 <span class="ot">&lt;-</span> EEC_ex <span class="sc">%&gt;%</span></span>
<span id="cb133-3"><a href="#cb133-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>AGE3)</span>
<span id="cb133-4"><a href="#cb133-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb133-5"><a href="#cb133-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(nouveau_df_2, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   SEXE ACTIF COURED AGE5 CSTOTR NAFG004UN ANNEE JOURTR
1 Femme     2      2   60      8      &lt;NA&gt;  2019     NA
2 Homme     1      1   60      6        EU  2019      1
3 Femme     2      1   60      7      &lt;NA&gt;  2019     NA
4 Homme     1      1   60      6        EU  2019      1
5 Femme     2      1   60      7      &lt;NA&gt;  2019     NA</code></pre>
</div>
</div>
</div>
</section>
<section id="afficher-les-premi√®res-lignes" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="afficher-les-premi√®res-lignes">Afficher les premi√®res lignes</h2>
<p><br></p>
<p>Avant de d√©buter une analyse, il est utile de <strong>visualiser les premi√®res lignes</strong> du tableau de donn√©es. C‚Äôest notamment tr√®s utile lorsque les donn√©es sont volumineuses et que l‚Äôaffichage du tableau complet prend du temps.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a>EEC_debut <span class="ot">&lt;-</span> EEC_ex <span class="sc">%&gt;%</span></span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">5</span>)</span>
<span id="cb135-3"><a href="#cb135-3" aria-hidden="true" tabindex="-1"></a>EEC_debut</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   SEXE ACTIF COURED AGE5 CSTOTR NAFG004UN AGE3 ANNEE JOURTR
1 Femme     2      2   60      8      &lt;NA&gt;   50  2019     NA
2 Homme     1      1   60      6        EU   50  2019      1
3 Femme     2      1   60      7      &lt;NA&gt;   50  2019     NA
4 Homme     1      1   60      6        EU   50  2019      1
5 Femme     2      1   60      7      &lt;NA&gt;   50  2019     NA</code></pre>
</div>
</div>
</section>
<section id="filtrer-des-lignes" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="filtrer-des-lignes">Filtrer des lignes</h2>
<p><br></p>
<p>Pour filter des lignes selon une ou plusieurs conditions, on utilise la fonction <code>filter()</code> :</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-11-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-1" role="tab" aria-controls="tabset-11-1" aria-selected="true">Egalit√©</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-11-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-2" role="tab" aria-controls="tabset-11-2" aria-selected="false">In√©galit√©</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-11-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-3" role="tab" aria-controls="tabset-11-3" aria-selected="false">Diff√©rence</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-11-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-4" role="tab" aria-controls="tabset-11-4" aria-selected="false">Plusieurs conditions</a></li></ul>
<div class="tab-content">
<div id="tabset-11-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-11-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a>EEC_femme <span class="ot">&lt;-</span> EEC_ex <span class="sc">%&gt;%</span></span>
<span id="cb137-2"><a href="#cb137-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(SEXE <span class="sc">==</span> <span class="st">"Femme"</span>)</span>
<span id="cb137-3"><a href="#cb137-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-4"><a href="#cb137-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(EEC_femme, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   SEXE ACTIF COURED AGE5 CSTOTR NAFG004UN AGE3 ANNEE JOURTR
1 Femme     2      2   60      8      &lt;NA&gt;   50  2019     NA
2 Femme     2      1   60      7      &lt;NA&gt;   50  2019     NA
3 Femme     2      1   60      7      &lt;NA&gt;   50  2019     NA
4 Femme     2      1   60      7      &lt;NA&gt;   50  2019     NA
5 Femme     1      1   40      4        EV   30  2019      5</code></pre>
</div>
</div>
</div>
<div id="tabset-11-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-11-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a>EEC_moins_30 <span class="ot">&lt;-</span> EEC_ex <span class="sc">%&gt;%</span></span>
<span id="cb139-2"><a href="#cb139-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(AGE5 <span class="sc">&lt;=</span> <span class="dv">30</span>)</span>
<span id="cb139-3"><a href="#cb139-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-4"><a href="#cb139-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(EEC_moins_30, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   SEXE ACTIF COURED AGE5 CSTOTR NAFG004UN AGE3 ANNEE JOURTR
1 Homme     1      2   15      4        EV   15  2019      5
2 Femme     1      2   15      3        EV   15  2019      5
3 Homme     1      2   15      4        EV   15  2019      5
4 Femme     1      2   15      3        EV   15  2019      5
5 Homme     1      2   15      4        EV   15  2019      5</code></pre>
</div>
</div>
</div>
<div id="tabset-11-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-11-3-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a>EEC_hors_cadres <span class="ot">&lt;-</span> EEC_ex <span class="sc">%&gt;%</span></span>
<span id="cb141-2"><a href="#cb141-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(CSTOTR <span class="sc">!=</span> <span class="dv">3</span>)</span>
<span id="cb141-3"><a href="#cb141-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-4"><a href="#cb141-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(EEC_hors_cadres, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   SEXE ACTIF COURED AGE5 CSTOTR NAFG004UN AGE3 ANNEE JOURTR
1 Femme     2      2   60      8      &lt;NA&gt;   50  2019     NA
2 Homme     1      1   60      6        EU   50  2019      1
3 Femme     2      1   60      7      &lt;NA&gt;   50  2019     NA
4 Homme     1      1   60      6        EU   50  2019      1
5 Femme     2      1   60      7      &lt;NA&gt;   50  2019     NA</code></pre>
</div>
</div>
</div>
<div id="tabset-11-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-11-4-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Op√©rateur ET</span></span>
<span id="cb143-2"><a href="#cb143-2" aria-hidden="true" tabindex="-1"></a>EEC_femme_moins_30 <span class="ot">&lt;-</span> EEC_ex <span class="sc">%&gt;%</span></span>
<span id="cb143-3"><a href="#cb143-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(SEXE <span class="sc">==</span> <span class="st">"femme"</span> <span class="sc">&amp;</span> AGE5 <span class="sc">&lt;=</span> <span class="dv">30</span>)</span>
<span id="cb143-4"><a href="#cb143-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb143-5"><a href="#cb143-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(EEC_femme_moins_30, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] SEXE      ACTIF     COURED    AGE5      CSTOTR    NAFG004UN AGE3     
[8] ANNEE     JOURTR   
&lt;0 lignes&gt; (ou 'row.names' de longueur nulle)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Op√©rateur OU</span></span>
<span id="cb145-2"><a href="#cb145-2" aria-hidden="true" tabindex="-1"></a>EEC_femme_ou_cadre <span class="ot">&lt;-</span> EEC_ex <span class="sc">%&gt;%</span></span>
<span id="cb145-3"><a href="#cb145-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(SEXE <span class="sc">==</span> <span class="st">"femme"</span> <span class="sc">|</span> CSTOTR <span class="sc">==</span> <span class="dv">3</span>)</span>
<span id="cb145-4"><a href="#cb145-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-5"><a href="#cb145-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(EEC_femme_ou_cadre, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   SEXE ACTIF COURED AGE5 CSTOTR NAFG004UN AGE3 ANNEE JOURTR
1 Femme     1      2   15      3        EV   15  2019      5
2 Femme     1      2   15      3        EV   15  2019      5
3 Femme     1      2   15      3        EV   15  2019      5
4 Homme     1      1   50      3        EV   50  2019      5
5 Homme     1      1   50      3        EV   50  2019      5</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="filtrer-des-lignes-1" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="filtrer-des-lignes-1">Filtrer des lignes</h2>
<p><br></p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-12-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-12-1" role="tab" aria-controls="tabset-12-1" aria-selected="true">Inclusion dans une liste</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-12-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-12-2" role="tab" aria-controls="tabset-12-2" aria-selected="false">Valeurs manquantes</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-12-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-12-3" role="tab" aria-controls="tabset-12-3" aria-selected="false">Valeurs distinctes</a></li></ul>
<div class="tab-content">
<div id="tabset-12-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-12-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a>EEC_hors_agr <span class="ot">&lt;-</span> EEC_ex <span class="sc">%&gt;%</span></span>
<span id="cb147-2"><a href="#cb147-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(NAFG004UN <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"ET"</span>, <span class="st">"EU"</span>, <span class="st">"EV"</span>))</span>
<span id="cb147-3"><a href="#cb147-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-4"><a href="#cb147-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(EEC_hors_agr, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   SEXE ACTIF COURED AGE5 CSTOTR NAFG004UN AGE3 ANNEE JOURTR
1 Homme     1      1   60      6        EU   50  2019      1
2 Homme     1      1   60      6        EU   50  2019      1
3 Homme     1      1   60      6        EU   50  2019      1
4 Homme     1      1   40      4        ET   30  2019      5
5 Femme     1      1   40      4        EV   30  2019      5</code></pre>
</div>
</div>
</div>
<div id="tabset-12-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-12-2-tab">
<p>Pour tester si une valeur est manquante, il faut utiliser la fonction <code>is.na()</code>. Le test <code>variable == NA</code> renvoie une erreur.</p>
<p>Pour tester qu‚Äôune valeur est bien pr√©sente, c‚Äôest la condition <code>!(is.na(variable))</code>. la syntaxe <code>!()</code> signifie ‚Äúdiff√©rent de‚Äù, c‚Äôest-√†-dire teste la condition contraire √† ce qui est renseign√© dans les parenth√®ses.</p>
<p>Uniquement les lignes pour lesquelles NAFG004UN est manquante :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a>EEC_CSP_na <span class="ot">&lt;-</span> EEC_ex <span class="sc">%&gt;%</span></span>
<span id="cb149-2"><a href="#cb149-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(NAFG004UN))</span>
<span id="cb149-3"><a href="#cb149-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb149-4"><a href="#cb149-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(EEC_CSP_na, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   SEXE ACTIF COURED AGE5 CSTOTR NAFG004UN AGE3 ANNEE JOURTR
1 Femme     2      2   60      8      &lt;NA&gt;   50  2019     NA
2 Femme     2      1   60      7      &lt;NA&gt;   50  2019     NA
3 Femme     2      1   60      7      &lt;NA&gt;   50  2019     NA
4 Femme     2      1   60      7      &lt;NA&gt;   50  2019     NA
5 Homme     2      2   60      7      &lt;NA&gt;   50  2019     NA</code></pre>
</div>
</div>
<p><br></p>
<p>Uniquement les lignes pour lesquelles NAFG004UN est renseign√©e :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb151"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a>EEC_CSP_hors_na <span class="ot">&lt;-</span> EEC_ex <span class="sc">%&gt;%</span></span>
<span id="cb151-2"><a href="#cb151-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(<span class="fu">is.na</span>(NAFG004UN)))</span>
<span id="cb151-3"><a href="#cb151-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb151-4"><a href="#cb151-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(EEC_CSP_hors_na, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   SEXE ACTIF COURED AGE5 CSTOTR NAFG004UN AGE3 ANNEE JOURTR
1 Homme     1      1   60      6        EU   50  2019      1
2 Homme     1      1   60      6        EU   50  2019      1
3 Homme     1      1   60      6        EU   50  2019      1
4 Homme     1      1   40      4        ET   30  2019      5
5 Femme     1      1   40      4        EV   30  2019      5</code></pre>
</div>
</div>
</div>
<div id="tabset-12-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-12-3-tab">
<p>La fonction <code>distinct()</code> permet de ne s√©lectionner qu‚Äôune seule occurence de chaque combinaison des variables signal√©es.</p>
<p>On ne souhaite qu‚Äôune seule occurence de chaque combinaison existant dans les donn√©es des variables ANNEE et TRIM :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb153"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a>EEC_periode <span class="ot">&lt;-</span> EEC_2019 <span class="sc">%&gt;%</span></span>
<span id="cb153-2"><a href="#cb153-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(ANNEE, TRIM)</span>
<span id="cb153-3"><a href="#cb153-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb153-4"><a href="#cb153-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(EEC_periode, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  ANNEE TRIM
1  2019    1
2  2019    2
3  2019    3
4  2019    4</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="cr√©er-une-variable" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="cr√©er-une-variable">Cr√©er une variable</h2>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-13-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-13-1" role="tab" aria-controls="tabset-13-1" aria-selected="true">Avec if_else</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-13-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-13-2" role="tab" aria-controls="tabset-13-2" aria-selected="false">Avec case_when</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-13-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-13-3" role="tab" aria-controls="tabset-13-3" aria-selected="false">Avec une condition</a></li></ul>
<div class="tab-content">
<div id="tabset-13-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-13-1-tab">
<p><code>if_else</code> est utilis√© pour renseigner une valeur si une condition est v√©rifi√©e, une autre sinon. La syntaxe est la suivante :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb155"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb155-1"><a href="#cb155-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mutate</span>(<span class="at">nouvelle_variable =</span> <span class="fu">if_else</span>(condition, valeur_condition_verifiee, valeur_sinon))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb156"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a>EEC_agr <span class="ot">&lt;-</span> EEC_2019 <span class="sc">%&gt;%</span></span>
<span id="cb156-2"><a href="#cb156-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">agriculture =</span> <span class="fu">if_else</span>(NAFG004UN <span class="sc">==</span> <span class="st">"ES"</span>, <span class="dv">1</span>, <span class="dv">0</span>))</span>
<span id="cb156-3"><a href="#cb156-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb156-4"><a href="#cb156-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(EEC_agr, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  ANNEE TRIM CATAU2010R METRODOM TYPMEN7 AGE3 AGE5 COURED ENFRED NFRRED  SEXE
1  2019    1          1        1       1   50   60      2      2      1 Femme
2  2019    2          1        1       3   50   60      1      2      1 Homme
3  2019    2          1        1       3   50   60      1      2      1 Femme
4  2019    3          1        1       3   50   60      1      2      1 Homme
5  2019    3          1        1       3   50   60      1      2      1 Femme
  ACTEU ACTEU6 ACTIF ACTOP AIDFAM ANCCHOM ANCINACT CONTACT CREACCP DEM DISPOC
1     3      6     2     2     NA      NA       NA      NA      NA   0     NA
2     1      1     1     1     NA      NA       NA      NA      NA   0     NA
3     3      6     2     2      2      NA        8      NA      NA   0     NA
4     1      1     1     1     NA      NA       NA      NA      NA   0     NA
5     3      6     2     2      2      NA        8      NA      NA   0     NA
  GARDEB HALOR INSCONT MRA MRB MRBBIS MRC MRD MRDBIS MRE MREC MRF MRG MRGBIS
1     NA     2      NA  NA  NA     NA  NA  NA     NA  NA   NA  NA  NA     NA
2     NA     2      NA  NA  NA     NA  NA  NA     NA  NA   NA  NA  NA     NA
3     NA     2      NA  NA  NA     NA  NA  NA     NA  NA    2  NA  NA     NA
4     NA     2      NA  NA  NA     NA  NA  NA     NA  NA   NA  NA  NA     NA
5     NA     2      NA  NA  NA     NA  NA  NA     NA  NA    2  NA  NA     NA
  MRH MRI MRJ MRK MRL MRM MRN MRO MRPASSA MRPASSB MRPASSC MRS NONDIC NREC NRECA
1  NA  NA  NA  NA  NA  NA  NA  NA      NA      NA      NA  NA     NA   NA    NA
2  NA  NA  NA  NA  NA  NA  NA  NA      NA      NA      NA  NA     NA   NA    NA
3  NA  NA  NA  NA  NA  NA  NA  NA      NA      NA      NA  NA     NA   NA    NA
4  NA  NA  NA  NA  NA  NA  NA  NA      NA      NA      NA  NA     NA   NA    NA
5  NA  NA  NA  NA  NA  NA  NA  NA      NA      NA      NA  NA     NA   NA    NA
  NRECB OCCREF OFFICC OFFRE PASTRA PASTRB PASTRF PERCREV RABS RAISNREC RAISNSOU
1    NA      1     NA    NA     NA     NA     NA      NA   NA       NA       NA
2    NA      2     NA    NA     NA     NA     NA      NA   NA       NA       NA
3    NA      1     NA    NA      2      2      2      NA   NA       NA        5
4    NA      2     NA    NA      1     NA      1       1    8       NA       NA
5    NA      1     NA    NA      2      2      2      NA   NA       NA        5
  RAISPAS SOU SOUA SOUB SOUC SOUSEMPL STCHE TEMP TRAREF TYPCONT TYPCONTB CHPUB
1      NA  NA   NA   NA   NA       NA    NA    2     NA      NA       NA    NA
2      NA   2    2    2   NA       NA    NA   NA      1      NA       NA     1
3      NA   2   NA   NA    2       NA    NA   NA      2      NA       NA    NA
4      NA   2    2    2   NA        3    NA   NA      2      NA       NA     1
5      NA   2   NA   NA    2       NA    NA   NA      2      NA       NA    NA
  CSE CSER CSP CSTOT CSTOTR FONCTC NAFG004UN NAFG010UN NAFG017UN NAFG021UN
1  NA   NA  NA    86      8     NA                                        
2  64    6  64    64      6     NA        EU        FZ        FZ         F
3  NA   NA  NA    77      7     NA                                        
4  64    6  64    64      6     NA        EU        FZ        FZ         F
5  NA   NA  NA    77      7     NA                                        
  NAFG038UN NAFG088UN PUB3FP QPRC STC RDET STAT2 STATOEP STATUT STATUTR TITC
1                  NA     NA   NA  NA   NA    NA      NA     NA      NA   NA
2        FZ        43      4    9   3   NA     2      35     35       5   NA
3                  NA     NA   NA  NA   NA    NA      NA     NA      NA   NA
4        FZ        43      4    9   3   NA     2      35     35       5   NA
5                  NA     NA   NA  NA   NA    NA      NA     NA      NA   NA
  CSTMN CSTPLC DISPPLC DUHAB GARDEA HHC6 HORAIC RAISON RAISTP STMN STPLC TPPRED
1    NA     NA      NA    NA     NA   NA     NA     NA     NA   NA    NA     NA
2    NA     NA      NA     1     NA    1      3     NA      5    2     2      2
3    NA     NA      NA    NA     NA   NA     NA     NA     NA   NA    NA     NA
4    NA     NA      NA     1     NA    1      3     NA      5    2     2      2
5    NA     NA      NA    NA     NA   NA     NA     NA     NA   NA    NA     NA
  TXTPPRED ANCENTR4 SITANT AAC CSA NAFANT NAFANTG004N DIP11 CSTOTPRM IDENTM
1       NA       NA     NA   2   0      0          00    70       86      1
2        1        4      5  NA  NA     NA                50       64      2
3       NA       NA     NA   1  54     43          EU    70       64      2
4        1        4      5  NA  NA     NA                50       64      3
5       NA       NA     NA   1  54     43          EU    70       64      3
    EXTRIAN EMPNBH HREC HHCE HPLUSA JOURTR NBTOTE agriculture
1 107.74972     NA   NA   NA     NA     NA     NA           0
2  46.17385      1   NA    1     NA      1     NA           0
3  46.17385     NA   NA   NA     NA     NA     NA           0
4  44.32930      0   NA    1     NA      1     NA           0
5  44.32930     NA   NA   NA     NA     NA     NA           0</code></pre>
</div>
</div>
</div>
<div id="tabset-13-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-13-2-tab">
<p><code>case_when</code> permet de cr√©er une variable qui prend diff√©rentes modalit√©s selon plusieurs conditions √©valu√©es successivement, selon la syntaxe suivante :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb158"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mutate</span>(<span class="at">nouvelle_variable =</span> <span class="fu">case_when</span>(condition1 <span class="sc">~</span> valeur1,</span>
<span id="cb158-2"><a href="#cb158-2" aria-hidden="true" tabindex="-1"></a>                                     condition2 <span class="sc">~</span> valeur2,</span>
<span id="cb158-3"><a href="#cb158-3" aria-hidden="true" tabindex="-1"></a>                                     condition3 <span class="sc">~</span> valeur3,</span>
<span id="cb158-4"><a href="#cb158-4" aria-hidden="true" tabindex="-1"></a>                                     <span class="cn">TRUE</span> <span class="sc">~</span> valeur_par_d√©faut))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Les conditions sont explor√©es successivement jusqu‚Äô√† ce qu‚Äôune d‚Äôentre elles donne <code>TRUE</code>, elles ne sont donc pas n√©cessairement exclusives l‚Äôune de l‚Äôautre. La derni√®re ligne ¬´ voiture balai ¬ª (qui n‚Äôest pas obligatoire) exploite cette fonctionnalit√© avec une condition toujours vraie qui pi√®ge tous les cas non explor√©s.</p>
</div>
<div id="tabset-13-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-13-3-tab">
<p>ll est √©galement possible de cr√©er directement une variable de type <strong>bool√©en</strong> en mentionnat uniquement la condition :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb159"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb159-1"><a href="#cb159-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mutate</span>(<span class="at">individu_cadre =</span> (CSTOTR <span class="sc">==</span> <span class="dv">3</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>La nouvelle variable <code>individu_cadre</code> vaut <code>TRUE</code> lorsque CSTOTR vaut 3, <code>FALSE</code> sinon.</p>
</div>
</div>
</div>
</section>
<section id="modifier-des-variables" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="modifier-des-variables">Modifier des variables</h2>
<p><br></p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-14-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-14-1" role="tab" aria-controls="tabset-14-1" aria-selected="true">Renommer une variable</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-14-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-14-2" role="tab" aria-controls="tabset-14-2" aria-selected="false">Discr√©tiser une variable quanti</a></li></ul>
<div class="tab-content">
<div id="tabset-14-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-14-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb160"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb160-1"><a href="#cb160-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rename</span>(<span class="at">nouveau_nom_var1 =</span> ancien_nom_var1,</span>
<span id="cb160-2"><a href="#cb160-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">nouveau_nom_var2 =</span> ancien_nom_var2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb161"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a>EEC_2 <span class="ot">&lt;-</span> EEC_ex <span class="sc">%&gt;%</span></span>
<span id="cb161-2"><a href="#cb161-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">AGE_3_classes =</span> AGE3)</span>
<span id="cb161-3"><a href="#cb161-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb161-4"><a href="#cb161-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(EEC_2, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   SEXE ACTIF COURED AGE5 CSTOTR NAFG004UN AGE_3_classes ANNEE JOURTR
1 Femme     2      2   60      8      &lt;NA&gt;            50  2019     NA
2 Homme     1      1   60      6        EU            50  2019      1
3 Femme     2      1   60      7      &lt;NA&gt;            50  2019     NA
4 Homme     1      1   60      6        EU            50  2019      1
5 Femme     2      1   60      7      &lt;NA&gt;            50  2019     NA</code></pre>
</div>
</div>
</div>
<div id="tabset-14-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-14-2-tab">
<p>Avec <code>cut()</code>, la borne inf√©rieure est exclue, la borne sup√©rieure est incluse.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb163"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb163-1"><a href="#cb163-1" aria-hidden="true" tabindex="-1"></a>EEC_3 <span class="ot">&lt;-</span> EEC_ex <span class="sc">%&gt;%</span></span>
<span id="cb163-2"><a href="#cb163-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">JOURTR_classe =</span> <span class="fu">cut</span>(JOURTR, <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">4</span>)))</span>
<span id="cb163-3"><a href="#cb163-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-4"><a href="#cb163-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(EEC_3, <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   SEXE ACTIF COURED AGE5 CSTOTR NAFG004UN AGE3 ANNEE JOURTR JOURTR_classe
1 Femme     2      2   60      8      &lt;NA&gt;   50  2019     NA          &lt;NA&gt;
2 Homme     1      1   60      6        EU   50  2019      1          &lt;NA&gt;
3 Femme     2      1   60      7      &lt;NA&gt;   50  2019     NA          &lt;NA&gt;
4 Homme     1      1   60      6        EU   50  2019      1          &lt;NA&gt;
5 Femme     2      1   60      7      &lt;NA&gt;   50  2019     NA          &lt;NA&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="convertir-des-variables" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="convertir-des-variables">Convertir des variables</h2>
<p>Les fonctions de conversion peuvent √™tre appliqu√©es aux colonnes d‚Äôun data.frame. Il est conseill√© d‚Äôaffecter √† chaque variable le type le plus proche de sa nature :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb165"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb165-1"><a href="#cb165-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Conversion de la variable ENFRED en facteur et de la variable COURED en caract√®res :</span></span>
<span id="cb165-2"><a href="#cb165-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb165-3"><a href="#cb165-3" aria-hidden="true" tabindex="-1"></a>EEC_2019 <span class="ot">&lt;-</span> EEC_2019 <span class="sc">%&gt;%</span></span>
<span id="cb165-4"><a href="#cb165-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ENFRED =</span> <span class="fu">as.factor</span>(ENFRED),</span>
<span id="cb165-5"><a href="#cb165-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">COURED =</span> <span class="fu">as.character</span>(COURED))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>ü§î Comment recoder ? ü§î</strong></p>
<ul>
<li><p>transformer les variables qualitatives en facteurs ;</p></li>
<li><p>ordonner les modalit√©s pour les variables qualitatives ordinales ;</p></li>
<li><p>convertir les variables num√©riques en num√©rique ;</p></li>
<li><p>recoder les valeurs manquantes (par exemple les caract√®res vides) ;</p></li>
<li><p>transformer les cha√Ænes de caract√®re en Date si n√©cessaire.</p></li>
</ul>
</div><div class="column" style="width:50%;">
<p>‚ùì <strong>Pourquoi recoder</strong> ‚ùì</p>
<ul>
<li><p>pour r√©aliser des statistiques descriptives plus rapidement, par exemple avec la fonction summary ;</p></li>
<li><p>pour que les fonctions √©conom√©triques d√©tectent une modalit√© de r√©f√©rence pertinente pour les variables ordinales ;</p></li>
<li><p>pour tracer des s√©ries temporelles dans le cas des dates‚Ä¶</p></li>
</ul>
</div>
</div>
</section>
</section>
<section id="statistiques-descriptives" class="level1">
<h1>Statistiques descriptives</h1>
<p>üß∞ La boite √† outil du statisticien :</p>
<section id="la-fonction-count" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="la-fonction-count">La fonction COUNT</h2>
<p><br></p>
<ul>
<li>Connaitre le nombre de lignes d‚Äôun dataframe
<ul>
<li>On peut √©galement avoir cette information dans le panneau ‚Äúenvironnement‚Äù</li>
</ul></li>
<li>Compter le nombre d‚Äôindividus dans une table exhaustive
<ul>
<li>‚õî Ne pas utiliser pour des donn√©es √©chantillon√©es ‚õî</li>
</ul></li>
</ul>
<div class="incremental">
<p>Ne pas calculer par exemple le nombre de ch√¥meurs au sens du BIT sans pond√©ration √† partir de l‚ÄôEEC :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb166"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb166-1"><a href="#cb166-1" aria-hidden="true" tabindex="-1"></a>chomeurs <span class="ot">&lt;-</span> EEC_2019 <span class="sc">%&gt;%</span> </span>
<span id="cb166-2"><a href="#cb166-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(ACTEU <span class="sc">==</span> <span class="st">"2"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb166-3"><a href="#cb166-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>()</span>
<span id="cb166-4"><a href="#cb166-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb166-5"><a href="#cb166-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste0</span>(<span class="st">"Le nombre de ch√¥meurs au sens du BIT N'EST PAS "</span>, <span class="fu">as.character</span>(chomeurs)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Le nombre de ch√¥meurs au sens du BIT N'EST PAS 18602"</code></pre>
</div>
</div>
</div>
</section>
<section id="la-fonction-summarise" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="la-fonction-summarise">La fonction summarise</h2>
<p><br></p>
<p>Cette fonction permet d‚Äôavoir un ensemble de <strong>statistiques descriptives</strong> : effectif, somme, moyenne, m√©diane, quantile, min, max‚Ä¶</p>
<p>Elle est fr√©quemment utilis√©e avec l‚Äôinstruction <code>group_by()</code>, qui permet d‚Äôeffectuer ces calculs au sein des groupes form√©s par les modalit√©s d‚Äôune variable.</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body" title="Group_by">
<p>Pour les habitu√©s de SQL, group_by n‚Äôest pas un mot cl√© mais une <strong>vraie fonction R</strong> avec une entr√©e et une sortie. Le r√©sultat est une table avec les m√™mes donn√©es mais un ¬´ index ¬ª en plus disant o√π sont les observations de chaque modalit√©. La pr√©sence de cet index change le fonctionnement de plusieurs fonctions de <code>dplyr</code> en les for√ßant √† travailler par morceau.</p>
</div>
</div>
</section>
<section id="la-fonction-summarise-1" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="la-fonction-summarise-1">La fonction summarise</h2>
<p><br></p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-15-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-15-1" role="tab" aria-controls="tabset-15-1" aria-selected="true">Effectif</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-15-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-15-2" role="tab" aria-controls="tabset-15-2" aria-selected="false">Somme, moyenne</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-15-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-15-3" role="tab" aria-controls="tabset-15-3" aria-selected="false">Distribution</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-15-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-15-4" role="tab" aria-controls="tabset-15-4" aria-selected="false">Plusieurs variables</a></li></ul>
<div class="tab-content">
<div id="tabset-15-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-15-1-tab">
<p>La fonction <code>n()</code> permet d‚Äôobtenir les effectifs.</p>
<p>Calcul du nombre de personnes de 30 ans ou moins :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb168"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb168-1"><a href="#cb168-1" aria-hidden="true" tabindex="-1"></a>eff_moins_30 <span class="ot">&lt;-</span> EEC_2019 <span class="sc">%&gt;%</span></span>
<span id="cb168-2"><a href="#cb168-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(AGE3 <span class="sc">&lt;=</span> <span class="dv">30</span>) <span class="sc">%&gt;%</span></span>
<span id="cb168-3"><a href="#cb168-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">eff_moins_30 =</span> <span class="fu">n</span>())</span>
<span id="cb168-4"><a href="#cb168-4" aria-hidden="true" tabindex="-1"></a>eff_moins_30</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  eff_moins_30
1       195851</code></pre>
</div>
</div>
<p>Calcul du nombre de personnes par classe d‚Äô√¢ge en 3 classes :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb170"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb170-1"><a href="#cb170-1" aria-hidden="true" tabindex="-1"></a>eff_age_classe <span class="ot">&lt;-</span> EEC_2019 <span class="sc">%&gt;%</span></span>
<span id="cb170-2"><a href="#cb170-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(AGE3) <span class="sc">%&gt;%</span></span>
<span id="cb170-3"><a href="#cb170-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">eff_age3 =</span> <span class="fu">n</span>())</span>
<span id="cb170-4"><a href="#cb170-4" aria-hidden="true" tabindex="-1"></a>eff_age_classe</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 √ó 2
   AGE3 eff_age3
  &lt;int&gt;    &lt;int&gt;
1    15    78826
2    30   117025
3    50   220447</code></pre>
</div>
</div>
<p>Calcul du nombre de personnes par SEXE :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb172"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb172-1"><a href="#cb172-1" aria-hidden="true" tabindex="-1"></a>eff_sexe <span class="ot">&lt;-</span> EEC_2019 <span class="sc">%&gt;%</span></span>
<span id="cb172-2"><a href="#cb172-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(SEXE) <span class="sc">%&gt;%</span></span>
<span id="cb172-3"><a href="#cb172-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">eff_sexe =</span> <span class="fu">n</span>())</span>
<span id="cb172-4"><a href="#cb172-4" aria-hidden="true" tabindex="-1"></a>eff_sexe</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 √ó 2
  SEXE  eff_sexe
  &lt;fct&gt;    &lt;int&gt;
1 Homme   196098
2 Femme   220200</code></pre>
</div>
</div>
</div>
<div id="tabset-15-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-15-2-tab">
<p>Les fonctions <code>sum()</code> et <code>mean()</code> peuvent √™tre utilis√©es √©galement avec <code>summarise()</code>.</p>
<div class="callout-warning callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Tout calcul impliquant un <code>NA</code> restitue un <code>NA</code></strong> : les op√©rations, les tests, les tris. Dans les calculs statistiques (par exemple avec les fonctions appel√©es par le <code>summarise</code> de dplyr utilis√© pour faire des r√©capitulations : comptages, totaux ou autres statistiques), il y a g√©n√©ralement un argument suppl√©mentaire <code>na.rm</code> (pour ‚Äúremove‚Äù) qui permet de ne pas tenir compte des valeurs manquantes, mais son positionnement par d√©faut est souvent √† ‚Äúfaux‚Äù (FALSE, ne pas enlever les valeurs manquantes du calcul).</p>
</div>
</div>
<p>‚ö†Ô∏è <strong>ATTENTION</strong> ‚ö†Ô∏è Les valeurs manquantes sont le principal point d‚Äôincompatibilit√© avec SAS et leur traitement n√©cessite de redoubler d‚Äôattention quand on convertit un programme car le fonctionnement est radicalement diff√©rent en R.</p>
<p>Calcul de la moyenne du nombre de jours travaill√©s par semaine par sexe :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb174"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb174-1"><a href="#cb174-1" aria-hidden="true" tabindex="-1"></a>EEC_jourtr_sexe <span class="ot">&lt;-</span> EEC_2019 <span class="sc">%&gt;%</span></span>
<span id="cb174-2"><a href="#cb174-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(SEXE) <span class="sc">%&gt;%</span></span>
<span id="cb174-3"><a href="#cb174-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">moy_jour_tr =</span> <span class="fu">mean</span>(JOURTR, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb174-4"><a href="#cb174-4" aria-hidden="true" tabindex="-1"></a>EEC_jourtr_sexe</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 √ó 2
  SEXE  moy_jour_tr
  &lt;fct&gt;       &lt;dbl&gt;
1 Homme        5.01
2 Femme        4.74</code></pre>
</div>
</div>
</div>
<div id="tabset-15-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-15-3-tab">
<p><code>summarise()</code> est √©galement utile pour des statistiques de distribution.</p>
<p>Calcul de statistiques de distribution du nombre de jours travaill√©s par semaine par classe d‚Äô√¢ge :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb176"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb176-1"><a href="#cb176-1" aria-hidden="true" tabindex="-1"></a>EEC_jourtr_age <span class="ot">&lt;-</span> EEC_2019 <span class="sc">%&gt;%</span></span>
<span id="cb176-2"><a href="#cb176-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(AGE3) <span class="sc">%&gt;%</span></span>
<span id="cb176-3"><a href="#cb176-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">min_jour_tr =</span> <span class="fu">min</span>(JOURTR, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb176-4"><a href="#cb176-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">q1_jour_tr =</span> <span class="fu">quantile</span>(JOURTR, <span class="at">na.rm =</span> <span class="cn">TRUE</span>, <span class="at">probs =</span> <span class="fl">0.25</span>),</span>
<span id="cb176-5"><a href="#cb176-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">med_jour_tr =</span> <span class="fu">median</span>(JOURTR, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb176-6"><a href="#cb176-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">q3_jour_tr =</span> <span class="fu">quantile</span>(JOURTR, <span class="at">na.rm =</span> <span class="cn">TRUE</span>, <span class="at">probs =</span> <span class="fl">0.75</span>),</span>
<span id="cb176-7"><a href="#cb176-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">max_jour_tr =</span> <span class="fu">max</span>(JOURTR, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb176-8"><a href="#cb176-8" aria-hidden="true" tabindex="-1"></a>EEC_jourtr_age</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 √ó 6
   AGE3 min_jour_tr q1_jour_tr med_jour_tr q3_jour_tr max_jour_tr
  &lt;int&gt;       &lt;dbl&gt;      &lt;dbl&gt;       &lt;dbl&gt;      &lt;dbl&gt;       &lt;dbl&gt;
1    15         0.5          5           5          5           7
2    30         0.5          5           5          5           7
3    50         0.5          5           5          5           7</code></pre>
</div>
</div>
</div>
<div id="tabset-15-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-15-4-tab">
<p>Il est possible de renseigner plusieurs variables dans l‚Äôinstruction <code>group_by()</code>. Les statistiques demand√©es dans <code>summarise()</code> sont alors calcul√©es au sein de chaque classe form√©e par le croisement des modalit√©s des deux variables.</p>
<p>‚ö†Ô∏è <strong>ATTENTION</strong> ‚ö†Ô∏è la valeur par d√©faut de l‚Äôargument <code>drop_last</code> de la fonction <code>summarise()</code> est <code>TRUE</code>, ce qui implique que le dernier niveau de regroupement (la derni√®re variable renseign√©e dans le <code>group_by()</code>) est supprim√© √† l‚Äôissue de l‚Äôapplication de la fonction <code>summarise()</code>. Un <code>warning</code> le pr√©cise dans la console lorsque cette fonction est utilis√©e avec plusieurs variables de regroupement.</p>
<p>Calcul de la moyenne de jours travaill√©s par semaine par groupe de sexe crois√© avec l‚Äô√¢ge en 3 classes :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb178"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb178-1"><a href="#cb178-1" aria-hidden="true" tabindex="-1"></a>EEC_jourtr_sexe_age <span class="ot">&lt;-</span> EEC_2019 <span class="sc">%&gt;%</span></span>
<span id="cb178-2"><a href="#cb178-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(SEXE, AGE3) <span class="sc">%&gt;%</span></span>
<span id="cb178-3"><a href="#cb178-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">moy_jour_tr =</span> <span class="fu">mean</span>(JOURTR, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'SEXE'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb180"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb180-1"><a href="#cb180-1" aria-hidden="true" tabindex="-1"></a>EEC_jourtr_sexe_age</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 √ó 3
# Groups:   SEXE [2]
  SEXE   AGE3 moy_jour_tr
  &lt;fct&gt; &lt;int&gt;       &lt;dbl&gt;
1 Homme    15        4.94
2 Homme    30        5.02
3 Homme    50        5.02
4 Femme    15        4.71
5 Femme    30        4.76
6 Femme    50        4.73</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="regrouper-par-cat√©gorie" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="regrouper-par-cat√©gorie">Regrouper par cat√©gorie</h2>
<p>L‚Äôop√©rateur pipe <code>%&gt;%</code> permet d‚Äôencha√Æner les op√©rations sur une table de donn√©es.</p>
<p>Il faut faire attention √† cet encha√Ænement lorsqu‚Äôon utilise l‚Äôinstruction <code>group_by</code>. Cette instruction peut √™tre utilis√©e avec d‚Äôautres fonctions de <code>dplyr</code> (<code>filter()</code> et <code>mutate()</code> par exemple), mais elle ne se comporte pas de la m√™me mani√®re avec toutes les fonctions. En effet, le dernier niveau de regroupement (la derni√®re variable renseign√©e dans le <code>group_by()</code>) est supprim√© √† l‚Äôissue de l‚Äôapplication de la fonction <code>summarise()</code>, tandis que ce n‚Äôest pas le cas avec les fonctions <code>mutate()</code> et <code>filter()</code>.</p>
<p>Ainsi, il est possible d‚Äôutiliser l‚Äôinstruction <code>ungroup()</code> pour rem√©dier au regroupement des observations dans la suite des op√©rations sur la table.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb182"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb182-1"><a href="#cb182-1" aria-hidden="true" tabindex="-1"></a>ex_plusieurs_gpes <span class="ot">&lt;-</span> EEC_2019 <span class="sc">%&gt;%</span></span>
<span id="cb182-2"><a href="#cb182-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(SEXE, AGE3) <span class="sc">%&gt;%</span></span>
<span id="cb182-3"><a href="#cb182-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">moy_jour_tr =</span> <span class="fu">mean</span>(JOURTR, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb182-4"><a href="#cb182-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb182-5"><a href="#cb182-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(SEXE, moy_jour_tr, AGE3) <span class="sc">%&gt;%</span></span>
<span id="cb182-6"><a href="#cb182-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(SEXE) <span class="sc">%&gt;%</span></span>
<span id="cb182-7"><a href="#cb182-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(moy_jour_tr <span class="sc">==</span> <span class="fu">min</span>(moy_jour_tr))</span>
<span id="cb182-8"><a href="#cb182-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-9"><a href="#cb182-9" aria-hidden="true" tabindex="-1"></a>ex_plusieurs_gpes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 √ó 3
# Groups:   SEXE [2]
  SEXE  moy_jour_tr  AGE3
  &lt;fct&gt;       &lt;dbl&gt; &lt;int&gt;
1 Homme        4.94    15
2 Femme        4.71    15</code></pre>
</div>
</div>
</section>
<section id="trier-ses-donn√©es" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="trier-ses-donn√©es">Trier ses donn√©es</h2>
<p>Lorsqu‚Äôon utilise un regroupement, le r√©sultat est tri√© en majeur selon ce regroupement. Si on souhaite effectuer un autre tri, il faut d√©clencher le tri avec la fonction <code>arrange()</code>. Le mot cl√© <code>desc</code> (malgr√© la syntaxe, ce n‚Äôest pas une fonction) permet de trier par ordre d√©croissant. Il est possible d‚Äôutiliser plusieurs colonnes pour le tri.</p>
<p>üëÅÔ∏è‚Äçüó®Ô∏è <strong>REMARQUE</strong> üëÅÔ∏è‚Äçüó®Ô∏è Contrairement √† SAS o√π trier est la proc√©dure la plus utilis√©e, R se charge de lui m√™me de faire les tris dont il pourrait avoir besoin. Trier n‚Äôa g√©n√©ralement un sens que pour organiser la pr√©sentation de r√©sultats.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb184"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb184-1"><a href="#cb184-1" aria-hidden="true" tabindex="-1"></a>ex_arrange <span class="ot">&lt;-</span> EEC_2019 <span class="sc">%&gt;%</span></span>
<span id="cb184-2"><a href="#cb184-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(SEXE, AGE3, JOURTR) <span class="sc">%&gt;%</span></span>
<span id="cb184-3"><a href="#cb184-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(SEXE, AGE3) <span class="sc">%&gt;%</span></span>
<span id="cb184-4"><a href="#cb184-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">moy_jour_tr =</span> <span class="fu">mean</span>(JOURTR, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb184-5"><a href="#cb184-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(moy_jour_tr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'SEXE'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb186"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb186-1"><a href="#cb186-1" aria-hidden="true" tabindex="-1"></a>ex_arrange</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 √ó 3
# Groups:   SEXE [2]
  SEXE   AGE3 moy_jour_tr
  &lt;fct&gt; &lt;int&gt;       &lt;dbl&gt;
1 Femme    15        4.71
2 Femme    50        4.73
3 Femme    30        4.76
4 Homme    15        4.94
5 Homme    50        5.02
6 Homme    30        5.02</code></pre>
</div>
</div>
<p>REMARQUE : Contrairement √† SAS o√π trier est la proc√©dure la plus utilis√©e, R se charge de lui m√™me de faire les tris dont il pourrait avoir besoin. Trier n‚Äôa g√©n√©ralement un sens que pour organiser la pr√©sentation de r√©sultats.</p>
<section id="connaitre-le-num√©ro-de-ligne" class="level3">
<h3 class="anchored" data-anchor-id="connaitre-le-num√©ro-de-ligne">Connaitre le num√©ro de ligne</h3>
<p>La fonction <code>row_number()</code> permet de conna√Ætre l‚Äôordre de classement de l‚Äôobservation dans la table.</p>
<p>Les fonctions <code>first()</code> et <code>last()</code> permettent de r√©cup√©rer respectivement la premi√®re et la derni√®re observation d‚Äôun groupe.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb188"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb188-1"><a href="#cb188-1" aria-hidden="true" tabindex="-1"></a>ex_arrange_2 <span class="ot">&lt;-</span> EEC_2019 <span class="sc">%&gt;%</span></span>
<span id="cb188-2"><a href="#cb188-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(SEXE, AGE3, JOURTR) <span class="sc">%&gt;%</span></span>
<span id="cb188-3"><a href="#cb188-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(SEXE, AGE3) <span class="sc">%&gt;%</span></span>
<span id="cb188-4"><a href="#cb188-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">moy_jour_tr =</span> <span class="fu">mean</span>(JOURTR, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb188-5"><a href="#cb188-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(moy_jour_tr) <span class="sc">%&gt;%</span></span>
<span id="cb188-6"><a href="#cb188-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">numero =</span> <span class="fu">row_number</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'SEXE'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb190"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb190-1"><a href="#cb190-1" aria-hidden="true" tabindex="-1"></a>ex_arrange_2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 √ó 4
# Groups:   SEXE [2]
  SEXE   AGE3 moy_jour_tr numero
  &lt;fct&gt; &lt;int&gt;       &lt;dbl&gt;  &lt;int&gt;
1 Femme    15        4.71      1
2 Femme    50        4.73      2
3 Femme    30        4.76      3
4 Homme    15        4.94      1
5 Homme    50        5.02      2
6 Homme    30        5.02      3</code></pre>
</div>
</div>
</section>
</section>
<section id="travailler-avec-des-donn√©es-pond√©r√©es" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="travailler-avec-des-donn√©es-pond√©r√©es">Travailler avec des donn√©es pond√©r√©es</h2>
<p>Le package <code>Hmisc</code> permet de traiter des donn√©es pond√©r√©es.</p>
<p>Des fonctions utilisant des pond√©rations se trouvent dans le package Hmisc, elles utilisent un argument suppl√©mentaire <code>weights</code> qui permet de passer la colonne contenant les pond√©rations. Il s‚Äôagit de :</p>
<ul>
<li><p><code>wtd.mean</code> : la moyenne</p></li>
<li><p><code>wtd.var</code> : la variance (en d√©duire l‚Äô√©cart type si besoin)</p></li>
<li><p><code>wtd.quantile</code> : un quantile, plusieurs algorithmes sont impl√©ment√©s, mais aucun ne correspond √† ce que fait SAS.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb192"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb192-1"><a href="#cb192-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">age =</span> <span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>, <span class="dv">60</span>), <span class="at">poids=</span><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">3</span>))</span>
<span id="cb192-2"><a href="#cb192-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb192-3"><a href="#cb192-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Hmisc)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: le package 'Hmisc' a √©t√© compil√© avec la version R 4.2.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attachement du package : 'Hmisc'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Les objets suivants sont masqu√©s depuis 'package:dplyr':

    src, summarize</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Les objets suivants sont masqu√©s depuis 'package:base':

    format.pval, units</code></pre>
</div>
<div class="sourceCode cell-code" id="cb197"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb197-1"><a href="#cb197-1" aria-hidden="true" tabindex="-1"></a>new_df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb197-2"><a href="#cb197-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">quartile1 =</span> <span class="fu">wtd.quantile</span>(age,<span class="at">w=</span>poids,<span class="at">probs=</span>.<span class="dv">25</span>),</span>
<span id="cb197-3"><a href="#cb197-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">mediane =</span> <span class="fu">wtd.quantile</span>(age,<span class="at">w=</span>poids,<span class="at">probs=</span>.<span class="dv">5</span>),</span>
<span id="cb197-4"><a href="#cb197-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">moyenne =</span> <span class="fu">wtd.mean</span>(age,<span class="at">w=</span>poids))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="concat√©nations" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="concat√©nations">Concat√©nations</h2>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-16-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-16-1" role="tab" aria-controls="tabset-16-1" aria-selected="true">Des lignes</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-16-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-16-2" role="tab" aria-controls="tabset-16-2" aria-selected="false">Des colonnes</a></li></ul>
<div class="tab-content">
<div id="tabset-16-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-16-1-tab">
<p><br></p>
<p>Mettre les lignes d‚Äôune table derri√®re les lignes d‚Äôune autre : la fonction <code>bind_rows()</code></p>
<ul>
<li><p>Les deux listes de colonnes peuvent ne pas √™tre strictement identiques : les donn√©es ne sont mises bout √† bout que si les noms des colonnes co√Øncident, sinon des valeurs manquantes sont g√©n√©r√©es.</p></li>
<li><p>Les colonnes peuvent √™tre dans un <strong>ordre diff√©rent</strong> dans les deux tables, la fonction se charge de les r√©ordonner.</p></li>
<li><p>Par contre <strong>une colonne de m√™me nom doit avoir le m√™me type dans les deux tables</strong> ou la concat√©nation ne se fait pas.</p></li>
</ul>
</div>
<div id="tabset-16-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-16-2-tab">
<p><br></p>
<p>Mettre les colonnes d‚Äôune table √† cot√© des colonnes d‚Äôune autre : la fonction <code>bind_cols()</code>.</p>
<ul>
<li><p>Le <strong>nombre de lignes doit co√Øncider</strong> dans les deux tables : c‚Äôest un garde-fou contre les erreurs de manipulation, car la fonction ne r√©alise pas une jointure mais une simple juxtaposition.</p></li>
<li><p>L‚Äôusage de cette fonction est donc <strong>plus rare</strong> et limit√© aux situations o√π on est absolument s√ªr d‚Äôavoir le bon nombre de lignes et des donn√©es qui sont rang√©es de la m√™me fa√ßon dans les deux tables.</p></li>
</ul>
</div>
</div>
</div>
</section>
<section id="jointures" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="jointures">Jointures</h2>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-17-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-17-1" role="tab" aria-controls="tabset-17-1" aria-selected="true">A gauche/√† droite</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-17-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-17-2" role="tab" aria-controls="tabset-17-2" aria-selected="false">Interne</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-17-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-17-3" role="tab" aria-controls="tabset-17-3" aria-selected="false">Externe</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-17-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-17-4" role="tab" aria-controls="tabset-17-4" aria-selected="false">Anti_join</a></li></ul>
<div class="tab-content">
<div id="tabset-17-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-17-1-tab">
<p><br></p>
<div class="columns">
<div class="column" style="width:70%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb198"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb198-1"><a href="#cb198-1" aria-hidden="true" tabindex="-1"></a>table_jointe <span class="ot">&lt;-</span> table_1 <span class="sc">%&gt;%</span></span>
<span id="cb198-2"><a href="#cb198-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(table_2, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"var1_table1"</span> <span class="ot">=</span> <span class="st">"var2_table2"</span>,</span>
<span id="cb198-3"><a href="#cb198-3" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"var3_table1"</span> <span class="ot">=</span> <span class="st">"var4_table2"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:30%;">
<p><img src="images/left_join.png" class="img-fluid"></p>
</div>
</div>
</div>
<div id="tabset-17-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-17-2-tab">
<p><br></p>
<div class="columns">
<div class="column" style="width:70%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb199"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb199-1"><a href="#cb199-1" aria-hidden="true" tabindex="-1"></a>table_jointe <span class="ot">&lt;-</span> table_1 <span class="sc">%&gt;%</span></span>
<span id="cb199-2"><a href="#cb199-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(table_2, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"var1_table1"</span> <span class="ot">=</span> <span class="st">"var2_table2"</span>,</span>
<span id="cb199-3"><a href="#cb199-3" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"var3_table1"</span> <span class="ot">=</span> <span class="st">"var4_table2"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:30%;">
<p><img src="images/inner_join.png" class="img-fluid"></p>
</div>
</div>
</div>
<div id="tabset-17-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-17-3-tab">
<p><br></p>
<div class="columns">
<div class="column" style="width:70%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb200"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb200-1"><a href="#cb200-1" aria-hidden="true" tabindex="-1"></a>table_jointe <span class="ot">&lt;-</span> table_1 <span class="sc">%&gt;%</span></span>
<span id="cb200-2"><a href="#cb200-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(table_2, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"var1_table1"</span> <span class="ot">=</span> <span class="st">"var2_table2"</span>,</span>
<span id="cb200-3"><a href="#cb200-3" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"var3_table1"</span> <span class="ot">=</span> <span class="st">"var4_table2"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:30%;">
<p><img src="images/full_join.png" class="img-fluid"></p>
</div>
</div>
</div>
<div id="tabset-17-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-17-4-tab">
<p><br></p>
<p>Pour r√©cup√©rer les observations de la table de gauche qui sont absentes de la table de droite.</p>
<div class="columns">
<div class="column" style="width:70%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb201"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb201-1"><a href="#cb201-1" aria-hidden="true" tabindex="-1"></a>table_jointe <span class="ot">&lt;-</span> table_1 <span class="sc">%&gt;%</span></span>
<span id="cb201-2"><a href="#cb201-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">anti_join</span>(table_2, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"var1_table1"</span> <span class="ot">=</span> <span class="st">"var2_table2"</span>,</span>
<span id="cb201-3"><a href="#cb201-3" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"var3_table1"</span> <span class="ot">=</span> <span class="st">"var4_table2"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:30%;">
<p><img src="images/anti_join.png" class="img-fluid"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="transpositions" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="transpositions">Transpositions</h2>
<p><br></p>
<p>Pour pivoter des donn√©es, il est possible d‚Äôutiliser les fonctions <code>pivot_longer()</code> et <code>pivot_wider()</code> du package <code>tidyr</code>.</p>
<p>Par exemple, pour la fonction <code>pivot_longer()</code>, la syntaxe est la suivante : <code>pivot_longer(cols = c("Var_1_pivotee", "Var_2_pivotee"), names_to = c("nom_de_la_nouvelle_colonne"))</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb202"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb202-1"><a href="#cb202-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb202-2"><a href="#cb202-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb202-3"><a href="#cb202-3" aria-hidden="true" tabindex="-1"></a>ex_pivot <span class="ot">&lt;-</span> EEC_2019 <span class="sc">%&gt;%</span></span>
<span id="cb202-4"><a href="#cb202-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(SEXE, AGE3, JOURTR) <span class="sc">%&gt;%</span></span>
<span id="cb202-5"><a href="#cb202-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(SEXE, AGE3) <span class="sc">%&gt;%</span></span>
<span id="cb202-6"><a href="#cb202-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">moy_jour_tr =</span> <span class="fu">mean</span>(JOURTR, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb202-7"><a href="#cb202-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">med_jour_tr =</span> <span class="fu">median</span>(JOURTR, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb202-8"><a href="#cb202-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb202-9"><a href="#cb202-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(<span class="st">"moy_jour_tr"</span>, <span class="st">"med_jour_tr"</span>), <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">"indicateur"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'SEXE'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb204"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb204-1"><a href="#cb204-1" aria-hidden="true" tabindex="-1"></a>ex_pivot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 √ó 4
   SEXE   AGE3 indicateur  value
   &lt;fct&gt; &lt;int&gt; &lt;chr&gt;       &lt;dbl&gt;
 1 Homme    15 moy_jour_tr  4.94
 2 Homme    15 med_jour_tr  5   
 3 Homme    30 moy_jour_tr  5.02
 4 Homme    30 med_jour_tr  5   
 5 Homme    50 moy_jour_tr  5.02
 6 Homme    50 med_jour_tr  5   
 7 Femme    15 moy_jour_tr  4.71
 8 Femme    15 med_jour_tr  5   
 9 Femme    30 moy_jour_tr  4.76
10 Femme    30 med_jour_tr  5   
11 Femme    50 moy_jour_tr  4.73
12 Femme    50 med_jour_tr  5   </code></pre>
</div>
</div>
<p>L‚Äôarticle <a href="https://od-datamining.com/knwbase/pivots_r_fille/">Les pivots expliqu√©s √† ma fille</a> est particuli√®rement bien fait sur le sujet.</p>
</section>
<section id="graphiques-avec-plot" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="graphiques-avec-plot">Graphiques avec plot</h2>
<p>Voici une pr√©sentation succinte de quelques fonctions usuelles de Rbase permettant de faire des graphiques :</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-18-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-18-1" role="tab" aria-controls="tabset-18-1" aria-selected="true">Barplot</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-18-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-18-2" role="tab" aria-controls="tabset-18-2" aria-selected="false">Hist</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-18-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-18-3" role="tab" aria-controls="tabset-18-3" aria-selected="false">Plot</a></li></ul>
<div class="tab-content">
<div id="tabset-18-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-18-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb206"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb206-1"><a href="#cb206-1" aria-hidden="true" tabindex="-1"></a>ex_barplot <span class="ot">&lt;-</span> EEC_2019 <span class="sc">%&gt;%</span></span>
<span id="cb206-2"><a href="#cb206-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(SEXE, JOURTR) <span class="sc">%&gt;%</span></span>
<span id="cb206-3"><a href="#cb206-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(SEXE) <span class="sc">%&gt;%</span></span>
<span id="cb206-4"><a href="#cb206-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">moy_jour_tr =</span> <span class="fu">mean</span>(JOURTR, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb206-5"><a href="#cb206-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb206-6"><a href="#cb206-6" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(ex_barplot<span class="sc">$</span>moy_jour_tr, <span class="at">legend.text =</span> ex_barplot<span class="sc">$</span>SEXE)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="slides_files/figure-html/unnamed-chunk-102-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-18-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-18-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb207"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb207-1"><a href="#cb207-1" aria-hidden="true" tabindex="-1"></a>ex_hist <span class="ot">&lt;-</span> EEC_2019 <span class="sc">%&gt;%</span></span>
<span id="cb207-2"><a href="#cb207-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(JOURTR)</span>
<span id="cb207-3"><a href="#cb207-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb207-4"><a href="#cb207-4" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(ex_hist<span class="sc">$</span>JOURTR)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="slides_files/figure-html/unnamed-chunk-103-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-18-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-18-3-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb208"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb208-1"><a href="#cb208-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(iris)</span>
<span id="cb208-2"><a href="#cb208-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">x =</span> iris<span class="sc">$</span>Sepal.Length, <span class="at">y =</span> iris<span class="sc">$</span>Sepal.Width)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="slides_files/figure-html/unnamed-chunk-104-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="ressources-sur-ggplot2" class="level2 scrollable smaller">
<h2 class="scrollable smaller anchored" data-anchor-id="ressources-sur-ggplot2">Ressources sur ggplot2</h2>
<p><br></p>
<p>Le package <code>ggplot2</code> permet de cr√©er des graphiques tr√®s souplement, en modifiant une grande partie des param√®tres. Il ne fait pas l‚Äôobjet d‚Äôune pr√©sentation ici, mais pour s‚Äôy former, la fiche UtilitR sur le sujet <a href="https://www.book.utilitr.org/03_fiches_thematiques/fiche_graphiques">UtilitR-Ggplot2</a> , ainsi que le site <a href="https://r-graph-gallery.com/">R-graph-gallery</a> vous sont recommand√©s.</p>
<p>Enfin, pour avoir des recommandations sur les diff√©rents types de visualisation possibles selon la nature des variables √† repr√©senter, le site <a href="https://www.data-to-viz.com/">From Data to Viz</a> est tr√®s utile.</p>
</section>
</section>
<section id="exporter-des-donn√©es" class="level1 scrollable smaller">
<h1 class="scrollable smaller">Exporter des donn√©es</h1>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-19-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-19-1" role="tab" aria-controls="tabset-19-1" aria-selected="true">En Excel : UtilitR</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-19-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-19-2" role="tab" aria-controls="tabset-19-2" aria-selected="false">En CSV</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-19-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-19-3" role="tab" aria-controls="tabset-19-3" aria-selected="false">En PNG</a></li></ul>
<div class="tab-content">
<div id="tabset-19-1" class="scrollable smaller tab-pane active" role="tabpanel" aria-labelledby="tabset-19-1-tab">
<p>Pour l‚Äôexportation de donn√©es au format <strong>xlsx</strong>, le package <code>openxlsx</code> est √† privil√©gier car il pr√©sente de multiples options tr√®s pratiques pour personnaliser les exports.</p>
<p>Les <a href="https://ycphs.github.io/openxlsx/articles/Introduction.html">deux vignettes</a> du package sur ce sujet apportent quelques exemples des potentialit√©s d‚Äô√©criture de classeurs xlsx. La premi√®re pr√©sente notamment l‚Äôutilisation de la fonction <code>write.xlsx()</code> et la seconde illustre quelques possibilit√©s autour de la fonction <code>writeData()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb209"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb209-1"><a href="#cb209-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb209-2"><a href="#cb209-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb209-3"><a href="#cb209-3" aria-hidden="true" tabindex="-1"></a>eff_par_age <span class="ot">&lt;-</span> EEC_2019 <span class="sc">%&gt;%</span></span>
<span id="cb209-4"><a href="#cb209-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(AGE3) <span class="sc">%&gt;%</span></span>
<span id="cb209-5"><a href="#cb209-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">eff_par_age =</span> <span class="fu">n</span>())</span>
<span id="cb209-6"><a href="#cb209-6" aria-hidden="true" tabindex="-1"></a>eff_par_age</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 √ó 2
   AGE3 eff_par_age
  &lt;int&gt;       &lt;int&gt;
1    15       78826
2    30      117025
3    50      220447</code></pre>
</div>
<div class="sourceCode cell-code" id="cb211"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb211-1"><a href="#cb211-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(openxlsx)</span>
<span id="cb211-2"><a href="#cb211-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb211-3"><a href="#cb211-3" aria-hidden="true" tabindex="-1"></a><span class="fu">write.xlsx</span>(eff_par_age, <span class="at">file =</span> <span class="st">"mon_export.xlsx"</span>, <span class="at">asTable =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-19-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-19-2-tab">
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb212"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb212-1"><a href="#cb212-1" aria-hidden="true" tabindex="-1"></a>eff_par_age <span class="ot">&lt;-</span> EEC_2019 <span class="sc">%&gt;%</span></span>
<span id="cb212-2"><a href="#cb212-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(AGE3) <span class="sc">%&gt;%</span></span>
<span id="cb212-3"><a href="#cb212-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">eff_par_age =</span> <span class="fu">n</span>())</span>
<span id="cb212-4"><a href="#cb212-4" aria-hidden="true" tabindex="-1"></a>eff_par_age</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 √ó 2
   AGE3 eff_par_age
  &lt;int&gt;       &lt;int&gt;
1    15       78826
2    30      117025
3    50      220447</code></pre>
</div>
<div class="sourceCode cell-code" id="cb214"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb214-1"><a href="#cb214-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(<span class="at">x =</span> eff_par_age, <span class="at">file =</span> <span class="st">"monFichier.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-19-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-19-3-tab">
<p><br></p>
<p>Pour exporter un graphique :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb215"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb215-1"><a href="#cb215-1" aria-hidden="true" tabindex="-1"></a><span class="fu">png</span>(<span class="at">filename =</span> <span class="st">"mon_graphique.png"</span>, <span class="at">width =</span> <span class="dv">500</span>, <span class="at">height =</span> <span class="dv">300</span>)</span>
<span id="cb215-2"><a href="#cb215-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(EEC_2019<span class="sc">$</span>JOURTR)</span>
<span id="cb215-3"><a href="#cb215-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dev.off</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>png 
  2 </code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="aide-pour-r" class="level1 scrollable smaller">
<h1 class="scrollable smaller">Aide pour R</h1>
<ul>
<li><p>cheatsheets disponibles sur UtilitR √† avoir en local</p></li>
<li><p>utilitR</p></li>
<li><p>stackoverflow</p></li>
<li><p>issues github sur le sujet</p></li>
<li><p>forums internes : tchap Outils Stats v2, Langage R, Dares entraide Git et R</p></li>
<li><p>vos coll√®gues</p></li>
<li><p>nous</p></li>
<li><p>des ateliers th√©matiques</p></li>
</ul>
</section>
<section id="bibliographie" class="level1">
<h1>Bibliographie</h1>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-right">Ce site a √©t√© cr√©√© avec <a href="https://quarto.org/">Quarto</a></div>
  </div>
</footer>



</body></html>